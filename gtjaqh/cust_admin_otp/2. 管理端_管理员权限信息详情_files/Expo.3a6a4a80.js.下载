var dB=Object.defineProperty;var pB=(Ce,Rt,vn)=>Rt in Ce?dB(Ce,Rt,{enumerable:!0,configurable:!0,writable:!0,value:vn}):Ce[Rt]=vn;var A=(Ce,Rt,vn)=>(pB(Ce,typeof Rt!="symbol"?Rt+"":Rt,vn),vn);(function(Ce,Rt){typeof exports=="object"&&typeof module<"u"?module.exports=Rt(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],Rt):(Ce=typeof globalThis<"u"?globalThis:Ce||self,Ce.Expo=Rt(Ce.$))})(this,function(Ce){"use strict";function Rt(i,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in i)){const s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}const vn="";function nS(i,...e){return i.sort((t,r)=>{let n=0;for(const s of e){const{value1:o,value2:a,descending:l}=sS(s,t,r);if(n=oS(o,a,l),n!==0)break}return n})}function sS(i,e,t){const r=i(e),n=i(t);let s=!1,o,a;return hd(r)&&hd(n)?(s=r.descending||!1,o=r.value,a=n.value):(o=r,a=n),{value1:o,value2:a,descending:s}}function hd(i){return typeof i=="object"&&i!==null&&!(i instanceof Date)}function oS(i,e,t=!1){return t&&([i,e]=[e,i]),!isNaN(i)&&!isNaN(e)?i-e:i===null&&e===null?0:([i,e]=[i,e].map(r=>(r||"").toString().toLocaleLowerCase()),i>e?1:i<e?-1:0)}function aS(i,e){const t=[];let r=[],n=0,s=0;const o=i.length;for(;n<o;)r.push(i[n]),s++,s===e&&(t.push(r),r=[],s=0),n++;return r.length&&t.push(r),t}function ud(i){return i.reduce((e,t)=>e.concat(Array.isArray(t)?ud(t):t),[])}function lS(i,e,t){return t.indexOf(i)===e}var fd=globalThis&&globalThis.__spreadArray||function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,s;r<n;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return i.concat(s||Array.prototype.slice.call(e))},cS=function(){function i(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return i}(),hS=function(){function i(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return i}(),uS=function(){function i(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"}return i}(),fS=function(){function i(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return i}(),dS=function(){function i(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return i}(),pS=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,gS=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,dd=3,mS=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",pS]],pd=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vS(i){return i?gd(i):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dS:typeof navigator<"u"?gd(navigator.userAgent):wS()}function yS(i){return i!==""&&mS.reduce(function(e,t){var r=t[0],n=t[1];if(e)return e;var s=n.exec(i);return!!s&&[r,s]},!1)}function gd(i){var e=yS(i);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new fS;var n=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);n?n.length<dd&&(n=fd(fd([],n,!0),SS(dd-n.length),!0)):n=[];var s=n.join("."),o=bS(i),a=gS.exec(i);return a&&a[1]?new uS(t,s,o,a[1]):new cS(t,s,o)}function bS(i){for(var e=0,t=pd.length;e<t;e++){var r=pd[e],n=r[0],s=r[1],o=s.exec(i);if(o)return n}return null}function wS(){var i=typeof process<"u"&&process.version;return i?new hS(process.version.slice(1)):null}function SS(i){for(var e=[],t=0;t<i;t++)e.push("0");return e}function uc(i){return i.split(".").pop()}function ko(i,e,t=!0){return i==null||e==null?!1:t?i.localeCompare(e,"en",{sensitivity:"base"})===0:i.length!==e.length?!1:i.toLowerCase()===e.toLowerCase()}function md(i){return i.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,e=>/[À-ž]/.test(e)?e:"-").replace(/^-+|-+$/g,"").toLowerCase()}function xS(i){const e=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g;return i.replace(e,t=>`-${t.toLowerCase()}`)}function OS(i){return i.replace(/(^\/|[^:]\/)\/+/g,"$1")}function CS(i){return i.toLowerCase().startsWith("https://")}function kS(i){return i.toLowerCase().startsWith("http://")}function yn(i){return i==null||i.trim()===""}function AS(i){return yn(i)?!1:i.trim().toLowerCase()==="true"}function Ft(i){return i.replace(/-/g,"")}const fc="00000000-0000-0000-0000-000000000000",ft=[];for(let i=0;i<256;i++)ft[i]=(i<16?"0":"")+i.toString(16);function _S(i,e){const t=new Uint32Array(4),r=e&&window.crypto!=null&&window.crypto.getRandomValues!=null;r&&window.crypto.getRandomValues(t);const n=r?t[0]*4294967296>>>0:Math.random()*4294967295|0,s=r?t[1]*4294967296>>>0:Math.random()*4294967295|0,o=r?t[2]*4294967296>>>0:Math.random()*4294967295|0,a=r?t[3]*4294967296>>>0:Math.random()*4294967295|0;return ft[n&255]+ft[n>>8&255]+ft[n>>16&255]+ft[n>>24&255]+(i?"-":"")+ft[s&255]+ft[s>>8&255]+(i?"-":"")+ft[s>>16&15|64]+ft[s>>24&255]+(i?"-":"")+ft[o&63|128]+ft[o>>8&255]+(i?"-":"")+ft[o>>16&255]+ft[o>>24&255]+ft[a&255]+ft[a>>8&255]+ft[a>>16&255]+ft[a>>24&255]}function dc(i,e){const t=i.split("?");return t.length<2?"":PS(t,e)}function PS(i,e){const t=i[1].split("&"),r=[];let n,s="";for(let o=0;o<t.length;o++)n=t[o].split("="),r[o]=[],r[o][0]=n[0],r[o][1]=n[1];for(const o of r)if(o[0].toLowerCase()===e.toLowerCase()){s=o[1];break}return s}function pc(){function i(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return`${i()}${i()}-${i()}-${i()}-${i()}-${i()}${i()}${i()}`}const ES=async i=>{try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(i)}catch{vd(i)}else vd(i);return!0}catch(e){return console.warn("Copy to clipboard failed.",e),!1}};function vd(i){let e=null;try{return e=document.createElement("textarea"),e.textContent=i,e.style.position="fixed",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy")}finally{e&&document.body.removeChild(e)}}function bn(i,e,t){for(let r=0,n=e.length;r<n;r++)i.addEventListener(e[r],t)}function Vr(i,e,t){for(let r=0,n=e.length;r<n;r++)i.removeEventListener(e[r],t)}function TS(i,e){const t=document.createElement("a"),r=document.createElement("a");return t.href=i,r.href=e,t.hostname===r.hostname&&t.port===r.port&&t.protocol===r.protocol}const IS={esc:27,tab:9,enter:13,space:32,comma:188,up:38,left:37,right:39,down:40,backspace:8,delete:[8,46],a:65,colon:186},RS={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",comma:",",up:"ArrowUp",left:"ArrowLeft",right:"ArrowRight",down:"ArrowDown",backspace:"Backspace",delete:"Delete",a:"a",colon:":"},DS=(i,e)=>{if(!(i instanceof KeyboardEvent))return!1;const t=IS[e];return t&&(Array.isArray(t)&&t.includes(i.keyCode)||i.keyCode===t)?!0:ko(i.key,RS[e])},Fi=vS();Fi&&Fi.name,Fi&&Fi.name,Fi&&(Fi.os==="iOS"||Fi.os),Fi&&Fi.version;function Ve(i,e=0){const t=Math.pow(10,e);return Math.round(i*t)/t}function LS(i){return new Date(Number(i.substring(6,i.length-2)))}function Ao(i){return JSON.parse(JSON.stringify(i))}const $S=i=>Object.assign({},...Array.from(i,([e,t])=>({[e]:t})));function MS(i){return i}function BS(i,e,t=MS){const r=Object.keys(i).filter(o=>e.includes(o)),n={};return r.reduce((o,a)=>(o[a]=t(i[a]),o),n)}function yd(i){return new Promise(e=>setTimeout(e,i))}async function ms(i,e,t,r){let s=!1;const o=r?setInterval(()=>{s=!0},r):void 0;for(;;){if(s)return;const a=await i();if(a||e&&--e<=0)return o&&clearInterval(o),a;await yd(t||0)}}function NS(i){return i instanceof Error}function zS(i){return NS(i)?i:typeof i=="string"?{message:i,name:typeof i}:i!==void 0?{message:i.toString(),name:typeof i}:new Error}const FS="modulepreload",HS=function(i,e){return new URL(i,e).href},bd={},wn=function(e,t,r){return e()},WS=!0;function jS(){if(typeof window>"u")return!1;if(window.AxureCloudNative!==void 0)return!0;const{process:i}=window;return typeof i=="object"&&i.type==="renderer"||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&(navigator.userAgent.indexOf("Electron")>=0||navigator.userAgent.indexOf("Axure Cloud")>=0||navigator.userAgent.indexOf("axure-cloud")>=0)}function VS(){return typeof process<"u"&&typeof process.versions=="object"&&!!process.versions.electron}jS(),VS();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function US(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(e,n);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var n=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return i[r]}})}),t}var XS=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},gc={},GS=Object.prototype.hasOwnProperty,QS;function wd(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function Sd(i){try{return encodeURIComponent(i)}catch{return null}}function YS(i){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},r;r=e.exec(i);){var n=wd(r[1]),s=wd(r[2]);n===null||s===null||n in t||(t[n]=s)}return t}function qS(i,e){e=e||"";var t=[],r,n;typeof e!="string"&&(e="?");for(n in i)if(GS.call(i,n)){if(r=i[n],!r&&(r===null||r===QS||isNaN(r))&&(r=""),n=Sd(n),r=Sd(r),n===null||r===null)continue;t.push(n+"="+r)}return t.length?e+t.join("&"):""}gc.stringify=qS,gc.parse=YS;var xd=XS,_o=gc,KS=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Od=/[\n\r\t]/g,ZS=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Cd=/:\d+$/,JS=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,ex=/^[a-zA-Z]:/;function mc(i){return(i||"").toString().replace(KS,"")}var vc=[["#","hash"],["?","query"],function(e,t){return vi(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],kd={hash:1,query:1};function Ad(i){var e;typeof window<"u"?e=window:typeof kt<"u"?e=kt:typeof self<"u"?e=self:e={};var t=e.location||{};i=i||t;var r={},n=typeof i,s;if(i.protocol==="blob:")r=new yi(unescape(i.pathname),{});else if(n==="string"){r=new yi(i,{});for(s in kd)delete r[s]}else if(n==="object"){for(s in i)s in kd||(r[s]=i[s]);r.slashes===void 0&&(r.slashes=ZS.test(i.href))}return r}function vi(i){return i==="file:"||i==="ftp:"||i==="http:"||i==="https:"||i==="ws:"||i==="wss:"}function _d(i,e){i=mc(i),i=i.replace(Od,""),e=e||{};var t=JS.exec(i),r=t[1]?t[1].toLowerCase():"",n=!!t[2],s=!!t[3],o=0,a;return n?s?(a=t[2]+t[3]+t[4],o=t[2].length+t[3].length):(a=t[2]+t[4],o=t[2].length):s?(a=t[3]+t[4],o=t[3].length):a=t[4],r==="file:"?o>=2&&(a=a.slice(2)):vi(r)?a=t[4]:r?n&&(a=a.slice(2)):o>=2&&vi(e.protocol)&&(a=t[4]),{protocol:r,slashes:n||vi(r),slashesCount:o,rest:a}}function tx(i,e){if(i==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(i.split("/")),r=t.length,n=t[r-1],s=!1,o=0;r--;)t[r]==="."?t.splice(r,1):t[r]===".."?(t.splice(r,1),o++):o&&(r===0&&(s=!0),t.splice(r,1),o--);return s&&t.unshift(""),(n==="."||n==="..")&&t.push(""),t.join("/")}function yi(i,e,t){if(i=mc(i),i=i.replace(Od,""),!(this instanceof yi))return new yi(i,e,t);var r,n,s,o,a,l,c=vc.slice(),h=typeof e,u=this,f=0;for(h!=="object"&&h!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=_o.parse),e=Ad(e),n=_d(i||"",e),r=!n.protocol&&!n.slashes,u.slashes=n.slashes||r&&e.slashes,u.protocol=n.protocol||e.protocol||"",i=n.rest,(n.protocol==="file:"&&(n.slashesCount!==2||ex.test(i))||!n.slashes&&(n.protocol||n.slashesCount<2||!vi(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(o=c[f],typeof o=="function"){i=o(i,u);continue}s=o[0],l=o[1],s!==s?u[l]=i:typeof s=="string"?(a=s==="@"?i.lastIndexOf(s):i.indexOf(s),~a&&(typeof o[2]=="number"?(u[l]=i.slice(0,a),i=i.slice(a+o[2])):(u[l]=i.slice(a),i=i.slice(0,a)))):(a=s.exec(i))&&(u[l]=a[1],i=i.slice(0,a.index)),u[l]=u[l]||r&&o[3]&&e[l]||"",o[4]&&(u[l]=u[l].toLowerCase())}t&&(u.query=t(u.query)),r&&e.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||e.pathname!=="")&&(u.pathname=tx(u.pathname,e.pathname)),u.pathname.charAt(0)!=="/"&&vi(u.protocol)&&(u.pathname="/"+u.pathname),xd(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(a=u.auth.indexOf(":"),~a?(u.username=u.auth.slice(0,a),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(a+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&vi(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function ix(i,e,t){var r=this;switch(i){case"query":typeof e=="string"&&e.length&&(e=(t||_o.parse)(e)),r[i]=e;break;case"port":r[i]=e,xd(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[i]="");break;case"hostname":r[i]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[i]=e,Cd.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!t;break;case"pathname":case"hash":if(e){var n=i==="pathname"?"/":"#";r[i]=e.charAt(0)!==n?n+e:e}else r[i]=e;break;case"username":case"password":r[i]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(r.username=e.slice(0,s),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=e.slice(s+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<vc.length;o++){var a=vc[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&vi(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function rx(i){(!i||typeof i!="function")&&(i=_o.stringify);var e,t=this,r=t.host,n=t.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var s=n+(t.protocol&&t.slashes||vi(t.protocol)?"//":"");return t.username?(s+=t.username,t.password&&(s+=":"+t.password),s+="@"):t.password?(s+=":"+t.password,s+="@"):t.protocol!=="file:"&&vi(t.protocol)&&!r&&t.pathname!=="/"&&(s+="@"),(r[r.length-1]===":"||Cd.test(t.hostname)&&!t.port)&&(r+=":"),s+=r+t.pathname,e=typeof t.query=="object"?i(t.query):t.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(s+=t.hash),s}yi.prototype={set:ix,toString:rx},yi.extractProtocol=_d,yi.location=Ad,yi.trimLeft=mc,yi.qs=_o;var Po=yi;class Eo{constructor(){A(this,"handlers",{})}subscribe(e){for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];this.on(t,r)}}unsubscribe(e){for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];this.off(t,r)}}on(e,t){(this.handlers[e]=this.handlers[e]||[]).push(t)}off(e,t){const r=this.handlers[e];if(!r)return!1;if(this.has(e,t)){const n=r.indexOf(t);r.splice(n,1)}}has(e,t){const r=this.handlers[e];return r?r.indexOf(t)!==-1:!1}trigger(e,...t){const r=this.handlers[e];if(r)for(const n of r)n.apply(this,t)}}class nx{constructor(e){A(this,"defaults",{origin:window.location.origin,source:window.parent});A(this,"origin");A(this,"source");A(this,"eventHub",new Eo);A(this,"productionOrigins",{});A(this,"whitelistedOrigins",this.productionOrigins);A(this,"ready",!1);e=e||this.defaults,this.origin=e.origin,this.source=e.source,this.addToOriginWhitelist(this.origin),this.addWindowListener(),this.ready=!0}on(e,t){this.eventHub.on(e,t)}off(e,t){this.off(e,t)}trigger(e,t={}){this.postMessage(e,t)}postMessage(e,t){const n=JSON.stringify({key:e,data:t});this.rawPostMessage(n)}addToOriginWhitelist(e){const{origin:t}=new Po(e);t&&t!==window.origin&&t!=="null"&&(this.whitelistedOrigins[t]=!0)}addWindowListener(){window.addEventListener("message",e=>this.messageHandler(e))}messageHandler(e){if(!this.isValidEvent(e))return;let{data:t}=e;if(t){if(typeof t=="string")try{t=JSON.parse(e.data)}catch(r){return r}t.key&&this.triggerEvent(t.key,t.data)}}triggerEvent(e,t){this.eventHub.trigger(e,t)}rawPostMessage(e){this.ready&&Object.keys(this.whitelistedOrigins).forEach(t=>{try{this.source.postMessage(e,t)}catch{}})}isValidEvent(e){return this.source===e.source&&this.isEventOriginValid(e.origin)}isEventOriginValid(e){return e?Object.keys(this.whitelistedOrigins).some(t=>TS(t,e)):!1}}const ii={bridgeReady:"bridgeReady",ready:"ready",playerMessageCenterEvent:"playerMessageCenterEvent",inspectorToggled:"inspectorToggled",documentConfiguration:"documentConfiguration",previewGenerationComplete:"generationComplete",pluginCreated:"pluginCreated",updateIsPanZoomEnabled:"updateIsPanZoomEnabled"},Be={addHandoff:"addHandoff",getPageData:"getPageData",getDocumentConfiguration:"getDocumentConfiguration",inspectorEnable:"inspectorEnable",inspectorDisable:"inspectorDisable",inspectorShow:"inspectorShow",inspectorHide:"inspectorHide",keyboardEvent:"keyboardEvent",selectAdaptiveView:"selectAdaptiveView",setZoom:"setZoom",pluginToggle:"pluginToggle",hidePlayerControls:"hidePlayerControls",hidePinsOverlay:"hidePinsOverlay",selectPage:"selectPage",resizePlayerContent:"resizePlayerContent",selectScaleOption:"selectScaleOption",selectOverlayOption:"selectOverlayOption",triggerUpdateIsPanZoomEnabled:"updateIsPanZoomEnabled",generateLocalExpoPreview:"generateLocalExpoPreview",reload:"reload",refreshViewPort:"refreshViewPort",navigateToIssue:"navigateToIssue",updateNotificationState:"updateNotificationState",exitCommentMode:"exitCommentMode",reset:"reset"},Hi={ctrlOrCmdPlus:"ctrlOrCmdPlus",ctrlOrCmdMinus:"ctrlOrCmdMinus",ctrlOrCmdZero:"ctrlOrCmdZero",spaceBarUp:"spaceBarUp",spaceBarDown:"spaceBarDown",comma:"comma",period:"period",esc:"esc",comment:"comment"},yc={sitemap:{id:"sitemapHost",gid:1},notes:{id:"pageNotesHost",gid:2},discussions:{id:"feedbackHost",gid:4},handoff:{id:"handoffHost",gid:5}};function Pd(i,e){return function(){return i.apply(e,arguments)}}const{toString:Ed}=Object.prototype,{getPrototypeOf:bc}=Object,wc=(i=>e=>{const t=Ed.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wi=i=>(i=i.toLowerCase(),e=>wc(e)===i),To=i=>e=>typeof e===i,{isArray:Sn}=Array,vs=To("undefined");function sx(i){return i!==null&&!vs(i)&&i.constructor!==null&&!vs(i.constructor)&&ar(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Td=Wi("ArrayBuffer");function ox(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&Td(i.buffer),e}const ax=To("string"),ar=To("function"),Id=To("number"),Sc=i=>i!==null&&typeof i=="object",lx=i=>i===!0||i===!1,Io=i=>{if(wc(i)!=="object")return!1;const e=bc(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},cx=Wi("Date"),hx=Wi("File"),ux=Wi("Blob"),fx=Wi("FileList"),dx=i=>Sc(i)&&ar(i.pipe),px=i=>{const e="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||Ed.call(i)===e||ar(i.toString)&&i.toString()===e)},gx=Wi("URLSearchParams"),mx=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ys(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let r,n;if(typeof i!="object"&&(i=[i]),Sn(i))for(r=0,n=i.length;r<n;r++)e.call(null,i[r],r,i);else{const s=t?Object.getOwnPropertyNames(i):Object.keys(i),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,i[a],a,i)}}function Rd(i,e){e=e.toLowerCase();const t=Object.keys(i);let r=t.length,n;for(;r-- >0;)if(n=t[r],e===n.toLowerCase())return n;return null}const Dd=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ld=i=>!vs(i)&&i!==Dd;function xc(){const{caseless:i}=Ld(this)&&this||{},e={},t=(r,n)=>{const s=i&&Rd(e,n)||n;Io(e[s])&&Io(r)?e[s]=xc(e[s],r):Io(r)?e[s]=xc({},r):Sn(r)?e[s]=r.slice():e[s]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&ys(arguments[r],t);return e}const vx=(i,e,t,{allOwnKeys:r}={})=>(ys(e,(n,s)=>{t&&ar(n)?i[s]=Pd(n,t):i[s]=n},{allOwnKeys:r}),i),yx=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),bx=(i,e,t,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},wx=(i,e,t,r)=>{let n,s,o;const a={};if(e=e||{},i==null)return e;do{for(n=Object.getOwnPropertyNames(i),s=n.length;s-- >0;)o=n[s],(!r||r(o,i,e))&&!a[o]&&(e[o]=i[o],a[o]=!0);i=t!==!1&&bc(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},Sx=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const r=i.indexOf(e,t);return r!==-1&&r===t},xx=i=>{if(!i)return null;if(Sn(i))return i;let e=i.length;if(!Id(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},Ox=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&bc(Uint8Array)),Cx=(i,e)=>{const r=(i&&i[Symbol.iterator]).call(i);let n;for(;(n=r.next())&&!n.done;){const s=n.value;e.call(i,s[0],s[1])}},kx=(i,e)=>{let t;const r=[];for(;(t=i.exec(e))!==null;)r.push(t);return r},Ax=Wi("HTMLFormElement"),_x=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,n){return r.toUpperCase()+n}),$d=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),Px=Wi("RegExp"),Md=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),r={};ys(t,(n,s)=>{e(n,s,i)!==!1&&(r[s]=n)}),Object.defineProperties(i,r)},Ex=i=>{Md(i,(e,t)=>{if(ar(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=i[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Tx=(i,e)=>{const t={},r=n=>{n.forEach(s=>{t[s]=!0})};return Sn(i)?r(i):r(String(i).split(e)),t},Ix=()=>{},Rx=(i,e)=>(i=+i,Number.isFinite(i)?i:e),Oc="abcdefghijklmnopqrstuvwxyz",Bd="0123456789",Nd={DIGIT:Bd,ALPHA:Oc,ALPHA_DIGIT:Oc+Oc.toUpperCase()+Bd},Dx=(i=16,e=Nd.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;i--;)t+=e[Math.random()*r|0];return t};function Lx(i){return!!(i&&ar(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const K={isArray:Sn,isArrayBuffer:Td,isBuffer:sx,isFormData:px,isArrayBufferView:ox,isString:ax,isNumber:Id,isBoolean:lx,isObject:Sc,isPlainObject:Io,isUndefined:vs,isDate:cx,isFile:hx,isBlob:ux,isRegExp:Px,isFunction:ar,isStream:dx,isURLSearchParams:gx,isTypedArray:Ox,isFileList:fx,forEach:ys,merge:xc,extend:vx,trim:mx,stripBOM:yx,inherits:bx,toFlatObject:wx,kindOf:wc,kindOfTest:Wi,endsWith:Sx,toArray:xx,forEachEntry:Cx,matchAll:kx,isHTMLForm:Ax,hasOwnProperty:$d,hasOwnProp:$d,reduceDescriptors:Md,freezeMethods:Ex,toObjectSet:Tx,toCamelCase:_x,noop:Ix,toFiniteNumber:Rx,findKey:Rd,global:Dd,isContextDefined:Ld,ALPHABET:Nd,generateString:Dx,isSpecCompliantForm:Lx,toJSONObject:i=>{const e=new Array(10),t=(r,n)=>{if(Sc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[n]=r;const s=Sn(r)?[]:{};return ys(r,(o,a)=>{const l=t(o,n+1);!vs(l)&&(s[a]=l)}),e[n]=void 0,s}}return r};return t(i,0)}};function Ee(i,e,t,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),n&&(this.response=n)}K.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zd=Ee.prototype,Fd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Fd[i]={value:i}}),Object.defineProperties(Ee,Fd),Object.defineProperty(zd,"isAxiosError",{value:!0}),Ee.from=(i,e,t,r,n,s)=>{const o=Object.create(zd);return K.toFlatObject(i,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ee.call(o,i.message,e,t,r,n),o.cause=i,o.name=i.name,s&&Object.assign(o,s),o};const $x=null;function Cc(i){return K.isPlainObject(i)||K.isArray(i)}function Hd(i){return K.endsWith(i,"[]")?i.slice(0,-2):i}function Wd(i,e,t){return i?i.concat(e).map(function(n,s){return n=Hd(n),!t&&s?"["+n+"]":n}).join(t?".":""):e}function Mx(i){return K.isArray(i)&&!i.some(Cc)}const Bx=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Ro(i,e,t){if(!K.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=K.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!K.isUndefined(y[g])});const r=t.metaTokens,n=t.visitor||h,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(!l&&K.isBlob(p))throw new Ee("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,g,y){let v=p;if(p&&!y&&typeof p=="object"){if(K.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&Mx(p)||(K.isFileList(p)||K.endsWith(g,"[]"))&&(v=K.toArray(p)))return g=Hd(g),v.forEach(function(k,P){!(K.isUndefined(k)||k===null)&&e.append(o===!0?Wd([g],P,s):o===null?g:g+"[]",c(k))}),!1}return Cc(p)?!0:(e.append(Wd(y,g,s),c(p)),!1)}const u=[],f=Object.assign(Bx,{defaultVisitor:h,convertValue:c,isVisitable:Cc});function d(p,g){if(!K.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),K.forEach(p,function(v,S){(!(K.isUndefined(v)||v===null)&&n.call(e,v,K.isString(S)?S.trim():S,g,f))===!0&&d(v,g?g.concat(S):[S])}),u.pop()}}if(!K.isObject(i))throw new TypeError("data must be an object");return d(i),e}function jd(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function kc(i,e){this._pairs=[],i&&Ro(i,this,e)}const Vd=kc.prototype;Vd.append=function(e,t){this._pairs.push([e,t])},Vd.toString=function(e){const t=e?function(r){return e.call(this,r,jd)}:jd;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Nx(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ud(i,e,t){if(!e)return i;const r=t&&t.encode||Nx,n=t&&t.serialize;let s;if(n?s=n(e,t):s=K.isURLSearchParams(e)?e.toString():new kc(e,t).toString(r),s){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+s}return i}class zx{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Xd=zx,Gd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fx=typeof URLSearchParams<"u"?URLSearchParams:kc,Hx=typeof FormData<"u"?FormData:null,Wx=typeof Blob<"u"?Blob:null,jx=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Vx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bi={isBrowser:!0,classes:{URLSearchParams:Fx,FormData:Hx,Blob:Wx},isStandardBrowserEnv:jx,isStandardBrowserWebWorkerEnv:Vx,protocols:["http","https","file","blob","url","data"]};function Ux(i,e){return Ro(i,new bi.classes.URLSearchParams,Object.assign({visitor:function(t,r,n,s){return bi.isNode&&K.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Xx(i){return K.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gx(i){const e={},t=Object.keys(i);let r;const n=t.length;let s;for(r=0;r<n;r++)s=t[r],e[s]=i[s];return e}function Qd(i){function e(t,r,n,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&K.isArray(n)?n.length:o,l?(K.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a):((!n[o]||!K.isObject(n[o]))&&(n[o]=[]),e(t,r,n[o],s)&&K.isArray(n[o])&&(n[o]=Gx(n[o])),!a)}if(K.isFormData(i)&&K.isFunction(i.entries)){const t={};return K.forEachEntry(i,(r,n)=>{e(Xx(r),n,t,0)}),t}return null}const Qx={"Content-Type":void 0};function Yx(i,e,t){if(K.isString(i))try{return(e||JSON.parse)(i),K.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(i)}const Do={transitional:Gd,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=K.isObject(e);if(s&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return n&&n?JSON.stringify(Qd(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ux(e,this.formSerializer).toString();if((a=K.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ro(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),Yx(e)):e}],transformResponse:[function(e){const t=this.transitional||Do.transitional,r=t&&t.forcedJSONParsing,n=this.responseType==="json";if(e&&K.isString(e)&&(r&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ee.from(a,Ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bi.classes.FormData,Blob:bi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],function(e){Do.headers[e]={}}),K.forEach(["post","put","patch"],function(e){Do.headers[e]=K.merge(Qx)});const Ac=Do,qx=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kx=i=>{const e={};let t,r,n;return i&&i.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!t||e[t]&&qx[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Yd=Symbol("internals");function bs(i){return i&&String(i).trim().toLowerCase()}function Lo(i){return i===!1||i==null?i:K.isArray(i)?i.map(Lo):String(i)}function Zx(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(i);)e[r[1]]=r[2];return e}function Jx(i){return/^[-_a-zA-Z]+$/.test(i.trim())}function _c(i,e,t,r,n){if(K.isFunction(r))return r.call(this,e,t);if(n&&(e=t),!!K.isString(e)){if(K.isString(r))return e.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(e)}}function e1(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function t1(i,e){const t=K.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+t,{value:function(n,s,o){return this[r].call(this,e,n,s,o)},configurable:!0})})}class $o{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(a,l,c){const h=bs(l);if(!h)throw new Error("header name must be a non-empty string");const u=K.findKey(n,h);(!u||n[u]===void 0||c===!0||c===void 0&&n[u]!==!1)&&(n[u||l]=Lo(a))}const o=(a,l)=>K.forEach(a,(c,h)=>s(c,h,l));return K.isPlainObject(e)||e instanceof this.constructor?o(e,t):K.isString(e)&&(e=e.trim())&&!Jx(e)?o(Kx(e),t):e!=null&&s(t,e,r),this}get(e,t){if(e=bs(e),e){const r=K.findKey(this,e);if(r){const n=this[r];if(!t)return n;if(t===!0)return Zx(n);if(K.isFunction(t))return t.call(this,n,r);if(K.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=bs(e),e){const r=K.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||_c(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let n=!1;function s(o){if(o=bs(o),o){const a=K.findKey(r,o);a&&(!t||_c(r,r[a],a,t))&&(delete r[a],n=!0)}}return K.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];(!e||_c(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return K.forEach(this,(n,s)=>{const o=K.findKey(r,s);if(o){t[o]=Lo(n),delete t[s];return}const a=e?e1(s):String(s).trim();a!==s&&delete t[s],t[a]=Lo(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return K.forEach(this,(r,n)=>{r!=null&&r!==!1&&(t[n]=e&&K.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[Yd]=this[Yd]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=bs(o);r[a]||(t1(n,o),r[a]=!0)}return K.isArray(e)?e.forEach(s):s(e),this}}$o.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.freezeMethods($o.prototype),K.freezeMethods($o);const ji=$o;function Pc(i,e){const t=this||Ac,r=e||t,n=ji.from(r.headers);let s=r.data;return K.forEach(i,function(a){s=a.call(t,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function qd(i){return!!(i&&i.__CANCEL__)}function ws(i,e,t){Ee.call(this,i??"canceled",Ee.ERR_CANCELED,e,t),this.name="CanceledError"}K.inherits(ws,Ee,{__CANCEL__:!0});function i1(i,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?i(t):e(new Ee("Request failed with status code "+t.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const r1=bi.isStandardBrowserEnv?function(){return{write:function(t,r,n,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(r)),K.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),K.isString(s)&&l.push("path="+s),K.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function n1(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function s1(i,e){return e?i.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):i}function Kd(i,e){return i&&!n1(e)?s1(i,e):e}const o1=bi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(o){const a=K.isString(o)?n(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function a1(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function l1(i,e){i=i||10;const t=new Array(i),r=new Array(i);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),t[n]=l,r[n]=c;let u=s,f=0;for(;u!==n;)f+=t[u++],u=u%i;if(n=(n+1)%i,n===s&&(s=(s+1)%i),c-o<e)return;const d=h&&c-h;return d?Math.round(f*1e3/d):void 0}}function Zd(i,e){let t=0;const r=l1(50,250);return n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-t,l=r(a),c=s<=o;t=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:n};h[e?"download":"upload"]=!0,i(h)}}const Mo={http:$x,xhr:typeof XMLHttpRequest<"u"&&function(i){return new Promise(function(t,r){let n=i.data;const s=ji.from(i.headers).normalize(),o=i.responseType;let a;function l(){i.cancelToken&&i.cancelToken.unsubscribe(a),i.signal&&i.signal.removeEventListener("abort",a)}K.isFormData(n)&&(bi.isStandardBrowserEnv||bi.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let c=new XMLHttpRequest;if(i.auth){const d=i.auth.username||"",p=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const h=Kd(i.baseURL,i.url);c.open(i.method.toUpperCase(),Ud(h,i.params,i.paramsSerializer),!0),c.timeout=i.timeout;function u(){if(!c)return;const d=ji.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:i,request:c};i1(function(v){t(v),l()},function(v){r(v),l()},g),c=null}if("onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){c&&(r(new Ee("Request aborted",Ee.ECONNABORTED,i,c)),c=null)},c.onerror=function(){r(new Ee("Network Error",Ee.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const g=i.transitional||Gd;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new Ee(p,g.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,i,c)),c=null},bi.isStandardBrowserEnv){const d=(i.withCredentials||o1(h))&&i.xsrfCookieName&&r1.read(i.xsrfCookieName);d&&s.set(i.xsrfHeaderName,d)}n===void 0&&s.setContentType(null),"setRequestHeader"in c&&K.forEach(s.toJSON(),function(p,g){c.setRequestHeader(g,p)}),K.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),o&&o!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",Zd(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Zd(i.onUploadProgress)),(i.cancelToken||i.signal)&&(a=d=>{c&&(r(!d||d.type?new ws(null,i,c):d),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(a),i.signal&&(i.signal.aborted?a():i.signal.addEventListener("abort",a)));const f=a1(h);if(f&&bi.protocols.indexOf(f)===-1){r(new Ee("Unsupported protocol "+f+":",Ee.ERR_BAD_REQUEST,i));return}c.send(n||null)})}};K.forEach(Mo,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const c1={getAdapter:i=>{i=K.isArray(i)?i:[i];const{length:e}=i;let t,r;for(let n=0;n<e&&(t=i[n],!(r=K.isString(t)?Mo[t.toLowerCase()]:t));n++);if(!r)throw r===!1?new Ee(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(K.hasOwnProp(Mo,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!K.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Mo};function Ec(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new ws(null,i)}function Jd(i){return Ec(i),i.headers=ji.from(i.headers),i.data=Pc.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),c1.getAdapter(i.adapter||Ac.adapter)(i).then(function(r){return Ec(i),r.data=Pc.call(i,i.transformResponse,r),r.headers=ji.from(r.headers),r},function(r){return qd(r)||(Ec(i),r&&r.response&&(r.response.data=Pc.call(i,i.transformResponse,r.response),r.response.headers=ji.from(r.response.headers))),Promise.reject(r)})}const ep=i=>i instanceof ji?i.toJSON():i;function xn(i,e){e=e||{};const t={};function r(c,h,u){return K.isPlainObject(c)&&K.isPlainObject(h)?K.merge.call({caseless:u},c,h):K.isPlainObject(h)?K.merge({},h):K.isArray(h)?h.slice():h}function n(c,h,u){if(K.isUndefined(h)){if(!K.isUndefined(c))return r(void 0,c,u)}else return r(c,h,u)}function s(c,h){if(!K.isUndefined(h))return r(void 0,h)}function o(c,h){if(K.isUndefined(h)){if(!K.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,u){if(u in e)return r(c,h);if(u in i)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>n(ep(c),ep(h),!0)};return K.forEach(Object.keys(i).concat(Object.keys(e)),function(h){const u=l[h]||n,f=u(i[h],e[h],h);K.isUndefined(f)&&u!==a||(t[h]=f)}),t}const tp="1.3.4",Tc={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Tc[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const ip={};Tc.transitional=function(e,t,r){function n(s,o){return"[Axios v"+tp+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ee(n(o," has been removed"+(t?" in "+t:"")),Ee.ERR_DEPRECATED);return t&&!ip[o]&&(ip[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function h1(i,e,t){if(typeof i!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let n=r.length;for(;n-- >0;){const s=r[n],o=e[s];if(o){const a=i[s],l=a===void 0||o(a,s,i);if(l!==!0)throw new Ee("option "+s+" must be "+l,Ee.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ee("Unknown option "+s,Ee.ERR_BAD_OPTION)}}const Ic={assertOptions:h1,validators:Tc},lr=Ic.validators;class Bo{constructor(e){this.defaults=e,this.interceptors={request:new Xd,response:new Xd}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=xn(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;r!==void 0&&Ic.assertOptions(r,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),n!==void 0&&Ic.assertOptions(n,{encode:lr.function,serialize:lr.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=s&&K.merge(s.common,s[t.method]),o&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),t.headers=ji.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let h,u=0,f;if(!l){const p=[Jd.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,h=Promise.resolve(t);u<f;)h=h.then(p[u++],p[u++]);return h}f=a.length;let d=t;for(u=0;u<f;){const p=a[u++],g=a[u++];try{d=p(d)}catch(y){g.call(this,y);break}}try{h=Jd.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)h=h.then(c[u++],c[u++]);return h}getUri(e){e=xn(this.defaults,e);const t=Kd(e.baseURL,e.url);return Ud(t,e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){Bo.prototype[e]=function(t,r){return this.request(xn(r||{},{method:e,url:t,data:(r||{}).data}))}}),K.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(xn(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Bo.prototype[e]=t(),Bo.prototype[e+"Form"]=t(!0)});const No=Bo;class Rc{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(n=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](n);r._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(n);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ws(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Rc(function(n){e=n}),cancel:e}}}const u1=Rc;function f1(i){return function(t){return i.apply(null,t)}}function d1(i){return K.isObject(i)&&i.isAxiosError===!0}const Dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dc).forEach(([i,e])=>{Dc[e]=i});const p1=Dc;function rp(i){const e=new No(i),t=Pd(No.prototype.request,e);return K.extend(t,No.prototype,e,{allOwnKeys:!0}),K.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return rp(xn(i,n))},t}const it=rp(Ac);it.Axios=No,it.CanceledError=ws,it.CancelToken=u1,it.isCancel=qd,it.VERSION=tp,it.toFormData=Ro,it.AxiosError=Ee,it.Cancel=it.CanceledError,it.all=function(e){return Promise.all(e)},it.spread=f1,it.isAxiosError=d1,it.mergeConfig=xn,it.AxiosHeaders=ji,it.formToJSON=i=>Qd(K.isHTMLForm(i)?new FormData(i):i),it.HttpStatusCode=p1,it.default=it;const g1=it;async function Ss(i){const e=OS(i),t=await g1.request({url:e,method:"GET",responseType:"json",withCredentials:!0});if(t&&t.data!==void 0)return t.data;throw new Error("Couldn't map response.")}var J=(i=>(i.Ready="Ready",i.PlayerMessageCenterEvent="PlayerMessageCenterEvent",i.ProjectLoaded="ProjectLoaded",i.PageAdded="PageAdded",i.PageRemoved="PageRemoved",i.PageWillChange="PageSelected",i.PageDidChange="AfterPageSelected",i.InspectorShow="InspectorShow",i.InspectorHide="InspectorHide",i.InspectorEnabled="InspectorEnabled",i.InspectorDisabled="InspectorDisabled",i.InspectSet="InspectSet",i.InspectHide="InspectHide",i.InspectShow="InspectShow",i.InspectClear="InspectClear",i.InspectSetHover="InspectSetHover",i.InspectClearHover="InspectClearHover",i.Resized="Resized",i.ShowAllColors="ShowAllColors",i.ShowAllAssets="ShowAllAssets",i.OpenLayerView="OpenLayerView",i.CloseLayerView="CloseLayerView",i.ArtboardColorsSet="ArtboardColorsSet",i.ArtboardAssetsSet="ArtboardAssetsSet",i.PreviewPrototype="PreviewPrototype",i.InspectGet="InspectGet",i.InspectHoverGet="InspectHoverGet",i.RenderExpo="RenderExpo",i.BundleSelected="BundleSelected",i.DocumentDidLoad="DocumentDidLoad",i.DocumentDidReload="DocumentDidReload",i.OpenNextPage="OpenNextPage",i.OpenPreviousPage="OpenPreviousPage",i.PrototypeGenerated="PrototypeGenerated",i.SetPageHighlight="SetPageHighlight",i.RefreshViewPort="RefreshViewPort",i.ExitCommentMode="ExitCommentMode",i.ToogleCommentMode="ToogleCommentMode",i.PreviousHistory="PreviousHistory",i))(J||{});class np{constructor(e){A(this,"bridgeEventsQueue",[]);A(this,"bootstrapper");A(this,"iframeBridge");A(this,"iframeBridgeConfigured",!1);A(this,"eventHub",new Eo);A(this,"ready",!1);A(this,"size",{height:0,width:0});A(this,"currentPage");A(this,"inspectorEnabled",!1);A(this,"_cloudMode",!1);A(this,"bootstrappers",{RP:()=>wn(()=>Promise.resolve().then(()=>jT),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href).then(e=>e.default),Expo:()=>wn(()=>Promise.resolve().then(()=>YT),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href).then(e=>e.default)});A(this,"bootstrapperCtor");this.options=e,this._cloudMode=!!window.$axure.player.isCloud;const t=this.bootstrappers[this.options.projectType];if(!t)throw new Error(`Project type ${this.options.projectType} is not supported.`);this.iframeBridge=new nx({source:window.parent,origin:this.options.baseUrl}),this.currentPage=e.startPageId||"",this.bootstrapperCtor=t,this.subscribe({[J.PageDidChange]:()=>this.emitPageData(),[J.OpenNextPage]:()=>this.openNextPage(),[J.OpenPreviousPage]:()=>this.openPreviousPage(),[J.ExitCommentMode]:()=>this.exitCommentMode(),[J.ToogleCommentMode]:()=>this.toogleCommentMode()}),$(document).on("pluginCreated",(r,n)=>{this.triggerOnBridge(ii.pluginCreated,{gid:n})})}get isMobile(){return window.$axure?window.$axure.mobileSupport.mobile:!1}get cloudMode(){return this._cloudMode}get prototypeBaseUrl(){return`${this.options.baseUrl}/${this.options.shortcut}`}get Size(){return this.size}set Size(e){this.size!==e&&(this.size=e,this.eventHub.trigger(J.Resized,this.size))}get CurrentPage(){return this.currentPage}get InspectorEnabled(){return this.inspectorEnabled}async setup(e=""){this.bootstrapper=new(await this.bootstrapperCtor())(this),await this.setupIframeBridge(),this.iframeBridgeConfigured=!0,this.triggerOnBridge(ii.bridgeReady),this.replayBridgeEvents(),await this.bootstrapper.setup(e),this.cloudMode||this.addHandoff(),this.ready=!0,this.trigger(J.Ready),this.triggerOnBridge(ii.ready)}addHandoff(){this.bootstrapper&&this.bootstrapper.addHandoff()}subscribe(e){this.eventHub.subscribe(e)}subscribeToBridge(e){if(e)for(const t in e)t&&this.iframeBridge.on(t,e[t])}trigger(e,t){t&&t.message===J.SetPageHighlight&&t.data&&t.data.isExpo?this.eventHub.trigger(t.message,t.data.id,t.data.addToHistory):t&&t.message===J.PreviousHistory?this.eventHub.trigger(t.message):this.eventHub.trigger(e,t)}triggerOnBridge(e,t){this.cloudMode&&(this.iframeBridgeConfigured?this.iframeBridge.trigger(e,t):this.bridgeEventsQueue.push([e,t]))}addPage(e){this.eventHub.trigger(J.PageAdded,e)}selectPage(e){this.currentPage=e,this.eventHub.trigger(J.PageWillChange,e)}removePage(e){this.eventHub.trigger(J.PageRemoved,e)}showAllColors(){this.eventHub.trigger(J.ShowAllColors)}showAllAssets(){this.eventHub.trigger(J.ShowAllAssets)}inspectorShow(){this.eventHub.trigger(J.InspectorShow)}inspectorHide(){this.eventHub.trigger(J.InspectorHide)}inspectorEnable(){this.cloudMode&&(dc(window.location.href,"g").includes(yc.handoff.gid.toString())||this.addHandoff()),this.inspectorEnabled=!0,this.eventHub.trigger(J.InspectorEnabled),this.eventHub.trigger(J.InspectShow),this.triggerOnBridge(ii.inspectorToggled,{enabled:!0})}inspectorDisable(){this.inspectorEnabled=!1,this.eventHub.trigger(J.InspectorDisabled),this.eventHub.trigger(J.InspectHide),this.eventHub.trigger(J.InspectClearHover),this.triggerOnBridge(ii.inspectorToggled,{enabled:!1})}renderExpo(e){this.bootstrapper&&this.eventHub.trigger(J.RenderExpo,e)}async setupIframeBridge(){(await Ss(`${this.options.baseUrl}/framed/getTrustedDomains`)).forEach(t=>this.iframeBridge.addToOriginWhitelist(t)),this.iframeBridge.on(Be.addHandoff,()=>this.addHandoff()),this.iframeBridge.on(Be.inspectorEnable,()=>this.inspectorEnable()),this.iframeBridge.on(Be.inspectorDisable,()=>this.inspectorDisable()),this.iframeBridge.on(Be.inspectorShow,()=>this.inspectorShow()),this.iframeBridge.on(Be.inspectorHide,()=>this.inspectorHide()),this.iframeBridge.on(Be.hidePlayerControls,()=>this.hidePlayerControls()),this.iframeBridge.on(Be.hidePinsOverlay,()=>this.hidePinsControls()),this.iframeBridge.on(Be.resizePlayerContent,()=>this.resizePlayerContent()),this.iframeBridge.on(Be.selectPage,t=>this.selectPage(t.pageId)),this.iframeBridge.on(Be.pluginToggle,t=>this.togglePlugin(t)),this.iframeBridge.on(Be.setZoom,t=>this.setZoom(t)),this.iframeBridge.on(Be.selectAdaptiveView,t=>this.selectAdaptiveView(t.view)),this.iframeBridge.on(Be.getPageData,()=>this.emitPageData()),this.iframeBridge.on(Be.getDocumentConfiguration,()=>this.getDocumentConfiguration()),this.iframeBridge.on(Be.selectScaleOption,t=>this.selectScaleOption(t.scale)),this.iframeBridge.on(Be.selectOverlayOption,t=>this.selectOverlayOption(t)),this.iframeBridge.on(Be.keyboardEvent,t=>this.handleKeyboardEvent(t)),this.iframeBridge.on(Be.generateLocalExpoPreview,t=>this.renderExpo(t)),this.iframeBridge.on(Be.refreshViewPort,()=>this.trigger(J.RefreshViewPort)),this.iframeBridge.on(Be.navigateToIssue,t=>this.navigateToIssue(t.issueId)),this.iframeBridge.on(Be.updateNotificationState,t=>this.updateNotificationState(t)),this.iframeBridge.on(Be.triggerUpdateIsPanZoomEnabled,()=>this.updateIsPanZoomEnabled()),this.iframeBridge.on(Be.exitCommentMode,()=>this.exitCommentMode()),this.iframeBridge.on(Be.reset,()=>this.handleResetEvent())}handleKeyboardEvent(e){switch(e){case Hi.period:this.openNextPage();break;case Hi.comma:this.openPreviousPage();break;case Hi.esc:this.exitCommentMode(),this.hideFilterOptions();break;case Hi.comment:this.toogleCommentMode();break}}replayBridgeEvents(){for(;this.bridgeEventsQueue.length;){const e=this.bridgeEventsQueue.pop();e&&this.triggerOnBridge(...e)}}hidePlayerControls(){window.$axure.player.hideAllPlayerControllers()}hidePinsControls(){const e=window.$axpin;e&&typeof e.removeAll=="function"&&e.removeAll()}resizePlayerContent(){window.$axure.player.resizeContent()}openNextPage(){this.bootstrapper&&this.bootstrapper.openNextPage()}openPreviousPage(){this.bootstrapper&&this.bootstrapper.openPreviousPage()}toogleCommentMode(){this.bootstrapper&&this.bootstrapper.toogleCommentMode()}exitCommentMode(){this.bootstrapper&&this.bootstrapper.exitCommentMode()}hideFilterOptions(){this.bootstrapper&&this.bootstrapper.toggleFilterActive(!1)}handleResetEvent(){this.exitCommentMode(),this.hideFilterOptions()}togglePlugin(e){e.hide?this.pluginHide(e.id):this.pluginShow(e.gid)}pluginHide(e){try{window.$axure.player.pluginClose(e)}catch{}}pluginShow(e){try{window.$axure.player.showPlugin(e)}catch{}}selectAdaptiveView(e){window.$axure.player.selectAdaptiveView(e)}async selectScaleOption(e){await ms(()=>window.$axure.player&&window.$axure.player.selectScaleOption&&typeof window.$axure.player.selectScaleOption=="function",void 0,50),window.$axure.player.selectScaleOption(e)}setZoom(e){var t;(t=this.bootstrapper)==null||t.setZoom(e)}selectOverlayOption(e){this.bootstrapper&&this.bootstrapper.selectOverlayOption(e)}getDocumentConfiguration(){const{configuration:e}=window.$axure.document;this.triggerOnBridge(ii.documentConfiguration,e)}emitPageData(){if(!this.bootstrapper)return;const e=this.bootstrapper.getPageData();e&&this.triggerOnBridge(ii.playerMessageCenterEvent,{message:"setState",data:{key:"page.data",value:e}})}navigateToIssue(e){window.$axure.player&&window.$axure.player.navigateToIssue&&typeof window.$axure.player.navigateToIssue=="function"&&window.$axure.player.navigateToIssue(e)}updateNotificationState(e){window.$axure.messageCenter&&window.$axure.messageCenter.postMessage("updateNotificationState",e)}updateIsPanZoomEnabled(){var e;typeof((e=window.$axure.player)==null?void 0:e.isPanZoomEnabled)=="function"&&this.triggerOnBridge(ii.updateIsPanZoomEnabled,window.$axure.player.isPanZoomEnabled())}}const m1={State:np};$.holdReady(!0);function v1(i){return!!i.SHORTCUT}let Lc=!1,zo="";(async()=>{function i(){return window&&window.$axure&&window.$axure.document&&window.$axure.document.configuration}await ms(()=>{if(v1(window))return Lc=!0,zo=window.SHORTCUT,!0;const t=i();return zo=t&&t.prototypeId||"",!!zo},void 0,50),Lc||$.holdReady(!1);const e="/";try{await new np({baseUrl:e,shortcut:zo,projectType:Lc?"Expo":"RP",startPageId:dc(window.location.href,"id"),inspectMode:AS(dc(window.location.href,"hand"))}).setup()}catch(t){console.error(zS(t).message)}})();var sp="Expected a function",op=0/0,y1="[object Symbol]",b1=/^\s+|\s+$/g,w1=/^[-+]0x[0-9a-f]+$/i,S1=/^0b[01]+$/i,x1=/^0o[0-7]+$/i,O1=parseInt,C1=typeof kt=="object"&&kt&&kt.Object===Object&&kt,k1=typeof self=="object"&&self&&self.Object===Object&&self,A1=C1||k1||Function("return this")(),_1=Object.prototype,P1=_1.toString,E1=Math.max,T1=Math.min,$c=function(){return A1.Date.now()};function I1(i,e,t){var r,n,s,o,a,l,c=0,h=!1,u=!1,f=!0;if(typeof i!="function")throw new TypeError(sp);e=ap(e)||0,Fo(t)&&(h=!!t.leading,u="maxWait"in t,s=u?E1(ap(t.maxWait)||0,e):s,f="trailing"in t?!!t.trailing:f);function d(R){var D=r,j=n;return r=n=void 0,c=R,o=i.apply(j,D),o}function p(R){return c=R,a=setTimeout(v,e),h?d(R):o}function g(R){var D=R-l,j=R-c,M=e-D;return u?T1(M,s-j):M}function y(R){var D=R-l,j=R-c;return l===void 0||D>=e||D<0||u&&j>=s}function v(){var R=$c();if(y(R))return S(R);a=setTimeout(v,g(R))}function S(R){return a=void 0,f&&r?d(R):(r=n=void 0,o)}function k(){a!==void 0&&clearTimeout(a),c=0,r=l=n=a=void 0}function P(){return a===void 0?o:S($c())}function T(){var R=$c(),D=y(R);if(r=arguments,n=this,l=R,D){if(a===void 0)return p(l);if(u)return a=setTimeout(v,e),d(l)}return a===void 0&&(a=setTimeout(v,e)),o}return T.cancel=k,T.flush=P,T}function R1(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(sp);return Fo(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),I1(i,e,{leading:r,maxWait:e,trailing:n})}function Fo(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}function D1(i){return!!i&&typeof i=="object"}function L1(i){return typeof i=="symbol"||D1(i)&&P1.call(i)==y1}function ap(i){if(typeof i=="number")return i;if(L1(i))return op;if(Fo(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Fo(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=i.replace(b1,"");var t=S1.test(i);return t||x1.test(i)?O1(i.slice(2),t?2:8):w1.test(i)?op:+i}var xs=R1,Me=(i=>(i[i.SetPanelState=0]="SetPanelState",i[i.PreviousScreen=1]="PreviousScreen",i[i.NextScreen=2]="NextScreen",i[i.PreviousHistoryScreen=3]="PreviousHistoryScreen",i[i.PointOnScreen=4]="PointOnScreen",i[i.ExternalUrl=5]="ExternalUrl",i))(Me||{}),rt=(i=>(i[i.Click=0]="Click",i[i.DoubleClick=1]="DoubleClick",i[i.SwipeRight=2]="SwipeRight",i[i.SwipeLeft=3]="SwipeLeft",i[i.SwipeUp=4]="SwipeUp",i[i.SwipeDown=5]="SwipeDown",i))(rt||{}),Le=(i=>(i[i.None=0]="None",i[i.Fade=1]="Fade",i[i.PushRight=2]="PushRight",i[i.PushLeft=3]="PushLeft",i[i.SlideRight=4]="SlideRight",i[i.SlideLeft=5]="SlideLeft",i[i.SlideUp=6]="SlideUp",i[i.SlideDown=7]="SlideDown",i[i.FlipRight=8]="FlipRight",i[i.FlipLeft=9]="FlipLeft",i[i.FlipUp=10]="FlipUp",i[i.FlipDown=11]="FlipDown",i))(Le||{}),Vi=(i=>(i[i.None=0]="None",i[i.Swing=1]="Swing",i[i.Linear=2]="Linear",i[i.EaseInCubic=3]="EaseInCubic",i[i.EaseOutCubic=4]="EaseOutCubic",i[i.EaseInOutCubic=5]="EaseInOutCubic",i[i.Bounce=6]="Bounce",i[i.Elastic=7]="Elastic",i))(Vi||{}),On=(i=>(i[i.Jpg=0]="Jpg",i[i.Png=1]="Png",i[i.Gif=2]="Gif",i[i.Axvg=3]="Axvg",i))(On||{}),Mc=(i=>(i[i.Web=0]="Web",i[i.Mobile=1]="Mobile",i[i.MobileApple=2]="MobileApple",i[i.MobileGoogle=3]="MobileGoogle",i[i.MobileSamsung=4]="MobileSamsung",i))(Mc||{}),cr=(i=>(i[i.IPhone8=0]="IPhone8",i[i.IPhone8Plus=1]="IPhone8Plus",i[i.IPhoneSE=2]="IPhoneSE",i[i.IPhoneX=3]="IPhoneX",i[i.IPhone11Pro=4]="IPhone11Pro",i[i.IPhone12Pro=5]="IPhone12Pro",i[i.IPhone12ProMax=6]="IPhone12ProMax",i[i.IPhone13Pro=7]="IPhone13Pro",i[i.IPhone13ProMax=8]="IPhone13ProMax",i[i.IPadMini7_9=9]="IPadMini7_9",i[i.IPadMini8_3=10]="IPadMini8_3",i[i.IPad10_2=11]="IPad10_2",i[i.IPadPro11=12]="IPadPro11",i[i.IPadPro12_9=13]="IPadPro12_9",i[i.GalaxyS8=14]="GalaxyS8",i[i.Pixel2=15]="Pixel2",i[i.Pixel2XL=16]="Pixel2XL",i[i.Mobile=17]="Mobile",i[i.Tablet9=18]="Tablet9",i[i.Tablet7=19]="Tablet7",i[i.Custom=20]="Custom",i[i.Web=21]="Web",i[i.Auto=22]="Auto",i[i.IPhone11=23]="IPhone11",i[i.GalaxyS9=24]="GalaxyS9",i[i.GalaxyS10=25]="GalaxyS10",i[i.Pixel3=26]="Pixel3",i[i.Pixel3XL=27]="Pixel3XL",i[i.Pixel4=28]="Pixel4",i[i.Pixel5=29]="Pixel5",i[i.Pixel4XL=30]="Pixel4XL",i))(cr||{}),Os=(i=>(i[i.Left=0]="Left",i[i.Center=1]="Center",i[i.Right=2]="Right",i))(Os||{}),Cs=(i=>(i[i.Top=0]="Top",i[i.Middle=1]="Middle",i[i.Bottom=2]="Bottom",i))(Cs||{});for(let i=0;i<256;i++)(i<16?"0":"")+i.toString(16);window.$axExpo||(window.$axExpo={shortcutKey:"",resourceUrl:"",resourceAxureUrl:"",project:null,artboardMap:{},assetMap:{},imgMap:{},idMap:{},masterMap:{},bgImgLink:null,imgLoadTree:{},docObj:null,dataObj:null,objPaths:null,imgProcessedList:[],initProject:()=>null,processImgSeed:()=>null,processImgSeeds:()=>null,genDocObj:()=>null,previewEditPrototype:()=>null,previewPrototype:()=>null,pushHistory:()=>null,popHistory:()=>null,isLoaded:!1,isPreview:!1,enableLazyLoading:!0,generations:2}),window.$axExpo.initProject=(i,e,t,r,n,s=null)=>{window.$axExpo.shortcutKey=i,window.$axExpo.resourceUrl=e,window.$axExpo.resourceAxureUrl=t,window.$axExpo.project=r,window.$axExpo.artboardMap={},window.$axExpo.assetMap={},window.$axExpo.imgMap={},window.$axExpo.idMap={},window.$axExpo.masterMap=n,window.$axExpo.bgImgLink=s,window.$axExpo.imgLoadTree={},window.$axExpo.imgProcessedList=[],window.$axExpo.isLoaded=!0};function $1(i,e=document.head,t=!1){const r=document.createElement("script");r.type="text/javascript",r.src=i,r.async=t,e.appendChild(r)}function Ho(i,e=document.head){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=i,e.appendChild(t)}function lp(i){if(cp(i.artboardAsset.OriginalFileName))return i.artboardAsset.Dimensions;const e=[];for(const t in i.assets){const r=i.assets[t];r.LayerId===i.artboardAsset.LayerId&&r.Type!==On.Axvg&&e.push(r)}for(const t of e)if(t.Scale&&t.Scale===1||cp(t.OriginalFileName))return t.Dimensions;return i.artboardAsset.Dimensions}function cp(i){const e=i.split("."),t=e[e.length-2];return!(t.endsWith("@2x")||t.endsWith("@3x"))}let hp=class{constructor(){A(this,"items");A(this,"length");this.items=[],this.length=0}push(e){e==null||e===void 0||(this.items[this.length++]=e)}pop(){if(this.length<1)return null;const e=this.items[--this.length];return delete this.items[this.length],e}peek(){return this.length<1?null:this.items[this.length-1]}count(){return this.length}};function M1(){return"<div class='dottedDivider'></div>"}function up(){return $(`
<div class='handoffLayerViewRow'>
  <div class='handoffLayerViewCell'>
    <span class='handoffCloseSection handoffCloseIcon'>&times;</span>
  </div>
</div>
`)}class fp{constructor(e,t,r){A(this,"layerSection",$("<div class='handoffLayerSection'>"));A(this,"sectionBody",$("<div class='handoffLayerSectionBody handoffLayerSectionContentBody'>"));this.sectionBody.append(t),this.layerSection.append($(`<div class='handoffSectionName'>${e}</div>`)),this.layerSection.append(this.sectionBody),r&&this.mount(r)}mount(e){this.layerSection.appendTo(e)}}var B1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0},dp=typeof Symbol<"u"&&Symbol,N1=B1,z1=function(){return typeof dp!="function"||typeof Symbol!="function"||typeof dp("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:N1()},F1="Function.prototype.bind called on incompatible ",Bc=Array.prototype.slice,H1=Object.prototype.toString,W1="[object Function]",j1=function(e){var t=this;if(typeof t!="function"||H1.call(t)!==W1)throw new TypeError(F1+t);for(var r=Bc.call(arguments,1),n,s=function(){if(this instanceof n){var h=t.apply(this,r.concat(Bc.call(arguments)));return Object(h)===h?h:this}else return t.apply(e,r.concat(Bc.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n},V1=j1,Nc=Function.prototype.bind||V1,U1=Nc,X1=U1.call(Function.call,Object.prototype.hasOwnProperty),Pe,Cn=SyntaxError,pp=Function,kn=TypeError,zc=function(i){try{return pp('"use strict"; return ('+i+").constructor;")()}catch{}},Ur=Object.getOwnPropertyDescriptor;if(Ur)try{Ur({},"")}catch{Ur=null}var Fc=function(){throw new kn},G1=Ur?function(){try{return arguments.callee,Fc}catch{try{return Ur(arguments,"callee").get}catch{return Fc}}}():Fc,An=z1(),hr=Object.getPrototypeOf||function(i){return i.__proto__},_n={},Q1=typeof Uint8Array>"u"?Pe:hr(Uint8Array),Pn={"%AggregateError%":typeof AggregateError>"u"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":An?hr([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":_n,"%AsyncGenerator%":_n,"%AsyncGeneratorFunction%":_n,"%AsyncIteratorPrototype%":_n,"%Atomics%":typeof Atomics>"u"?Pe:Atomics,"%BigInt%":typeof BigInt>"u"?Pe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Pe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pe:FinalizationRegistry,"%Function%":pp,"%GeneratorFunction%":_n,"%Int8Array%":typeof Int8Array>"u"?Pe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":An?hr(hr([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map>"u"?Pe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!An?Pe:hr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pe:Promise,"%Proxy%":typeof Proxy>"u"?Pe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!An?Pe:hr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":An?hr(""[Symbol.iterator]()):Pe,"%Symbol%":An?Symbol:Pe,"%SyntaxError%":Cn,"%ThrowTypeError%":G1,"%TypedArray%":Q1,"%TypeError%":kn,"%Uint8Array%":typeof Uint8Array>"u"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Pe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pe:WeakSet},Y1=function i(e){var t;if(e==="%AsyncFunction%")t=zc("async function () {}");else if(e==="%GeneratorFunction%")t=zc("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=zc("async function* () {}");else if(e==="%AsyncGenerator%"){var r=i("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=i("%AsyncGenerator%");n&&(t=hr(n.prototype))}return Pn[e]=t,t},gp={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ks=Nc,Wo=X1,q1=ks.call(Function.call,Array.prototype.concat),K1=ks.call(Function.apply,Array.prototype.splice),mp=ks.call(Function.call,String.prototype.replace),jo=ks.call(Function.call,String.prototype.slice),Z1=ks.call(Function.call,RegExp.prototype.exec),J1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,eO=/\\(\\)?/g,tO=function(e){var t=jo(e,0,1),r=jo(e,-1);if(t==="%"&&r!=="%")throw new Cn("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Cn("invalid intrinsic syntax, expected opening `%`");var n=[];return mp(e,J1,function(s,o,a,l){n[n.length]=a?mp(l,eO,"$1"):o||s}),n},iO=function(e,t){var r=e,n;if(Wo(gp,r)&&(n=gp[r],r="%"+n[0]+"%"),Wo(Pn,r)){var s=Pn[r];if(s===_n&&(s=Y1(r)),typeof s>"u"&&!t)throw new kn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:s}}throw new Cn("intrinsic "+e+" does not exist!")},Hc=function(e,t){if(typeof e!="string"||e.length===0)throw new kn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new kn('"allowMissing" argument must be a boolean');if(Z1(/^%?[^%]*%?$/g,e)===null)throw new Cn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=tO(e),n=r.length>0?r[0]:"",s=iO("%"+n+"%",t),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],K1(r,q1([0,1],c)));for(var h=1,u=!0;h<r.length;h+=1){var f=r[h],d=jo(f,0,1),p=jo(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Cn("property names with quotes must have matching quotes");if((f==="constructor"||!u)&&(l=!0),n+="."+f,o="%"+n+"%",Wo(Pn,o))a=Pn[o];else if(a!=null){if(!(f in a)){if(!t)throw new kn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ur&&h+1>=r.length){var g=Ur(a,f);u=!!g,u&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[f]}else u=Wo(a,f),a=a[f];u&&!l&&(Pn[o]=a)}}return a},Wc={},rO={get exports(){return Wc},set exports(i){Wc=i}};(function(i){var e=Nc,t=Hc,r=t("%Function.prototype.apply%"),n=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(n,r),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}i.exports=function(u){var f=s(e,n,arguments);if(o&&a){var d=o(f,"length");d.configurable&&a(f,"length",{value:1+l(0,u.length-(arguments.length-1))})}return f};var c=function(){return s(e,r,arguments)};a?a(i.exports,"apply",{value:c}):i.exports.apply=c})(rO);var vp=Hc,yp=Wc,nO=yp(vp("String.prototype.indexOf")),sO=function(e,t){var r=vp(e,!!t);return typeof r=="function"&&nO(e,".prototype.")>-1?yp(r):r};const oO=US(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var jc=typeof Map=="function"&&Map.prototype,Vc=Object.getOwnPropertyDescriptor&&jc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Vo=jc&&Vc&&typeof Vc.get=="function"?Vc.get:null,aO=jc&&Map.prototype.forEach,Uc=typeof Set=="function"&&Set.prototype,Xc=Object.getOwnPropertyDescriptor&&Uc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Uo=Uc&&Xc&&typeof Xc.get=="function"?Xc.get:null,lO=Uc&&Set.prototype.forEach,cO=typeof WeakMap=="function"&&WeakMap.prototype,As=cO?WeakMap.prototype.has:null,hO=typeof WeakSet=="function"&&WeakSet.prototype,_s=hO?WeakSet.prototype.has:null,uO=typeof WeakRef=="function"&&WeakRef.prototype,bp=uO?WeakRef.prototype.deref:null,fO=Boolean.prototype.valueOf,dO=Object.prototype.toString,pO=Function.prototype.toString,gO=String.prototype.match,Gc=String.prototype.slice,ur=String.prototype.replace,mO=String.prototype.toUpperCase,wp=String.prototype.toLowerCase,Sp=RegExp.prototype.test,xp=Array.prototype.concat,wi=Array.prototype.join,vO=Array.prototype.slice,Op=Math.floor,Qc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yc=Object.getOwnPropertySymbols,qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,En=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===En||"symbol")?Symbol.toStringTag:null,Cp=Object.prototype.propertyIsEnumerable,kp=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Ap(i,e){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||Sp.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var r=i<0?-Op(-i):Op(i);if(r!==i){var n=String(r),s=Gc.call(e,n.length+1);return ur.call(n,t,"$&_")+"."+ur.call(ur.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ur.call(e,t,"$&_")}var Kc=oO,_p=Kc.custom,Pp=Ip(_p)?_p:null,yO=function i(e,t,r,n){var s=t||{};if(fr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=fr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Dp(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Ap(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Ap(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof e=="object")return Zc(e)?"[Array]":"[Object]";var u=MO(s,r);if(typeof n>"u")n=[];else if(Rp(n,e)>=0)return"[Circular]";function f(C,m,L){if(m&&(n=vO.call(n),n.push(m)),L){var Y={depth:s.depth};return fr(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),i(C,Y,r+1,n)}return i(C,s,r+1,n)}if(typeof e=="function"&&!Tp(e)){var d=_O(e),p=Xo(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+wi.call(p,", ")+" }":"")}if(Ip(e)){var g=En?ur.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qc.call(e);return typeof e=="object"&&!En?Ps(g):g}if(DO(e)){for(var y="<"+wp.call(String(e.nodeName)),v=e.attributes||[],S=0;S<v.length;S++)y+=" "+v[S].name+"="+Ep(bO(v[S].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+wp.call(String(e.nodeName))+">",y}if(Zc(e)){if(e.length===0)return"[]";var k=Xo(e,f);return u&&!$O(k)?"["+eh(k,u)+"]":"[ "+wi.call(k,", ")+" ]"}if(SO(e)){var P=Xo(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Cp.call(e,"cause")?"{ ["+String(e)+"] "+wi.call(xp.call("[cause]: "+f(e.cause),P),", ")+" }":P.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+wi.call(P,", ")+" }"}if(typeof e=="object"&&o){if(Pp&&typeof e[Pp]=="function"&&Kc)return Kc(e,{depth:h-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(PO(e)){var T=[];return aO.call(e,function(C,m){T.push(f(m,e,!0)+" => "+f(C,e))}),Lp("Map",Vo.call(e),T,u)}if(IO(e)){var R=[];return lO.call(e,function(C){R.push(f(C,e))}),Lp("Set",Uo.call(e),R,u)}if(EO(e))return Jc("WeakMap");if(RO(e))return Jc("WeakSet");if(TO(e))return Jc("WeakRef");if(OO(e))return Ps(f(Number(e)));if(kO(e))return Ps(f(Qc.call(e)));if(CO(e))return Ps(fO.call(e));if(xO(e))return Ps(f(String(e)));if(!wO(e)&&!Tp(e)){var D=Xo(e,f),j=kp?kp(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",G=!j&&vt&&Object(e)===e&&vt in e?Gc.call(dr(e),8,-1):M?"Object":"",re=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=re+(G||M?"["+wi.call(xp.call([],G||[],M||[]),": ")+"] ":"");return D.length===0?w+"{}":u?w+"{"+eh(D,u)+"}":w+"{ "+wi.call(D,", ")+" }"}return String(e)};function Ep(i,e,t){var r=(t.quoteStyle||e)==="double"?'"':"'";return r+i+r}function bO(i){return ur.call(String(i),/"/g,"&quot;")}function Zc(i){return dr(i)==="[object Array]"&&(!vt||!(typeof i=="object"&&vt in i))}function wO(i){return dr(i)==="[object Date]"&&(!vt||!(typeof i=="object"&&vt in i))}function Tp(i){return dr(i)==="[object RegExp]"&&(!vt||!(typeof i=="object"&&vt in i))}function SO(i){return dr(i)==="[object Error]"&&(!vt||!(typeof i=="object"&&vt in i))}function xO(i){return dr(i)==="[object String]"&&(!vt||!(typeof i=="object"&&vt in i))}function OO(i){return dr(i)==="[object Number]"&&(!vt||!(typeof i=="object"&&vt in i))}function CO(i){return dr(i)==="[object Boolean]"&&(!vt||!(typeof i=="object"&&vt in i))}function Ip(i){if(En)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!qc)return!1;try{return qc.call(i),!0}catch{}return!1}function kO(i){if(!i||typeof i!="object"||!Qc)return!1;try{return Qc.call(i),!0}catch{}return!1}var AO=Object.prototype.hasOwnProperty||function(i){return i in this};function fr(i,e){return AO.call(i,e)}function dr(i){return dO.call(i)}function _O(i){if(i.name)return i.name;var e=gO.call(pO.call(i),/^function\s*([\w$]+)/);return e?e[1]:null}function Rp(i,e){if(i.indexOf)return i.indexOf(e);for(var t=0,r=i.length;t<r;t++)if(i[t]===e)return t;return-1}function PO(i){if(!Vo||!i||typeof i!="object")return!1;try{Vo.call(i);try{Uo.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function EO(i){if(!As||!i||typeof i!="object")return!1;try{As.call(i,As);try{_s.call(i,_s)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function TO(i){if(!bp||!i||typeof i!="object")return!1;try{return bp.call(i),!0}catch{}return!1}function IO(i){if(!Uo||!i||typeof i!="object")return!1;try{Uo.call(i);try{Vo.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function RO(i){if(!_s||!i||typeof i!="object")return!1;try{_s.call(i,_s);try{As.call(i,As)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function DO(i){return!i||typeof i!="object"?!1:typeof HTMLElement<"u"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function Dp(i,e){if(i.length>e.maxStringLength){var t=i.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return Dp(Gc.call(i,0,e.maxStringLength),e)+r}var n=ur.call(ur.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,LO);return Ep(n,"single",e)}function LO(i){var e=i.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+mO.call(e.toString(16))}function Ps(i){return"Object("+i+")"}function Jc(i){return i+" { ? }"}function Lp(i,e,t,r){var n=r?eh(t,r):wi.call(t,", ");return i+" ("+e+") {"+n+"}"}function $O(i){for(var e=0;e<i.length;e++)if(Rp(i[e],`
`)>=0)return!1;return!0}function MO(i,e){var t;if(i.indent==="	")t="	";else if(typeof i.indent=="number"&&i.indent>0)t=wi.call(Array(i.indent+1)," ");else return null;return{base:t,prev:wi.call(Array(e+1),t)}}function eh(i,e){if(i.length===0)return"";var t=`
`+e.prev+e.base;return t+wi.call(i,","+t)+`
`+e.prev}function Xo(i,e){var t=Zc(i),r=[];if(t){r.length=i.length;for(var n=0;n<i.length;n++)r[n]=fr(i,n)?e(i[n],i):""}var s=typeof Yc=="function"?Yc(i):[],o;if(En){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in i)fr(i,l)&&(t&&String(Number(l))===l&&l<i.length||En&&o["$"+l]instanceof Symbol||(Sp.call(/[^\w$]/,l)?r.push(e(l,i)+": "+e(i[l],i)):r.push(l+": "+e(i[l],i))));if(typeof Yc=="function")for(var c=0;c<s.length;c++)Cp.call(i,s[c])&&r.push("["+e(s[c])+"]: "+e(i[s[c]],i));return r}var th=Hc,Tn=sO,BO=yO,NO=th("%TypeError%"),Go=th("%WeakMap%",!0),Qo=th("%Map%",!0),zO=Tn("WeakMap.prototype.get",!0),FO=Tn("WeakMap.prototype.set",!0),HO=Tn("WeakMap.prototype.has",!0),WO=Tn("Map.prototype.get",!0),jO=Tn("Map.prototype.set",!0),VO=Tn("Map.prototype.has",!0),ih=function(i,e){for(var t=i,r;(r=t.next)!==null;t=r)if(r.key===e)return t.next=r.next,r.next=i.next,i.next=r,r},UO=function(i,e){var t=ih(i,e);return t&&t.value},XO=function(i,e,t){var r=ih(i,e);r?r.value=t:i.next={key:e,next:i.next,value:t}},GO=function(i,e){return!!ih(i,e)},QO=function(){var e,t,r,n={assert:function(s){if(!n.has(s))throw new NO("Side channel does not contain "+BO(s))},get:function(s){if(Go&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zO(e,s)}else if(Qo){if(t)return WO(t,s)}else if(r)return UO(r,s)},has:function(s){if(Go&&s&&(typeof s=="object"||typeof s=="function")){if(e)return HO(e,s)}else if(Qo){if(t)return VO(t,s)}else if(r)return GO(r,s);return!1},set:function(s,o){Go&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Go),FO(e,s,o)):Qo?(t||(t=new Qo),jO(t,s,o)):(r||(r={key:{},next:null}),XO(r,s,o))}};return n},YO=String.prototype.replace,qO=/%20/g,rh={RFC1738:"RFC1738",RFC3986:"RFC3986"},nh={default:rh.RFC3986,formatters:{RFC1738:function(i){return YO.call(i,qO,"+")},RFC3986:function(i){return String(i)}},RFC1738:rh.RFC1738,RFC3986:rh.RFC3986},KO=nh,sh=Object.prototype.hasOwnProperty,Xr=Array.isArray,Si=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),ZO=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Xr(r)){for(var n=[],s=0;s<r.length;++s)typeof r[s]<"u"&&n.push(r[s]);t.obj[t.prop]=n}}},$p=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},JO=function i(e,t,r){if(!t)return e;if(typeof t!="object"){if(Xr(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!sh.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return Xr(e)&&!Xr(t)&&(n=$p(e,r)),Xr(e)&&Xr(t)?(t.forEach(function(s,o){if(sh.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=i(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return sh.call(s,o)?s[o]=i(s[o],a,r):s[o]=a,s},n)},eC=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},tC=function(i,e,t){var r=i.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},iC=function(e,t,r,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===KO.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Si[c];continue}if(c<2048){a=a+(Si[192|c>>6]+Si[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Si[224|c>>12]+Si[128|c>>6&63]+Si[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Si[240|c>>18]+Si[128|c>>12&63]+Si[128|c>>6&63]+Si[128|c&63]}return a},rC=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(t.push({obj:o,prop:c}),r.push(h))}return ZO(t),e},nC=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},sC=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},oC=function(e,t){return[].concat(e,t)},aC=function(e,t){if(Xr(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},Mp={arrayToObject:$p,assign:eC,combine:oC,compact:rC,decode:tC,encode:iC,isBuffer:sC,isRegExp:nC,maybeMap:aC,merge:JO},Bp=QO,Yo=Mp,Es=nh,lC=Object.prototype.hasOwnProperty,Np={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ui=Array.isArray,cC=Array.prototype.push,zp=function(i,e){cC.apply(i,Ui(e)?e:[e])},hC=Date.prototype.toISOString,Fp=Es.default,yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yo.encode,encodeValuesOnly:!1,format:Fp,formatter:Es.formatters[Fp],indices:!1,serializeDate:function(e){return hC.call(e)},skipNulls:!1,strictNullHandling:!1},uC=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},oh={},fC=function i(e,t,r,n,s,o,a,l,c,h,u,f,d,p,g,y){for(var v=e,S=y,k=0,P=!1;(S=S.get(oh))!==void 0&&!P;){var T=S.get(e);if(k+=1,typeof T<"u"){if(T===k)throw new RangeError("Cyclic object value");P=!0}typeof S.get(oh)>"u"&&(k=0)}if(typeof l=="function"?v=l(t,v):v instanceof Date?v=u(v):r==="comma"&&Ui(v)&&(v=Yo.maybeMap(v,function(Y){return Y instanceof Date?u(Y):Y})),v===null){if(s)return a&&!p?a(t,yt.encoder,g,"key",f):t;v=""}if(uC(v)||Yo.isBuffer(v)){if(a){var R=p?t:a(t,yt.encoder,g,"key",f);return[d(R)+"="+d(a(v,yt.encoder,g,"value",f))]}return[d(t)+"="+d(String(v))]}var D=[];if(typeof v>"u")return D;var j;if(r==="comma"&&Ui(v))p&&a&&(v=Yo.maybeMap(v,a)),j=[{value:v.length>0?v.join(",")||null:void 0}];else if(Ui(l))j=l;else{var M=Object.keys(v);j=c?M.sort(c):M}for(var G=n&&Ui(v)&&v.length===1?t+"[]":t,re=0;re<j.length;++re){var w=j[re],C=typeof w=="object"&&typeof w.value<"u"?w.value:v[w];if(!(o&&C===null)){var m=Ui(v)?typeof r=="function"?r(G,w):G:G+(h?"."+w:"["+w+"]");y.set(e,k);var L=Bp();L.set(oh,y),zp(D,i(C,m,r,n,s,o,r==="comma"&&p&&Ui(v)?null:a,l,c,h,u,f,d,p,g,L))}}return D},dC=function(e){if(!e)return yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Es.default;if(typeof e.format<"u"){if(!lC.call(Es.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Es.formatters[r],s=yt.filter;return(typeof e.filter=="function"||Ui(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yt.encode,encoder:typeof e.encoder=="function"?e.encoder:yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yt.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yt.strictNullHandling}},pC=function(i,e){var t=i,r=dC(e),n,s;typeof r.filter=="function"?(s=r.filter,t=s("",t)):Ui(r.filter)&&(s=r.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in Np?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Np[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(t)),r.sort&&n.sort(r.sort);for(var h=Bp(),u=0;u<n.length;++u){var f=n[u];r.skipNulls&&t[f]===null||zp(o,fC(t[f],f,l,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,h))}var d=o.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},In=Mp,ah=Object.prototype.hasOwnProperty,gC=Array.isArray,lt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:In.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},mC=function(i){return i.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Hp=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},vC="utf8=%26%2310003%3B",yC="utf8=%E2%9C%93",bC=function(e,t){var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,l,c=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===yC?c="utf-8":o[l]===vC&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],u=h.indexOf("]="),f=u===-1?h.indexOf("="):u+1,d,p;f===-1?(d=t.decoder(h,lt.decoder,c,"key"),p=t.strictNullHandling?null:""):(d=t.decoder(h.slice(0,f),lt.decoder,c,"key"),p=In.maybeMap(Hp(h.slice(f+1),t),function(g){return t.decoder(g,lt.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=mC(p)),h.indexOf("[]=")>-1&&(p=gC(p)?[p]:p),ah.call(r,d)?r[d]=In.combine(r[d],p):r[d]=p}return r},wC=function(i,e,t,r){for(var n=r?e:Hp(e,t),s=i.length-1;s>=0;--s){var o,a=i[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!t.parseArrays&&l===""?o={0:n}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=n):l!=="__proto__"&&(o[l]=n)}n=o}return n},SC=function(e,t,r,n){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!r.plainObjects&&ah.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var u=0;r.depth>0&&(l=a.exec(s))!==null&&u<r.depth;){if(u+=1,!r.plainObjects&&ah.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+s.slice(l.index)+"]"),wC(h,t,r,n)}},xC=function(e){if(!e)return lt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?lt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?lt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:lt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:lt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:lt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:lt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:lt.comma,decoder:typeof e.decoder=="function"?e.decoder:lt.decoder,delimiter:typeof e.delimiter=="string"||In.isRegExp(e.delimiter)?e.delimiter:lt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:lt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:lt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:lt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:lt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:lt.strictNullHandling}},OC=function(i,e){var t=xC(e);if(i===""||i===null||typeof i>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof i=="string"?bC(i,t):i,n=t.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=SC(a,r[a],t,typeof i=="string");n=In.merge(n,l,t)}return t.allowSparse===!0?n:In.compact(n)},CC=pC,kC=OC,AC=nh,Wp={formats:AC,parse:kC,stringify:CC};const jp=wn(()=>Promise.resolve().then(()=>KT),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href);function Vp(i){return Array.isArray(i)?i.length===1?Up(i[0]):_C(i):Up(i)}async function _C(i){const e=await wn(()=>Promise.resolve().then(()=>JT),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href),t=new e.default,r=[];async function n(o,a){const l=o.url,c=await Xp(l);a.file(o.fileName,c)}for(const o of i)r.push(n(o,t));await Promise.all(r);const s=await t.generateAsync({type:"blob"});(await jp).default.saveAs(s,"assets.zip")}async function Up(i){const e=i.url,t=await Xp(e);(await jp).default.saveAs(t,i.fileName)}function Xp(i){return new Promise((e,t)=>{const r=new XMLHttpRequest;r.responseType="blob";const n=PC(i);r.open("GET",encodeURI(n)),r.onload=function(){r.status===200?e(this.response):t()},r.send()})}function PC(i,e="t"){let t=i;const[r,n=""]=i.split("?"),s={...Wp.parse(n),[e]:Date.now()};return t=`${r}?${Wp.stringify(s)}`,t}class lh{constructor(e,t){A(this,"element",$("<div id='handoffLayerAssetsGroups'>"));this.setAssets(e),t&&this.mount(t)}setAssets(e){for(const t of e)this.addAssetGroup(t)}setSize(e){$(".handoffAssetGroupDimensions").text(`${e.width}px x ${e.height}px`)}mount(e){this.element.appendTo(e)}addAssetGroup(e,t=!1){const r=$(`
<div>
  <div class='handoffAssetGroup'>
    <div class='handoffAssetGroupTitle'>
      <div class='handoffLayerViewRow'>
        <div class='handoffLayerViewCell'>
          ${EC(t)}
        </div>
      </div>
    </div>
  </div>
</div>
`),n=r.find(".handoffAssetGroupModifier"),s=r.find(".handoffExportAssets"),o=r.find(".handoffAssetGroup"),a=r.find(".handoffAssetGroupExtension");o.addClass(`handoffAssetGroup-${e.name}`),t&&o.addClass("handoffAssetGroup-simpleMode"),(t?r.find(".handoffExportAssetsLink"):s).click(()=>(this.exportAssets(e.assets),!1));const c=e.assets[0];c.modifier&&c.modifier!=="normal"&&n.text(`:${c.modifier}`),r.find("#handoffAssetGroupPreview").attr("src",c.url),a.text(`${c.fileType.toUpperCase()}`),this.element.append(r)}exportAssets(e){if(e.length!==0)return Vp(e)}}function EC(i){return i?`
<button class='handoffExportAssets handoffExportAssetsLink' title='Download assets'>
  <span class='handoffAssetGroupName'></span> <span class='handoffAssetGroupTotal'></span>
</button>
`:`
<div class='handoffAssetGroupModifier'></div>
<div class='handoffAssetGroupPreviewContainer'><img id='handoffAssetGroupPreview'/></div>
<span class='handoffAssetGroupName'></span>
<span class='handoffAssetGroupTotal'></span>
<div class='handoffAssetGroupDimensionsRow'>Size: <span class='handoffAssetGroupDimensions'></span></div>
<span>Type: <span class='handoffAssetGroupExtension'></span></span>
<button class='handoffExportAssets' title='Download assets'>Download</button>
`}class TC{constructor(e,t){A(this,"element",$("<div id='handoffArtboardAssetsLayerList'>"));this.setAssets(e),t&&this.mount(t)}mount(e){this.element.appendTo(e)}setAssets(e){for(const t of e)this.addAssetGroup(t)}addAssetGroup(e){const t=$(`
<div class='handoffArtboardAssetsLayerListItem'>
  <div class='handoffLayerViewRow'>
  <div class='handoffLayerViewCell'>
    <div class='handoffAssetLayerGroupItemInfo'>
      <span class='handoffAssetLayerGroupItemInfoLayerName'></span>
      <button class='handoffExportAssets toggleHandoffLayerAssetsBubble' title='Download assets'>&darr;</button>
      <div class='iBubble axContextSpeechBubbleTop handoffLayerAssetsBubble' style='display: none'>
        <div class='handoffAssetsList'>

        </div>
      </div>
    </div>
  </div>
  </div>
</div>
    `),r=t.find(".handoffAssetLayerGroupItemInfoLayerName"),n=t.find(".handoffLayerAssetsBubble"),s=t.find(".toggleHandoffLayerAssetsBubble"),o=t.find(".handoffAssetsList");s.click(()=>{const l=n.is(":visible");n.closest("#handoffArtboardAssetsLayerList").find(".handoffLayerAssetsBubble").hide(),n.toggle(!l)}),r.text(e.name),new lh(e.assets).mount(o),this.element.append(t)}}class IC{constructor(e,t){A(this,"close",up());A(this,"artboardAssets",$("<div id='handoffArtboardAssets' style='display: none;'>").append(this.close));A(this,"assets",$(`
<div>
  <div id='handoffArtboardAssetsList'></div>
  <div id='handoffArtboardAssetsLayerList'></div>
<div>`));A(this,"assetsAllList",this.assets.find("#handoffArtboardAssetsList"));A(this,"assetsByLayerList",this.assets.find("#handoffArtboardAssetsLayerList"));this.state=e,new fp("Assets",this.assets.contents()).mount(this.artboardAssets),t&&this.mount(t)}mount(e){this.attachEvents(),this.artboardAssets.appendTo(e)}set(e){this.setAssetsAll(e.all),this.setAssetsByLayer(e.byLayer)}show(){this.artboardAssets.show()}hide(){this.artboardAssets.hide()}setAssetsAll(e){this.assetsAllList.empty(),new lh(e).mount(this.assetsAllList)}setAssetsByLayer(e){this.assetsByLayerList.empty(),new TC(e).mount(this.assetsByLayerList)}attachEvents(){this.close.click(()=>{this.state.trigger(J.CloseLayerView)})}}var Ht=(i=>(i[i.Solid=0]="Solid",i[i.Gradient=1]="Gradient",i[i.Radial=2]="Radial",i[i.Angular=3]="Angular",i))(Ht||{}),ri=(i=>(i[i.Center=0]="Center",i[i.Inside=1]="Inside",i[i.Outside=2]="Outside",i))(ri||{}),Dt=(i=>(i[i.Left=0]="Left",i[i.Center=1]="Center",i[i.Right=2]="Right",i[i.Justified=3]="Justified",i))(Dt||{}),xi=(i=>(i[i.Normal=0]="Normal",i[i.Oblique=1]="Oblique",i[i.Italic=2]="Italic",i))(xi||{});function qo(i){return i.type===Ht.Solid}function Gp(i){return i.type===Ht.Gradient}function Qp(i){return i.type===Ht.Radial}function Yp(i){return i.type===Ht.Angular}const RC=i=>typeof i=="string";function DC(i){const{rect:e,selection:t}=i;return{...i,rect:qp(e),selection:qp(t)}}function qp({location:i,size:e}){return{location:{x:Ve(i.x,0),y:Ve(i.y,0)},size:{height:Ve(e.height,0),width:Ve(e.width,0)}}}const pr=i=>i.a===1?$C(i):LC(i),LC=({r:i,g:e,b:t,a:r})=>{const n=[i,e,t].map(Kp);return n.push(Ve(r,2)),`rgba(${n.join(", ")})`},$C=({r:i,g:e,b:t})=>`#${[i,e,t].map(Kp).map(MC).join("")}`,Kp=i=>i>1?i:Ve(i*255,0),MC=i=>{const e=i.toString(16);return e.length===1?`0${e}`:e};function BC(i){switch(i){case xi.Normal:return"normal";case xi.Oblique:case xi.Italic:return"italic";default:return"normal"}}function NC(i){return i?"underline":"none"}function zC(i){switch(i){case ri.Center:return"center";case ri.Inside:return"inside";case ri.Outside:return"outside";default:return"center"}}function FC(i){switch(i){case ri.Inside:return"border-box";default:return}}function Zp(i){switch(i){case Dt.Left:return"left";case Dt.Center:return"center";case Dt.Right:return"right";case Dt.Justified:return"justified";default:return"left"}}function HC(i){const e=Ko(i);if(e)return{backgroundColor:e.color,backgroundImage:e.image}}function Ko(i){if(Yp(i))return{image:WC(i)};if(Qp(i))return{image:jC(i)};if(Gp(i))return{image:VC(i)};if(qo(i))return{color:pr(i.color)}}function WC({center:i,angle:e,stops:t}){const r=`${e}deg`,n=[];for(const o of t)n.push(`${pr(o.color)} ${o.offset}turn`);const s=n.join(", ");return`conic-gradient(from ${r} at ${i.x}% ${i.y}%, ${s})`}function jC({axis1:i,axis2:e,center:t,stops:r}){const n=[];for(const o of r)n.push(`${pr(o.color)} ${o.offset}%`);const s=n.join(", ");return`radial-gradient(${i}% ${e}% at ${t.x}% ${t.y}%, ${s})`}function VC({angle:i,stops:e}){const t=`${i}deg`,r=[];for(const s of e)r.push(`${pr(s.color)} ${s.offset}%`);const n=r.join(", ");return`linear-gradient(${t}, ${n})`}function Jp(i){if(!i||i.length===0)return;const e=[];for(const t of i){if(!t.on)continue;const r=t.inner?"inset ":"",n=`${t.offsetX}px`,s=`${t.offsetY}px`,o=`${t.blurRadius}px`,a=`${t.spreadRadius}px`,l=pr(t.color);e.push(`${r}${n} ${s} ${o} ${a} ${l}`)}if(e.length!==0)return e.join(", ")}function UC(i){const{borderWidth:e,borderStyle:t,borderFill:r}=i;if(!e||e===0||e==="0")return;const n=`${e}px`,s=t||"solid";let o=null;if(r!==void 0&&r[0]!==void 0){const a=Ko(r[0]);o=a&&a.color?a.color:null}return o?`${n} ${s} ${o}`:`${n} ${s}`}function XC(i){return Number(i)>0?`${i}px`:i}function GC(i){return RC(i)?i:`${i}px`}function QC(i){return`${i.top}px ${i.right}px ${i.bottom}px ${i.left}px`}class Zo{constructor(e,t){A(this,"element",$("<div id='handoffFillsList'>"));this.setFills(e),t&&this.mount(t)}setFills(e){for(const t of e)this.addFill(t)}addFill(e){if(qo(e))this.addFillColor(e.color);else if(Gp(e)||Qp(e)||Yp(e))for(const t of e.stops)this.addFillColor(t.color)}mount(e){this.element.appendTo(e)}addFillColor(e){const t=this.newFill(),r=pr(e);t.find(".handoffFillSample").css("background-color",r),e.r===1&&e.g===1&&e.b===1?t.find(".handoffFillSample").css("border","1px solid #979797"):t.find(".handoffFillSample").css("border","1px solid transparent"),t.find(".handoffFillSampleValue").text(r),t.appendTo(this.element)}newFill(){return $(`
<div class="handoffFill">
  <div class="handoffFillSample"></div> <span class="handoffFillSampleValue handoffLayerValue"></span>
</div>`)}}class YC{constructor(e,t){A(this,"close",up());A(this,"artboardColors",$("<div id='handoffArtboardColors' style='display: none;'>").append(this.close));A(this,"container",$("<div id='handoffArtboardFillsList'>"));this.state=e,new fp("Colors",this.container).mount(this.artboardColors),t&&this.mount(t)}mount(e){this.attachEvents(),this.artboardColors.appendTo(e)}set(e){this.container.empty(),new Zo(e).mount(this.container)}show(){this.artboardColors.show()}hide(){this.artboardColors.hide()}attachEvents(){this.close.click(()=>{this.state.trigger(J.CloseLayerView)})}}class qC{constructor(){A(this,"element",$(`
<div id='handoffLayerAssetsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>Assets</span>
    <div class='download-all-assets-container'>
      <button type='button' class='handoff-download-btn'>Download All</button>
    </div>
  </div>

  <div class='handoffLayerSectionBody'>

  </div>
</div>
  `));A(this,"container",this.element.find(".handoffLayerSectionBody"));A(this,"downloadAllAssetsBtn",this.element.find(".handoff-download-btn"));A(this,"assetGroups",[])}mount(e){this.downloadAllAssetsBtn.on("click",this.downloadAll.bind(this)),this.element.appendTo(e)}set(e){this.setLayerAssets(e.assets,e.rect);const t=e.assets.length>0;this.element.toggle(t)}setLayerAssets(e,t){e.length>1?this.downloadAllAssetsBtn.show():this.downloadAllAssetsBtn.hide(),this.container.empty(),this.assetGroups=e;const r=new lh(e);r.mount(this.container),r.setSize(t.size)}downloadAll(){const e=this.assetGroups.map(r=>r.assets),t=[].concat(...e);return Vp(t)}}class KC{constructor(){A(this,"element",$(`
<div id='handoffLayerBordersSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Border</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Width: <span id='handoffBorderWidth' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Position: <span id='handoffBorderAlignment' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div id='handoffFillsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"borderWidth",this.element.find("#handoffBorderWidth"));A(this,"borderAlignment",this.element.find("#handoffBorderAlignment"));A(this,"container",this.element.find("#handoffFillsListContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setBorder(e.style),e.style.borderFill&&this.setFills(e.style.borderFill)}setBorder({borderWidth:e,borderAlignment:t}){const r=!!(e&&Number(e)>0);if(e!==void 0){let n=e;(typeof e=="number"||!e.endsWith("px"))&&(n=`${e}px`),this.borderWidth.text(n)}t!==void 0&&this.borderAlignment.text(zC(t)),this.element.toggle(r)}setFills(e){this.container.empty(),new Zo(e).mount(this.container)}}class eg{constructor(){A(this,"element",$(`
<div class='handoff-copy-to-clipboard'>
  <div class='copy-to-clipboard-toast'>Copied To Clipboard</div>
  <button type="button" title="Copy to clipboard" class="copy-to-clipboard-btn">
  </button>
</div>
  `));A(this,"button",this.element.find(".copy-to-clipboard-btn"));A(this,"toast",this.element.find(".copy-to-clipboard-toast"));A(this,"text")}mount(e){this.toast.hide(),this.element.appendTo(e),this.button.on("click",this.copyToClipboard.bind(this))}setText(e){this.text=e}async copyToClipboard(){this.text!==void 0&&await ES(this.text)&&(this.toast.show(),await yd(2e3),this.toast.hide())}}class ZC{constructor(){A(this,"element",$(`
<div id='handoffLayerContentSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>Content</span>
    <div class='copy-to-clipboard-container'></div>
  </div>
  <div class='handoffLayerSectionBody handoffLayerSectionContentBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        <div class='handoffTextContentContainer'>
          <div id='handoffTextContent' class='handoffLayerValue'></div>
        </div>
      </div>
    </div>
  </div>
</div>
  `));A(this,"textContent",this.element.find("#handoffTextContent"));A(this,"copyToClipboardContainer",this.element.find(".copy-to-clipboard-container"));A(this,"copyToClipboard");this.copyToClipboard=new eg}mount(e){this.copyToClipboard.mount(this.copyToClipboardContainer),this.element.appendTo(e)}set(e){this.setContent(e.style.text)}setContent(e){const t=!!e;e&&(this.copyToClipboard.setText(e),e.indexOf(`
`)<0?this.textContent.text(e):(this.textContent.text(""),e.split(`
`).forEach(n=>{n?$(`<p>${n}</p>`).appendTo(this.textContent):this.textContent.append($("<br/>"))}))),this.element.toggle(t)}}const tg=1024;let JC=0,ch=class{constructor(e,t){this.from=e,this.to=t}};class Se{constructor(e={}){this.id=JC++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Lt.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Se.closedBy=new Se({deserialize:i=>i.split(" ")}),Se.openedBy=new Se({deserialize:i=>i.split(" ")}),Se.group=new Se({deserialize:i=>i.split(" ")}),Se.contextHash=new Se({perNode:!0}),Se.lookAhead=new Se({perNode:!0}),Se.mounted=new Se({perNode:!0});const ek=Object.create(null);class Lt{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):ek,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new Lt(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Se.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return r=>{for(let n=r.prop(Se.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?r.name:n[s]];if(o)return o}}}}Lt.none=new Lt("",Object.create(null),0,8);class hh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let n=null;for(let s of e){let o=s(r);o&&(n||(n=Object.assign({},r.props)),n[o[0].id]=o[1])}t.push(n?new Lt(r.name,n,r.id,r.flags):r)}return new hh(t)}}const Jo=new WeakMap,ig=new WeakMap;var ct;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(ct||(ct={}));class Je{constructor(e,t,r,n,s){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(Se.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let n=r.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ia(this.topNode,e)}cursorAt(e,t=0,r=0){let n=Jo.get(this)||this.topNode,s=new ia(n);return s.moveTo(e,t),Jo.set(this,s._tree),s}get topNode(){return new ni(this,0,0,null)}resolve(e,t=0){let r=Rn(Jo.get(this)||this.topNode,e,t,!1);return Jo.set(this,r),r}resolveInner(e,t=0){let r=Rn(ig.get(this)||this.topNode,e,t,!0);return ig.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|ct.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=n&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:dh(Lt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,n)=>new Je(this.type,t,r,n,this.propValues),e.makeTree||((t,r,n)=>new Je(Lt.none,t,r,n)))}static build(e){return ik(e)}}Je.empty=new Je(Lt.none,[],[],0);class uh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uh(this.buffer,this.index)}}class Gr{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Lt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(rg(s,n,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-r;let c=s[l++]=n[a++]-r;s[l++]=n[a++]-e,o=Math.max(o,c)}return new Gr(s,o,this.set)}}function rg(i,e,t,r){switch(i){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function ng(i,e){let t=i.childBefore(e);for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}function Rn(i,e,t,r){for(var n;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!r&&i instanceof ni&&i.index<0?null:i.parent;if(!o)return i;i=o}let s=r?0:ct.IgnoreOverlays;if(r)for(let o=i,a=o.parent;a;o=a,a=o.parent)o instanceof ni&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(i=a);for(;;){let o=i.enter(e,t,s);if(!o)return i;i=o}}class ni{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],u=l[e]+o.from;if(rg(n,r,u,u+h.length)){if(h instanceof Gr){if(s&ct.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,t,r-u,n);if(f>-1)return new Oi(new tk(o,h,e,u),null,f)}else if(s&ct.IncludeAnonymous||!h.type.isAnonymous||fh(h)){let f;if(!(s&ct.IgnoreMounts)&&h.props&&(f=h.prop(Se.mounted))&&!f.overlay)return new ni(f.tree,u,e,o);let d=new ni(h,u,e,o);return s&ct.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?h.children.length-1:0,t,r,n)}}}if(s&ct.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&ct.IgnoreOverlays)&&(n=this._tree.prop(Se.mounted))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ni(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ia(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Rn(this,e,t,!1)}resolveInner(e,t=0){return Rn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return ng(this,e)}getChild(e,t=null,r=null){let n=ea(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return ea(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ta(this,e)}}function ea(i,e,t,r){let n=i.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(;!n.type.is(t);)if(!n.nextSibling())return s}for(;;){if(r!=null&&n.type.is(r))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return r==null?s:[]}}function ta(i,e,t=e.length-1){for(let r=i.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class tk{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class Oi{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Oi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ct.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Oi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Oi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Oi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ia(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,s=r.buffer[this.index+3];if(s>n){let o=r.buffer[this.index+1];e.push(r.slice(n,s,o)),t.push(0)}return new Je(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Rn(this,e,t,!1)}resolveInner(e,t=0){return Rn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return ng(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=ea(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return ea(this,e,t,r)}get node(){return this}matchContext(e){return ta(this,e)}}class ia{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ni)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return e?e instanceof ni?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ct.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ct.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ct.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let n=r<0?0:this.stack[r]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(n)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ct.IncludeAnonymous||a instanceof Gr||!a.type.isAnonymous||fh(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,r=s+1;break e}n=this.stack[--s]}for(let n=r;n<this.stack.length;n++)t=new Oi(this.buffer,t,this.stack[n]);return this.bufferNode=new Oi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return ta(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return ta(this.node,e,n);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function fh(i){return i.children.some(e=>e instanceof Gr||!e.type.isAnonymous||fh(e))}function ik(i){var e;let{buffer:t,nodeSet:r,maxBufferLength:n=tg,reused:s=[],minRepeatType:o=r.types.length}=i,a=Array.isArray(t)?new uh(t,t.length):t,l=r.types,c=0,h=0;function u(P,T,R,D,j){let{id:M,start:G,end:re,size:w}=a,C=h;for(;w<0;)if(a.next(),w==-1){let ie=s[M];R.push(ie),D.push(G-P);return}else if(w==-3){c=M;return}else if(w==-4){h=M;return}else throw new RangeError(`Unrecognized record size: ${w}`);let m=l[M],L,Y,X=G-P;if(re-G<=n&&(Y=g(a.pos-T,j))){let ie=new Uint16Array(Y.size-Y.skip),H=a.pos-Y.size,te=ie.length;for(;a.pos>H;)te=y(Y.start,ie,te);L=new Gr(ie,re-Y.start,r),X=Y.start-P}else{let ie=a.pos-w;a.next();let H=[],te=[],z=M>=o?M:-1,B=0,ue=re;for(;a.pos>ie;)z>=0&&a.id==z&&a.size>=0?(a.end<=ue-n&&(d(H,te,G,B,a.end,ue,z,C),B=H.length,ue=a.end),a.next()):u(G,ie,H,te,z);if(z>=0&&B>0&&B<H.length&&d(H,te,G,B,G,ue,z,C),H.reverse(),te.reverse(),z>-1&&B>0){let ae=f(m);L=dh(m,H,te,0,H.length,0,re-G,ae,ae)}else L=p(m,H,te,re-G,C-re)}R.push(L),D.push(X)}function f(P){return(T,R,D)=>{let j=0,M=T.length-1,G,re;if(M>=0&&(G=T[M])instanceof Je){if(!M&&G.type==P&&G.length==D)return G;(re=G.prop(Se.lookAhead))&&(j=R[M]+G.length+re)}return p(P,T,R,D,j)}}function d(P,T,R,D,j,M,G,re){let w=[],C=[];for(;P.length>D;)w.push(P.pop()),C.push(T.pop()+R-j);P.push(p(r.types[G],w,C,M-j,re-M)),T.push(j-R)}function p(P,T,R,D,j=0,M){if(c){let G=[Se.contextHash,c];M=M?[G].concat(M):[G]}if(j>25){let G=[Se.lookAhead,j];M=M?[G].concat(M):[G]}return new Je(P,T,R,D,M)}function g(P,T){let R=a.fork(),D=0,j=0,M=0,G=R.end-n,re={size:0,start:0,skip:0};e:for(let w=R.pos-P;R.pos>w;){let C=R.size;if(R.id==T&&C>=0){re.size=D,re.start=j,re.skip=M,M+=4,D+=4,R.next();continue}let m=R.pos-C;if(C<0||m<w||R.start<G)break;let L=R.id>=o?4:0,Y=R.start;for(R.next();R.pos>m;){if(R.size<0)if(R.size==-3)L+=4;else break e;else R.id>=o&&(L+=4);R.next()}j=Y,D+=C,M+=L}return(T<0||D==P)&&(re.size=D,re.start=j,re.skip=M),re.size>4?re:void 0}function y(P,T,R){let{id:D,start:j,end:M,size:G}=a;if(a.next(),G>=0&&D<o){let re=R;if(G>4){let w=a.pos-(G-4);for(;a.pos>w;)R=y(P,T,R)}T[--R]=re,T[--R]=M-P,T[--R]=j-P,T[--R]=D}else G==-3?c=D:G==-4&&(h=D);return R}let v=[],S=[];for(;a.pos>0;)u(i.start||0,i.bufferStart||0,v,S,-1);let k=(e=i.length)!==null&&e!==void 0?e:v.length?S[0]+v[0].length:0;return new Je(l[i.topID],v.reverse(),S.reverse(),k)}const sg=new WeakMap;function ra(i,e){if(!i.isAnonymous||e instanceof Gr||e.type!=i)return 1;let t=sg.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=i||!(r instanceof Je)){t=1;break}t+=ra(i,r)}sg.set(e,t)}return t}function dh(i,e,t,r,n,s,o,a,l){let c=0;for(let p=r;p<n;p++)c+=ra(i,e[p]);let h=Math.ceil(c*1.5/8),u=[],f=[];function d(p,g,y,v,S){for(let k=y;k<v;){let P=k,T=g[k],R=ra(i,p[k]);for(k++;k<v;k++){let D=ra(i,p[k]);if(R+D>=h)break;R+=D}if(k==P+1){if(R>h){let D=p[P];d(D.children,D.positions,0,D.children.length,g[P]+S);continue}u.push(p[P])}else{let D=g[k-1]+p[k-1].length-T;u.push(dh(i,p,g,P,k,T,D,null,l))}f.push(T+S-s)}}return d(e,t,r,n,0),(a||l)(u,f,o)}class rk{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Oi?this.setBuffer(e.context.buffer,e.index,t):e instanceof ni&&this.map.set(e.tree,t)}get(e){return e instanceof Oi?this.getBuffer(e.context.buffer,e.index):e instanceof ni?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Qr{constructor(e,t,r,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let n=[new Qr(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,r=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,u=h?h.fromA:1e9;if(u-l>=r)for(;o&&o.from<u;){let f=o;if(l>=f.from||u<=f.to||c){let d=Math.max(f.from,l)-c,p=Math.min(f.to,u)-c;f=d>=p?null:new Qr(d,p,f.tree,f.offset+c,a>0,!!h)}if(f&&n.push(f),o.to>u)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return n}}class og{startParse(e,t,r){return typeof e=="string"&&(e=new nk(e)),r=r?r.length?r.map(n=>new ch(n.from,n.to)):[new ch(0,0)]:[new ch(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let n=this.startParse(e,t,r);for(;;){let s=n.advance();if(s)return s}}}class nk{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Se({perNode:!0});class na{constructor(e,t,r,n,s,o,a,l,c,h=0,u){this.p=e,this.stack=t,this.state=r,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let n=e.parser.context;return new na(e,[],t,r,r,0,[],0,n?new ag(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,n=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(n);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let h=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-h;if(n<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,f,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,r,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=n}}shift(e,t,r){let n=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,r){e&65536?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new na(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new sk(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<4<<1&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let r=[];for(let n=0;n<t.length&&r.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=e>>19,n=e&65535,s=this.stack.length-r*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new ag(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class ag{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var lg;(function(i){i[i.Insert=200]="Insert",i[i.Delete=190]="Delete",i[i.Reduce=100]="Reduce",i[i.MaxNext=4]="MaxNext",i[i.MaxInsertStackDepth=300]="MaxInsertStackDepth",i[i.DampenInsertStackDepth=120]="DampenInsertStackDepth",i[i.MinBigReduction=2e3]="MinBigReduction"})(lg||(lg={}));class sk{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class sa{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new sa(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new sa(this.stack,this.pos,this.index)}}function oa(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let r=0,n=0;r<i.length;){let s=0;for(;;){let o=i.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class aa{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const cg=new aa;class ok{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=cg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!n)return null;let o=this.ranges[--n];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,n;if(t>=0&&t<this.chunk.length)r=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=cg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return r}}class Dn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;ak(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}Dn.prototype.contextual=Dn.prototype.fallback=Dn.prototype.extend=!1,Dn.prototype.fallback=Dn.prototype.extend=!1;class ph{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function ak(i,e,t,r,n,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&i[o];){let c=i[o+1];for(let d=o+3;d<c;d+=2)if((i[d+1]&a)>0){let p=i[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||lk(p,e.token.value,n,s))){e.acceptToken(p);break}}let h=e.next,u=0,f=i[o+2];if(e.next<0&&f>u&&i[c+f*3-3]==65535&&i[c+f*3-3]==65535){o=i[c+f*3-1];continue e}for(;u<f;){let d=u+f>>1,p=c+d+(d<<1),g=i[p],y=i[p+1]||65536;if(h<g)f=d;else if(h>=y)u=d+1;else{o=i[p+2],e.advance();continue e}}break}}function hg(i,e,t){for(let r=e,n;(n=i[r])!=65535;r++)if(n==t)return r-e;return-1}function lk(i,e,t,r){let n=hg(t,r,e);return n<0||hg(t,r,i)<n}const si=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let gh=null;var ug;(function(i){i[i.Margin=25]="Margin"})(ug||(ug={}));function fg(i,e,t){let r=i.cursor(ct.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(i.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:i.length}}class ck{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?fg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?fg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],n=this.index[t];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[n],o=this.start[t]+r.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof Je){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Se.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class hk{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new aa)}getActions(e){let t=0,r=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],u=this.tokens[c];if(!(r&&!h.fallback)&&((h.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,h,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let f=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!h.extend&&(r=u,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new aa,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new aa,{pos:r,p:n}=e;return t.start=r,t.end=Math.min(r+1,n.stream.end),t.value=r==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,r){let n=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(n,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,r,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=r,n}addActions(e,t,r,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Xi(a,c+2);else{n==0&&a[c+1]==2&&(n=this.putAction(Xi(a,c+2),t,r,n));break}a[c]==t&&(n=this.putAction(Xi(a,c+1),t,r,n))}return n}}var dg;(function(i){i[i.Distance=5]="Distance",i[i.MaxRemainingPerStep=3]="MaxRemainingPerStep",i[i.MinBufferLengthPrune=500]="MinBufferLengthPrune",i[i.ForceReduceLimit=10]="ForceReduceLimit",i[i.CutDepth=15e3]="CutDepth",i[i.CutTo=9e3]="CutTo",i[i.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",i[i.MaxStackCount=12]="MaxStackCount"})(dg||(dg={}));class uk{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ok(t,n),this.tokens=new hk(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[na.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new ck(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=n&&dk(n);if(o)return this.stackToTree(o);if(this.parser.strict)throw si&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,r);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let n=e.pos,{parser:s}=this,o=si?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(n);u;){let f=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(f>-1&&u.length&&(!c||(u.prop(Se.contextHash)||0)==h))return e.useNode(u,f),si&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof Je)||u.children.length==0||u.positions[0]>0)break;let d=u.children[0];if(d instanceof Je&&u.positions[0]==0)u=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),si&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],u=l[c++],f=l[c++],d=c==l.length||!r,p=d?e:e.split();if(p.apply(h,u,f),si&&console.log(o+this.stackID(p)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(u)} @ ${n}${p==e?"":", split"})`),d)return!0;p.pos>n?t.push(p):r.push(p)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return pg(e,t),!0}}runRecovery(e,t,r){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=si?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),si&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let u=a.split(),f=h;for(let d=0;u.forceReduce()&&d<10&&(si&&console.log(f+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,r));d++)si&&(f=this.stackID(u)+" -> ");for(let d of a.recoverByInsert(l))si&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),si&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),pg(a,r)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),Je.build({buffer:sa.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(gh||(gh=new WeakMap)).get(e);return t||gh.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function pg(i,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==i.pos&&r.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class fk{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class la extends og{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,c){n[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Se[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let u=a[c+-h];for(let f=-h;f>0;f--)s(a[c++],l,u);c++}}}this.nodeSet=new hh(t.map((a,l)=>Lt.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=tg;let o=oa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(gg),this.states=oa(e.states,Uint32Array),this.data=oa(e.stateData),this.goto=oa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Dn(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let n=new uk(this,e,t,r);for(let s of this.wrappers)n=s(n,e,t,r);return n}getGoto(e,t,r=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Xi(r,s+2)];else{if(r[s+1]==2)return Xi(r,s+2);break}if(o==t||o==0)return Xi(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Xi(this.data,r+2);else return!1;if(t==Xi(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Xi(this.data,r+2);else break;if(!(this.data[r+2]&1)){let n=this.data[r+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[r],n)}}return t}configure(e){let t=Object.assign(Object.create(la.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let n=e.tokenizers.find(s=>s.from==r);return n?n.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,n)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[n]=gg(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new fk(e,r,n)}static deserialize(e){return new la(e)}}function Xi(i,e){return i[e]|i[e+1]<<16}function dk(i){let e=null;for(let t of i){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function gg(i){if(i.external){let e=i.extend?1:0;return(t,r)=>i.external(t,r)<<1|e}return i.get}let pk=0;class Ci{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=pk++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Ci([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new ca;return t=>t.modified.indexOf(e)>-1?t:ca.get(t.base||t,t.modified.concat(e).sort((r,n)=>r.id-n.id))}}let gk=0;class ca{constructor(){this.instances=[],this.id=gk++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&mk(t,a.modified));if(r)return r;let n=[],s=new Ci(n,e,t);for(let a of t)a.instances.push(s);let o=vk(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(ca.get(a,l));return s}}function mk(i,e){return i.length==e.length&&i.every((t,r)=>t==e[r])}function vk(i){let e=[[]];for(let t=0;t<i.length;t++)for(let r=0,n=e.length;r<n;r++)e.push(e[r].concat(i[t]));return e.sort((t,r)=>r.length-t.length)}function mg(i){let e=Object.create(null);for(let t in i){let r=i[t];Array.isArray(r)||(r=[r]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let u=0;;){if(a=="..."&&u>0&&u+3==n.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+n);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),u+=f[0].length,u==n.length)break;let d=n[u++];if(u==n.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+n);a=n.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new ha(r,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return vg.add(e)}const vg=new Se;class ha{constructor(e,t,r,n){this.tags=e,this.mode=t,this.context=r,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ha.empty=new ha([],2,null);function yg(i,e){let t=Object.create(null);for(let s of i)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function yk(i,e){let t=null;for(let r of i){let n=r.style(e);n&&(t=t?t+" "+n:n)}return t}function bk(i,e,t,r=0,n=i.length){let s=new wk(r,Array.isArray(e)?e:[e],t);s.highlightRange(i.cursor(),r,n,"",s.highlighters),s.flush(n)}class wk{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,n,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=n,h=Sk(e)||ha.empty,u=yk(s,h.tags);if(u&&(c&&(c+=" "),c+=u,h.mode==1&&(n+=(n?" ":"")+u)),this.startSpan(e.from,c),h.opaque)return;let f=e.tree&&e.tree.prop(Se.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),g=e.firstChild();for(let y=0,v=a;;y++){let S=y<f.overlay.length?f.overlay[y]:null,k=S?S.from+a:l,P=Math.max(t,v),T=Math.min(r,k);if(P<T&&g)for(;e.from<T&&(this.highlightRange(e,P,T,n,s),this.startSpan(Math.min(T,e.to),c),!(e.to>=k||!e.nextSibling())););if(!S||k>r)break;v=S.to+a,v>t&&(this.highlightRange(d.cursor(),Math.max(t,S.from+a),Math.min(r,v),n,p),this.startSpan(v,c))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,n,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function Sk(i){let e=i.type.prop(vg);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const he=Ci.define,ua=he(),gr=he(),bg=he(gr),wg=he(gr),mr=he(),fa=he(mr),mh=he(mr),ki=he(),Yr=he(ki),Ai=he(),_i=he(),vh=he(),Ts=he(vh),da=he(),F={comment:ua,lineComment:he(ua),blockComment:he(ua),docComment:he(ua),name:gr,variableName:he(gr),typeName:bg,tagName:he(bg),propertyName:wg,attributeName:he(wg),className:he(gr),labelName:he(gr),namespace:he(gr),macroName:he(gr),literal:mr,string:fa,docString:he(fa),character:he(fa),attributeValue:he(fa),number:mh,integer:he(mh),float:he(mh),bool:he(mr),regexp:he(mr),escape:he(mr),color:he(mr),url:he(mr),keyword:Ai,self:he(Ai),null:he(Ai),atom:he(Ai),unit:he(Ai),modifier:he(Ai),operatorKeyword:he(Ai),controlKeyword:he(Ai),definitionKeyword:he(Ai),moduleKeyword:he(Ai),operator:_i,derefOperator:he(_i),arithmeticOperator:he(_i),logicOperator:he(_i),bitwiseOperator:he(_i),compareOperator:he(_i),updateOperator:he(_i),definitionOperator:he(_i),typeOperator:he(_i),controlOperator:he(_i),punctuation:vh,separator:he(vh),bracket:Ts,angleBracket:he(Ts),squareBracket:he(Ts),paren:he(Ts),brace:he(Ts),content:ki,heading:Yr,heading1:he(Yr),heading2:he(Yr),heading3:he(Yr),heading4:he(Yr),heading5:he(Yr),heading6:he(Yr),contentSeparator:he(ki),list:he(ki),quote:he(ki),emphasis:he(ki),strong:he(ki),link:he(ki),monospace:he(ki),strikethrough:he(ki),inserted:he(),deleted:he(),changed:he(),invalid:he(),meta:da,documentMeta:he(da),annotation:he(da),processingInstruction:he(da),definition:Ci.defineModifier(),constant:Ci.defineModifier(),function:Ci.defineModifier(),standard:Ci.defineModifier(),local:Ci.defineModifier(),special:Ci.defineModifier()};yg([{tag:F.link,class:"tok-link"},{tag:F.heading,class:"tok-heading"},{tag:F.emphasis,class:"tok-emphasis"},{tag:F.strong,class:"tok-strong"},{tag:F.keyword,class:"tok-keyword"},{tag:F.atom,class:"tok-atom"},{tag:F.bool,class:"tok-bool"},{tag:F.url,class:"tok-url"},{tag:F.labelName,class:"tok-labelName"},{tag:F.inserted,class:"tok-inserted"},{tag:F.deleted,class:"tok-deleted"},{tag:F.literal,class:"tok-literal"},{tag:F.string,class:"tok-string"},{tag:F.number,class:"tok-number"},{tag:[F.regexp,F.escape,F.special(F.string)],class:"tok-string2"},{tag:F.variableName,class:"tok-variableName"},{tag:F.local(F.variableName),class:"tok-variableName tok-local"},{tag:F.definition(F.variableName),class:"tok-variableName tok-definition"},{tag:F.special(F.variableName),class:"tok-variableName2"},{tag:F.definition(F.propertyName),class:"tok-propertyName tok-definition"},{tag:F.typeName,class:"tok-typeName"},{tag:F.namespace,class:"tok-namespace"},{tag:F.className,class:"tok-className"},{tag:F.macroName,class:"tok-macroName"},{tag:F.propertyName,class:"tok-propertyName"},{tag:F.operator,class:"tok-operator"},{tag:F.comment,class:"tok-comment"},{tag:F.meta,class:"tok-meta"},{tag:F.invalid,class:"tok-invalid"},{tag:F.punctuation,class:"tok-punctuation"}]);const xk=94,Sg=1,Ok=95,Ck=96,xg=2,Og=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],kk=58,Ak=40,Cg=95,_k=91,pa=45,Pk=46,Ek=35,Tk=37;function ga(i){return i>=65&&i<=90||i>=97&&i<=122||i>=161}function Ik(i){return i>=48&&i<=57}const Rk=new ph((i,e)=>{for(let t=!1,r=0,n=0;;n++){let{next:s}=i;if(ga(s)||s==pa||s==Cg||t&&Ik(s))!t&&(s!=pa||n>0)&&(t=!0),r===n&&s==pa&&r++,i.advance();else{t&&i.acceptToken(s==Ak?Ok:r==2&&e.canShift(xg)?xg:Ck);break}}}),Dk=new ph(i=>{if(Og.includes(i.peek(-1))){let{next:e}=i;(ga(e)||e==Cg||e==Ek||e==Pk||e==_k||e==kk||e==pa)&&i.acceptToken(xk)}}),Lk=new ph(i=>{if(!Og.includes(i.peek(-1))){let{next:e}=i;if(e==Tk&&(i.advance(),i.acceptToken(Sg)),ga(e)){do i.advance();while(ga(i.next));i.acceptToken(Sg)}}}),$k=mg({"AtKeyword import charset namespace keyframes media supports":F.definitionKeyword,"from to selector":F.keyword,NamespaceName:F.namespace,KeyframeName:F.labelName,TagName:F.tagName,ClassName:F.className,PseudoClassName:F.constant(F.className),IdName:F.labelName,"FeatureName PropertyName":F.propertyName,AttributeName:F.attributeName,NumberLiteral:F.number,KeywordQuery:F.keyword,UnaryQueryOp:F.operatorKeyword,"CallTag ValueName":F.atom,VariableName:F.variableName,Callee:F.operatorKeyword,Unit:F.unit,"UniversalSelector NestingSelector":F.definitionOperator,MatchOp:F.compareOperator,"ChildOp SiblingOp, LogicOp":F.logicOperator,BinOp:F.arithmeticOperator,Important:F.modifier,Comment:F.blockComment,ParenthesizedContent:F.special(F.name),ColorLiteral:F.color,StringLiteral:F.string,":":F.punctuation,"PseudoOp #":F.derefOperator,"; ,":F.separator,"( )":F.paren,"[ ]":F.squareBracket,"{ }":F.brace}),Mk={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},Bk={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},Nk={__proto__:null,not:128,only:128,from:158,to:160},zk=la.deserialize({version:14,states:"7WQYQ[OOO#_Q[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO#fQ[O'#CfO$YQXO'#CaO$aQ[O'#ChO$lQ[O'#DPO$qQ[O'#DTOOQP'#Ed'#EdO$vQdO'#DeO%bQ[O'#DrO$vQdO'#DtO%sQ[O'#DvO&OQ[O'#DyO&TQ[O'#EPO&cQ[O'#EROOQS'#Ec'#EcOOQS'#ET'#ETQYQ[OOO&jQXO'#CdO'_QWO'#DaO'dQWO'#EjO'oQ[O'#EjQOQWOOOOQP'#Cg'#CgOOQP,59Q,59QO#fQ[O,59QO'yQ[O'#EWO(eQWO,58{O(mQ[O,59SO$lQ[O,59kO$qQ[O,59oO'yQ[O,59sO'yQ[O,59uO'yQ[O,59vO(xQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)PQWO,59SO)UQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)ZQ`O,59oOOQS'#Cp'#CpO$vQdO'#CqO)cQvO'#CsO*pQtO,5:POOQO'#Cx'#CxO)UQWO'#CwO+UQWO'#CyOOQS'#Eg'#EgOOQO'#Dh'#DhO+ZQ[O'#DoO+iQWO'#EkO&TQ[O'#DmO+wQWO'#DpOOQO'#El'#ElO(hQWO,5:^O+|QpO,5:`OOQS'#Dx'#DxO,UQWO,5:bO,ZQ[O,5:bOOQO'#D{'#D{O,cQWO,5:eO,hQWO,5:kO,pQWO,5:mOOQS-E8R-E8RO$vQdO,59{O,xQ[O'#EYO-VQWO,5;UO-VQWO,5;UOOQP1G.l1G.lO-|QXO,5:rOOQO-E8U-E8UOOQS1G.g1G.gOOQP1G.n1G.nO)PQWO1G.nO)UQWO1G.nOOQP1G/V1G/VO.ZQ`O1G/ZO.tQXO1G/_O/[QXO1G/aO/rQXO1G/bO0YQWO,59zO0_Q[O'#DOO0fQdO'#CoOOQP1G/Z1G/ZO$vQdO1G/ZO0mQpO,59]OOQS,59_,59_O$vQdO,59aO0uQWO1G/kOOQS,59c,59cO0zQ!bO,59eO1SQWO'#DhO1_QWO,5:TO1dQWO,5:ZO&TQ[O,5:VO&TQ[O'#EZO1lQWO,5;VO1wQWO,5:XO'yQ[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2YQWO1G/|O2_QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO2mQtO1G/gOOQO,5:t,5:tO3TQ[O,5:tOOQO-E8W-E8WO3bQWO1G0pOOQP7+$Y7+$YOOQP7+$u7+$uO$vQdO7+$uOOQS1G/f1G/fO3mQXO'#EiO3tQWO,59jO3yQtO'#EUO4nQdO'#EfO4xQWO,59ZO4}QpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5VQWO1G/PO$vQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5[QWO,5:uOOQO-E8X-E8XO5jQXO1G/vOOQS7+%h7+%hO5qQYO'#CsO(hQWO'#E[O5yQdO,5:hOOQS,5:h,5:hO6XQtO'#EXO$vQdO'#EXO7VQdO7+%ROOQO7+%R7+%ROOQO1G0`1G0`O7jQpO<<HaO7rQWO,5;TOOQP1G/U1G/UOOQS-E8S-E8SO$vQdO'#EVO7zQWO,5;QOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO8SQdO7+%ZOOQO7+%b7+%bOOQS,5:v,5:vOOQS-E8Y-E8YOOQS1G0S1G0SO8ZQtO,5:sOOQS-E8V-E8VOOQO<<Hm<<HmOOQPAN={AN={O9XQdO,5:qOOQO-E8T-E8TOOQO<<Hu<<Hu",stateData:"9i~O#UOSROS~OUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SQO#XSO~OQeOUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SdO#XSO~O#P#^P~P!ZO#SiO~O]nO^nOplOtoOxpO|qO!PsO#QrO#XkO~O!RtO~P#kO`zO#RwO#SvO~O#S{O~O#S}O~OQ!WOb!QOf!WOh!WOn!VO#R!TO#S!PO#[!RO~Ob!YO!b![O!e!]O#S!XO!R#_P~Oh!bOn!VO#S!aO~O#S!dO~Ob!YO!b![O!e!]O#S!XO~O!W#_P~P%bO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#QWX#XWX~O]!iO~O!W!jO#P#^X!Q#^X~O#P#^X!Q#^X~P!ZOUXOXXO]UO^UOtVOxWO#SQO#XSO~OplO!RtO~O`!sO#RwO#SvO~O!Q#^P~P!ZOb!zO~Ob!{O~Ov!|Oz!}O~OP#PObgXjgX!WgX!bgX!egX#SgXagXQgXfgXhgXngXpgX!VgX#PgX#RgX#[gXvgX!QgX~Ob!YOj#QO!b![O!e!]O#S!XO!W#_P~Ob#TO~Ob!YO!b![O!e!]O#S#UO~Op#YO!`#XO!R#_X!W#_X~Ob#]O~Oj#QO!W#_O~O!W#`O~Oh#aOn!VO~O!R#bO~O!RtO!`#XO~O!RtO!W#eO~O!W!|X#P!|X!Q!|X~P!ZO!W!jO#P#^a!Q#^a~O]nO^nOtoOxpO|qO!PsO#QrO#XkO~Op!za!R!zaa!za~P-bOv#lOz#mO~O]nO^nOtoOxpO#XkO~Op{i|{i!P{i!R{i#Q{ia{i~P.cOp}i|}i!P}i!R}i#Q}ia}i~P.cOp!Oi|!Oi!P!Oi!R!Oi#Q!Oia!Oi~P.cO!Q#nO~Oa#]P~P'yOa#YP~P$vOa#uOj#QO~O!W#wO~Oh#xOo#xO~O]!^Xa![X!`![X~O]#yO~Oa#zO!`#XO~Op#YO!R#_a!W#_a~O!`#XOp!aa!R!aa!W!aaa!aa~O!W$PO~O!Q$TO!q$RO!r$RO#[$QO~Oj#QOp$VO!V$XO!W!Ti#P!Ti!Q!Ti~P$vO!W!|a#P!|a!Q!|a~P!ZO!W!jO#P#^i!Q#^i~Oa#]X~P#kOa$]O~Oj#QOQ!xXa!xXb!xXf!xXh!xXn!xXp!xX#R!xX#S!xX#[!xX~Op$_Oa#YX~P$vOa$aO~Oj#QOv$bO~Oa$cO~O!`#XOp!}a!R!}a!W!}a~Oa$eO~P-bOP#PO!RgX~O!Q$hO!q$RO!r$RO#[$QO~Oj#QOQ!{Xb!{Xf!{Xh!{Xn!{Xp!{X!V!{X!W!{X#P!{X#R!{X#S!{X#[!{X!Q!{X~Op$VO!V$kO!W!Tq#P!Tq!Q!Tq~P$vOj#QOv$lO~OplOa#]a~Op$_Oa#Ya~Oa$oO~P$vOj#QOQ!{ab!{af!{ah!{an!{ap!{a!V!{a!W!{a#P!{a#R!{a#S!{a#[!{a!Q!{a~Oa!yap!ya~P$vOo#[j!Pj~",goto:",`#aPPPPP#bP#k#zP#k$Z#kPP$aPPP$g$p$pP%SP$pP$p%j%|PPP&f&l#kP&rP#kP&xP#kP#k#kPPP'O'b'oPP#bPP'v'v(Q'vP'vP'v'vP#bP#bP#bP(T#bP(W(ZPP#bP#bP(^(m({)R)])c)m)sPPPPPP)y*SP*o*rP+h+k+q+z_aOPcgt!j#hkXOPcglqrst!j!z#]#hkROPcglqrst!j!z#]#hQjSR!mkQxUR!qnQ!qzQ#S!UR#k!sq!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mT$R#b$Sq!UY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mQ!b]R#a!cQyUR!rnQ!qyR#k!rQ|VR!toQ!OWR!upQuTQ!pmQ#^!_Q#d!fQ#e!gR$f$RSfPtQ!lgQ#g!jR$Y#hZePgt!j#ha!^Z_`!S!Y![#X#YR#V!YR!c]R!e^R#c!eQcOSgPtU!hcg#hR#h!jQ#r!{U$^#r$d$mQ$d#yR$m$_Q$`#rR$n$`QmTS!om$[R$[#oQ$W#fR$j$WQ!kfS#i!k#jR#j!lQ#Z!ZR#}#ZQ$S#bR$g$S_bOPcgt!j#h^TOPcgt!j#hQ!nlQ!vqQ!wrQ!xsQ#o!zR$O#]R#s!{Q!SYQ!`[Q#O!QQ#f!i[#q!{#r#y$_$d$mQ#t!}Q#v#QS$U#f$WQ$Z#mR$i$VR#p!zQhPR!ytQ!_ZQ!g`R#R!SU!ZZ`!SQ!f_Q#W!YQ#[![Q#{#XR#|#Y",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule Styles",maxTerm:108,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[$k],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Lq~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Cu![!]Dp!]!^El!^!_$}!_!`E}!`!aF`!a!b$}!b!cG[!c!}$}!}#OHt#O#P$}#P#QIV#Q#R6d#R#T$}#T#UIh#U#c$}#c#dJy#d#o$}#o#pK`#p#q6d#q#rKq#r#sLS#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`Lk<%lO$}W%QSOy%^z;'S%^;'S;=`%o<%lO%^W%cSoWOy%^z;'S%^;'S;=`%o<%lO%^W%rP;=`<%l%^~%zh#U~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#U~oWOX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^^)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^^)sUoWOy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^^*[UoWOy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^^*sUoWOy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^^+[UoWOy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^^+sUoWOy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^^,[UoWOy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^^,sUoWOy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^^-[UoWOy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^^-uS!VUoWOy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.R_/zYtPOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^^0oYoWOy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^^1dYoWOy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^^2ZYfUoWOy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^^3QYfUoWOy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^^3uYoWOy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^^4lYfUoWOy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^^5aYoWOy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^^6WSfUoWOy%^z;'S%^;'S;=`%o<%lO%^Y6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^Y7QSzQoWOy%^z;'S%^;'S;=`%o<%lO%^X7cSXPOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7o_9cSbVOy%^z;'S%^;'S;=`%o<%lO%^~9tOa~_9{UUPjSOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^_:fWjS!PPOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^^;TUoWOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^^;nYoW#[UOy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^^<cYoWOy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=WUoWOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=qUoW#[UOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^>[[oW#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^_?VSpVOy%^z;'S%^;'S;=`%o<%lO%^^?hWjSOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^_@VU#XPOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjSOy%^z{@}{;'S%^;'S;=`%o<%lO%^~ASUoWOy@}yzAfz{Bm{;'S@};'S;=`Co<%lO@}~AiTOzAfz{Ax{;'SAf;'S;=`Bg<%lOAf~A{VOzAfz{Ax{!PAf!P!QBb!Q;'SAf;'S;=`Bg<%lOAf~BgOR~~BjP;=`<%lAf~BrWoWOy@}yzAfz{Bm{!P@}!P!QC[!Q;'S@};'S;=`Co<%lO@}~CcSoWR~Oy%^z;'S%^;'S;=`%o<%lO%^~CrP;=`<%l@}^Cz[#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^XDuU]POy%^z![%^![!]EX!];'S%^;'S;=`%o<%lO%^XE`S^PoWOy%^z;'S%^;'S;=`%o<%lO%^_EqS!WVOy%^z;'S%^;'S;=`%o<%lO%^YFSSzQOy%^z;'S%^;'S;=`%o<%lO%^XFeU|POy%^z!`%^!`!aFw!a;'S%^;'S;=`%o<%lO%^XGOS|PoWOy%^z;'S%^;'S;=`%o<%lO%^XG_WOy%^z!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHO[!YPoWOy%^z}%^}!OGw!O!Q%^!Q![Gw![!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHySxPOy%^z;'S%^;'S;=`%o<%lO%^^I[SvUOy%^z;'S%^;'S;=`%o<%lO%^XIkUOy%^z#b%^#b#cI}#c;'S%^;'S;=`%o<%lO%^XJSUoWOy%^z#W%^#W#XJf#X;'S%^;'S;=`%o<%lO%^XJmS!`PoWOy%^z;'S%^;'S;=`%o<%lO%^XJ|UOy%^z#f%^#f#gJf#g;'S%^;'S;=`%o<%lO%^XKeS!RPOy%^z;'S%^;'S;=`%o<%lO%^_KvS!QVOy%^z;'S%^;'S;=`%o<%lO%^ZLXU!PPOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^WLnP;=`<%l$}",tokenizers:[Dk,Lk,Rk,0,1,2,3],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:95,get:i=>Mk[i]||-1},{term:56,get:i=>Bk[i]||-1},{term:96,get:i=>Nk[i]||-1}],tokenPrec:1123});class Re{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let n=[];return this.decompose(0,e,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(t,this.length,n,1),Pi.from(n,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),Pi.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),n=new Is(this),s=new Is(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=r)return!0}}iter(e=1){return new Is(this,e)}iterRange(e,t=this.length){return new Ag(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;r=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new _g(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Re.empty:e.length<=32?new Ze(e):Pi.from(Ze.split(e,[]))}}class Ze extends Re{constructor(e,t=Fk(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?r:a)>=e)return new Hk(n,a,r,o);n=a+1,r++}}decompose(e,t,r,n){let s=e<=0&&t>=this.length?this:new Ze(kg(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=r.pop(),a=ma(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new Ze(a,o.length+s.length));else{let l=a.length>>1;r.push(new Ze(a.slice(0,l)),new Ze(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof Ze))return super.replace(e,t,r);let n=ma(this.text,ma(r.text,kg(this.text,0,e)),t),s=this.length+r.length-(t-e);return n.length<=32?new Ze(n,s):Pi.from(Ze.split(n,[]),s)}sliceString(e,t=this.length,r=`
`){let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=r),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],n=-1;for(let s of e)r.push(s),n+=s.length+1,r.length==32&&(t.push(new Ze(r,n)),r=[],n=-1);return n>-1&&t.push(new Ze(r,n)),t}}class Pi extends Re{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,n);n=a+1,r=l+1}}decompose(e,t,r,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?r.push(a):a.decompose(e-o,t-o,r,c)}o=l+1}}replace(e,t,r){if(r.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let h=this.children.slice();return h[n]=l,new Pi(h,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=r),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,r)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Pi))return 0;let r=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return r;let l=this.children[n],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,n)=>r+n.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new Ze(d,t)}let n=Math.max(32,r>>5),s=n<<1,o=n>>1,a=[],l=0,c=-1,h=[];function u(d){let p;if(d.lines>s&&d instanceof Pi)for(let g of d.children)u(g);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof Ze&&l&&(p=h[h.length-1])instanceof Ze&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,h[h.length-1]=new Ze(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>n&&f(),l+=d.lines,c+=d.length+1,h.push(d))}function f(){l!=0&&(a.push(h.length==1?h[0]:Pi.from(h,c)),c=-1,l=h.length=0)}for(let d of e)u(d);return f(),a.length==1?a[0]:new Pi(a,t)}}Re.empty=new Ze([""],0);function Fk(i){let e=-1;for(let t of i)e+=t.length+1;return e}function ma(i,e,t=0,r=1e9){for(let n=0,s=0,o=!0;s<i.length&&n<=r;s++){let a=i[s],l=n+a.length;l>=t&&(l>r&&(a=a.slice(0,r-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function kg(i,e,t){return ma(i,[""],e,t)}class Is{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ze?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],s=this.offsets[r],o=s>>1,a=n instanceof Ze?n.text.length:n.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof Ze){let l=n.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Ze?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Ag{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Is(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=r?n:t<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class _g{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:n}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Re.prototype[Symbol.iterator]=function(){return this.iter()},Is.prototype[Symbol.iterator]=Ag.prototype[Symbol.iterator]=_g.prototype[Symbol.iterator]=function(){return this});class Hk{constructor(e,t,r,n){this.from=e,this.to=t,this.number=r,this.text=n}get length(){return this.to-this.from}}let Ln="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<Ln.length;i++)Ln[i]+=Ln[i-1];function Wk(i){for(let e=1;e<Ln.length;e+=2)if(Ln[e]>i)return Ln[e-1]<=i;return!1}function Pg(i){return i>=127462&&i<=127487}const Eg=8205;function Wt(i,e,t=!0,r=!0){return(t?Tg:jk)(i,e,r)}function Tg(i,e,t){if(e==i.length)return e;e&&Ig(i.charCodeAt(e))&&Rg(i.charCodeAt(e-1))&&e--;let r=Rs(i,e);for(e+=yh(r);e<i.length;){let n=Rs(i,e);if(r==Eg||n==Eg||t&&Wk(n))e+=yh(n),r=n;else if(Pg(n)){let s=0,o=e-2;for(;o>=0&&Pg(Rs(i,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function jk(i,e,t){for(;e>0;){let r=Tg(i,e-2,t);if(r<e)return r;e--}return 0}function Ig(i){return i>=56320&&i<57344}function Rg(i){return i>=55296&&i<56320}function Rs(i,e){let t=i.charCodeAt(e);if(!Rg(t)||e+1==i.length)return t;let r=i.charCodeAt(e+1);return Ig(r)?(t-55296<<10)+(r-56320)+65536:t}function yh(i){return i<65536?1:2}const bh=/\r\n?|\n/;var jt=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(jt||(jt={}));class Ei{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,n,s),n+=s):n+=o,r+=s}}iterChangedRanges(e,t=!1){wh(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];n<0?e.push(r,n):e.push(n,r)}return new Ei(e)}composeDesc(e){return this.empty?e:e.empty?this:Dg(this,e)}mapDesc(e,t=!1){return e.empty?this:Sh(this,e,t)}mapPos(e,t=-1,r=jt.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=n+a;if(l<0){if(c>e)return s+(e-n);s+=a}else{if(r!=jt.Simple&&c>=e&&(r==jt.TrackDel&&n<e&&c>e||r==jt.TrackBefore&&n<e||r==jt.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=c}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let r=0,n=0;r<this.sections.length&&n<=t;){let s=this.sections[r++],o=this.sections[r++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+r+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ei(e)}static create(e){return new Ei(e)}}class nt extends Ei{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wh(this,(t,r,n,s,o)=>e=e.replace(n,n+(r-t),o),!1),e}mapDesc(e,t=!1){return Sh(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;r.length<l;)r.push(Re.empty);r.push(o?e.slice(s,s+o):Re.empty)}s+=o}return new nt(t,r)}compose(e){return this.empty?e:e.empty?this:Dg(this,e,!0)}map(e,t=!1){return e.empty?this:Sh(this,e,t,!0)}iterChanges(e,t=!1){wh(this,e,t)}get desc(){return Ei.create(this.sections)}filter(e){let t=[],r=[],n=[],s=new Ds(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);bt(n,h,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;bt(t,h,u),u>0&&vr(r,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);bt(t,h,-1),bt(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new nt(t,r),filtered:Ei.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],n=this.sections[t+1];n<0?e.push(r):n==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let n=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!n.length)return;o<t&&bt(n,t-o,-1);let u=new nt(n,s);a=a?a.compose(u.map(a)):u,n=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let u of h)c(u);else if(h instanceof nt){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:u,to:f=u,insert:d}=h;if(u>f||u<0||f>t)throw new RangeError(`Invalid change range ${u} to ${f} (in doc of length ${t})`);let p=d?typeof d=="string"?Re.of(d.split(r||bh)):d:Re.empty,g=p.length;if(u==f&&g==0)return;u<o&&l(),u>o&&bt(n,u-o,-1),bt(n,f-u,g),vr(s,n,p),o=f}}return c(e),l(!a),a}static empty(e){return new nt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<n;)r.push(Re.empty);r[n]=Re.of(s.slice(1)),t.push(s[0],r[n].length)}}}return new nt(t,r)}static createSet(e,t){return new nt(e,t)}}function bt(i,e,t,r=!1){if(e==0&&t<=0)return;let n=i.length-2;n>=0&&t<=0&&t==i[n+1]?i[n]+=e:e==0&&i[n]==0?i[n+1]+=t:r?(i[n]+=e,i[n+1]+=t):i.push(e,t)}function vr(i,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<r;)i.push(Re.empty);i.push(t)}}function wh(i,e,t){let r=i.inserted;for(let n=0,s=0,o=0;o<i.sections.length;){let a=i.sections[o++],l=i.sections[o++];if(l<0)n+=a,s+=a;else{let c=n,h=s,u=Re.empty;for(;c+=a,h+=l,l&&r&&(u=u.append(r[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)a=i.sections[o++],l=i.sections[o++];e(n,c,s,h,u),n=c,s=h}}}function Sh(i,e,t,r=!1){let n=[],s=r?[]:null,o=new Ds(i),a=new Ds(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);bt(n,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(bt(n,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(bt(n,0,o.ins),s&&vr(s,n,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let u=Math.min(h,a.len);c+=u,h-=u,a.forward(u)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;bt(n,c,l<o.i?o.ins:0),s&&l<o.i&&vr(s,n,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?nt.createSet(n,s):Ei.create(n);throw new Error("Mismatched change set lengths")}}function Dg(i,e,t=!1){let r=[],n=t?[]:null,s=new Ds(i),o=new Ds(e);for(let a=!1;;){if(s.done&&o.done)return n?nt.createSet(r,n):Ei.create(r);if(s.ins==0)bt(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)bt(r,0,o.ins,a),n&&vr(n,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;bt(r,l,h,a),n&&h&&vr(n,r,o.text)}else o.ins==-1?(bt(r,s.off?0:s.len,l,a),n&&vr(n,r,s.textBit(l))):(bt(r,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&vr(n,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Ds{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Re.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Re.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class qr{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let r,n;return this.empty?r=n=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),r==this.from&&n==this.to?this:new qr(r,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ce.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ce.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ce.range(e.anchor,e.head)}static create(e,t,r){return new qr(e,t,r)}}class ce{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ce.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ce([this.main],0)}addRange(e,t=!0){return ce.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,ce.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ce(e.ranges.map(t=>qr.fromJSON(t)),e.main)}static single(e,t=e){return new ce([ce.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=r:s.from<r)return ce.normalized(e.slice(),t);r=s.to}return new ce(e,t)}static cursor(e,t=0,r,n){return qr.create(e,e,(t==0?0:t<0?4:8)|(r==null?3:Math.min(2,r))|(n??33554431)<<5)}static range(e,t,r,n){let s=(r??33554431)<<5|(n==null?3:Math.min(2,n));return t<e?qr.create(t,e,24|s):qr.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(r);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?ce.range(l,a):ce.range(a,l))}}return new ce(e,t)}}function Lg(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let xh=0;class ve{constructor(e,t,r,n,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=n,this.id=xh++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new ve(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:Oh),!!e.static,e.enables)}of(e){return new va([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new va(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new va(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function Oh(i,e){return i==e||i.length==e.length&&i.every((t,r)=>t===e[r])}class va{constructor(e,t,r,n){this.dependencies=e,this.facet=t,this.type=r,this.value=n,this.id=xh++}dynamicSlot(e){var t;let r=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:((t=e[u.id])!==null&&t!==void 0?t:1)&1||h.push(e[u.id]);return{create(u){return u.values[o]=r(u),1},update(u,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||Ch(u,h)){let d=r(u);if(a?!$g(d,u.values[o],n):!n(d,u.values[o]))return u.values[o]=d,1}return 0},reconfigure:(u,f)=>{let d,p=f.config.address[s];if(p!=null){let g=Sa(f,p);if(this.dependencies.every(y=>y instanceof ve?f.facet(y)===u.facet(y):y instanceof yr?f.field(y,!1)==u.field(y,!1):!0)||(a?$g(d=r(u),g,n):n(d=r(u),g)))return u.values[o]=g,0}else d=r(u);return u.values[o]=d,1}}}}function $g(i,e,t){if(i.length!=e.length)return!1;for(let r=0;r<i.length;r++)if(!t(i[r],e[r]))return!1;return!0}function Ch(i,e){let t=!1;for(let r of e)$s(i,r)&1&&(t=!0);return t}function Vk(i,e,t){let r=t.map(l=>i[l.id]),n=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=i[e.id]>>1;function a(l){let c=[];for(let h=0;h<r.length;h++){let u=Sa(l,r[h]);if(n[h]==2)for(let f of u)c.push(f);else c.push(u)}return e.combine(c)}return{create(l){for(let c of r)$s(l,c);return l.values[o]=a(l),1},update(l,c){if(!Ch(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=Ch(l,r),u=c.config.facets[e.id],f=c.facet(e);if(u&&!h&&Oh(t,u))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const Mg=ve.define({static:!0});class yr{constructor(e,t,r,n,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new yr(xh++,e.create,e.update,e.compare||((r,n)=>r===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Mg).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,n)=>{let s=r.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,n)=>n.config.address[this.id]!=null?(r.values[t]=n.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,Mg.of({field:this,create:e})]}get extension(){return this}}const Kr={lowest:4,low:3,default:2,high:1,highest:0};function Ls(i){return e=>new Bg(e,i)}const ya={highest:Ls(Kr.highest),high:Ls(Kr.high),default:Ls(Kr.default),low:Ls(Kr.low),lowest:Ls(Kr.lowest)};class Bg{constructor(e,t){this.inner=e,this.prec=t}}class ba{of(e){return new kh(this,e)}reconfigure(e){return ba.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class kh{constructor(e,t){this.compartment=e,this.inner=t}}class wa{constructor(e,t,r,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let n=[],s=Object.create(null),o=new Map;for(let f of Uk(e,t,o))f instanceof yr?n.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of n)a[f.id]=c.length<<1,c.push(d=>f.slot(d));let h=r==null?void 0:r.config.facets;for(let f in s){let d=s[f],p=d[0].facet,g=h&&h[f]||[];if(d.every(y=>y.type==0))if(a[p.id]=l.length<<1|1,Oh(g,d))l.push(r.facet(p));else{let y=p.combine(d.map(v=>v.value));l.push(r&&p.compare(y,r.facet(p))?r.facet(p):y)}else{for(let y of d)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(v=>y.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(y=>Vk(y,p,d))}}let u=c.map(f=>f(a));return new wa(e,o,u,a,l,s)}}function Uk(i,e,t){let r=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof kh&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof kh){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof Bg)s(o.inner,o.prec);else if(o instanceof yr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof va)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Kr.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(i,Kr.default),r.reduce((o,a)=>o.concat(a))}function $s(i,e){if(e&1)return 2;let t=e>>1,r=i.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;i.status[t]=4;let n=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|n}function Sa(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const Ng=ve.define(),zg=ve.define({combine:i=>i.some(e=>e),static:!0}),Fg=ve.define({combine:i=>i.length?i[0]:void 0,static:!0}),Hg=ve.define(),Wg=ve.define(),jg=ve.define(),Vg=ve.define({combine:i=>i.length?i[0]:!1});class br{constructor(e,t){this.type=e,this.value=t}static define(){return new Xk}}class Xk{of(e){return new br(this,e)}}class Gk{constructor(e){this.map=e}of(e){return new st(this,e)}}class st{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new st(this.type,t)}is(e){return this.type==e}static define(e={}){return new Gk(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let n of e){let s=n.map(t);s&&r.push(s)}return r}}st.reconfigure=st.define(),st.appendConfig=st.define();class ot{constructor(e,t,r,n,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&Lg(r,t.newLength),s.some(a=>a.type==ot.time)||(this.annotations=s.concat(ot.time.of(Date.now())))}static create(e,t,r,n,s,o){return new ot(e,t,r,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ot.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ot.time=br.define(),ot.userEvent=br.define(),ot.addToHistory=br.define(),ot.remote=br.define();function Qk(i,e){let t=[];for(let r=0,n=0;;){let s,o;if(r<i.length&&(n==e.length||e[n]>=i[r]))s=i[r++],o=i[r++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Ug(i,e,t){var r;let n,s,o;return t?(n=e.changes,s=nt.empty(e.changes.length),o=i.changes.compose(e.changes)):(n=e.changes.map(i.changes),s=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(r=i.selection)===null||r===void 0?void 0:r.map(n),effects:st.mapEffects(i.effects,n).concat(st.mapEffects(e.effects,s)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function Ah(i,e,t){let r=e.selection,n=$n(e.annotations);return e.userEvent&&(n=n.concat(ot.userEvent.of(e.userEvent))),{changes:e.changes instanceof nt?e.changes:nt.of(e.changes||[],t,i.facet(Fg)),selection:r&&(r instanceof ce?r:ce.single(r.anchor,r.head)),effects:$n(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function Xg(i,e,t){let r=Ah(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=Ug(r,Ah(i,e[s],o?r.changes.newLength:i.doc.length),o)}let n=ot.create(i,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return qk(t?Yk(n):n)}function Yk(i){let e=i.startState,t=!0;for(let n of e.facet(Hg)){let s=n(i);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:Qk(t,s))}if(t!==!0){let n,s;if(t===!1)s=i.changes.invertedDesc,n=nt.empty(e.doc.length);else{let o=i.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}i=ot.create(e,n,i.selection&&i.selection.map(s),st.mapEffects(i.effects,s),i.annotations,i.scrollIntoView)}let r=e.facet(Wg);for(let n=r.length-1;n>=0;n--){let s=r[n](i);s instanceof ot?i=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ot?i=s[0]:i=Xg(e,$n(s),!1)}return i}function qk(i){let e=i.startState,t=e.facet(jg),r=i;for(let n=t.length-1;n>=0;n--){let s=t[n](i);s&&Object.keys(s).length&&(r=Ug(r,Ah(e,s,i.changes.newLength),!0))}return r==i?i:ot.create(e,i.changes,i.selection,r.effects,r.annotations,r.scrollIntoView)}const Kk=[];function $n(i){return i==null?Kk:Array.isArray(i)?i:[i]}var Gi=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Gi||(Gi={}));const Zk=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let _h;try{_h=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Jk(i){if(_h)return _h.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Zk.test(t)))return!0}return!1}function eA(i){return e=>{if(!/\S/.test(e))return Gi.Space;if(Jk(e))return Gi.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return Gi.Word;return Gi.Other}}class De{constructor(e,t,r,n,s,o){this.config=e,this.doc=t,this.selection=r,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)$s(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return $s(this,r),Sa(this,r)}update(...e){return Xg(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:n}=t;for(let o of e.effects)o.is(ba.reconfigure)?(t&&(n=new Map,t.compartments.forEach((a,l)=>n.set(l,a)),t=null),n.set(o.value.compartment,o.value.extension)):o.is(st.reconfigure)?(t=null,r=o.value):o.is(st.appendConfig)&&(t=null,r=$n(r).concat(o.value));let s;t?s=e.startState.values.slice():(t=wa.resolve(r,n,this),s=new De(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new De(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ce.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),n=this.changes(r.changes),s=[r.range],o=$n(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(n);for(let f=0;f<a;f++)s[f]=s[f].map(h);let u=n.mapDesc(c,!0);s.push(l.range.map(u)),n=n.compose(h),o=st.mapEffects(o,h).concat(st.mapEffects($n(l.effects),u))}return{changes:n,selection:ce.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof nt?e:nt.of(e,this.doc.length,this.facet(De.lineSeparator))}toText(e){return Re.of(e.split(this.facet(De.lineSeparator)||bh))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:($s(this,t),Sa(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let n=e[r];n instanceof yr&&this.config.address[n.id]!=null&&(t[r]=n.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return De.create({doc:e.doc,selection:ce.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=wa.resolve(e.extensions||[],new Map),r=e.doc instanceof Re?e.doc:Re.of((e.doc||"").split(t.staticFacet(De.lineSeparator)||bh)),n=e.selection?e.selection instanceof ce?e.selection:ce.single(e.selection.anchor,e.selection.head):ce.single(0);return Lg(n,r.length),t.staticFacet(zg)||(n=n.asSingle()),new De(t,r,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(De.tabSize)}get lineBreak(){return this.facet(De.lineSeparator)||`
`}get readOnly(){return this.facet(Vg)}phrase(e,...t){for(let r of this.facet(De.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let n=[];for(let s of this.facet(Ng))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return eA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=Wt(t,o,!1);if(s(t.slice(l,o))!=Gi.Word)break;o=l}for(;a<n;){let l=Wt(t,a);if(s(t.slice(a,l))!=Gi.Word)break;a=l}return o==a?null:ce.range(o+r,a+r)}}De.allowMultipleSelections=zg,De.tabSize=ve.define({combine:i=>i.length?i[0]:4}),De.lineSeparator=Fg,De.readOnly=Vg,De.phrases=ve.define({compare(i,e){let t=Object.keys(i),r=Object.keys(e);return t.length==r.length&&t.every(n=>i[n]==e[n])}}),De.languageData=Ng,De.changeFilter=Hg,De.transactionFilter=Wg,De.transactionExtender=jg,ba.reconfigure=st.define();function xa(i,e,t={}){let r={};for(let n of i)for(let s of Object.keys(n)){let o=n[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)r[n]===void 0&&(r[n]=e[n]);return r}class Mn{eq(e){return this==e}range(e,t=e){return Ms.create(e,t,this)}}Mn.prototype.startSide=Mn.prototype.endSide=0,Mn.prototype.point=!1,Mn.prototype.mapMode=jt.TrackDel;class Ms{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Ms(e,t,r)}}function Ph(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Eh{constructor(e,t,r,n){this.from=e,this.to=t,this.value=r,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,n=0){let s=r?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,r,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,u=this.to[l]+e,f,d;if(h==u){let p=t.mapPos(h,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=t.mapPos(h,c.endSide),d<f)))continue}else if(f=t.mapPos(h,c.startSide),d=t.mapPos(u,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,d-f)),r.push(c),n.push(f-o),s.push(d-o))}return{mapped:r.length?new Eh(n,s,r,a):null,pos:o}}}class Ue{constructor(e,t,r,n){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=n}static create(e,t,r,n){return new Ue(e,t,r,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(Ph)),this.isEmpty)return t.length?Ue.of(t):this;let a=new Qg(this,null,-1).goto(0),l=0,c=[],h=new Bn;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];h.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Ms.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Ue.empty:this.nextLayer.update({add:c,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)n=Math.max(n,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:u}=l.map(a,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),r.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ue(r,t,s||Ue.empty,n)}between(e,t,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Bs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Bs.from(e).goto(t)}static compare(e,t,r,n,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=Gg(o,a,r),c=new Ns(o,l,s),h=new Ns(a,l,s);r.iterGaps((u,f,d)=>Yg(c,u,h,f,d,n)),r.empty&&r.length==0&&Yg(c,0,h,0,0,n)}static eq(e,t,r=0,n){n==null&&(n=1e9-1);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Gg(s,o),l=new Ns(s,a,0).goto(r),c=new Ns(o,a,0).goto(r);for(;;){if(l.to!=c.to||!Ih(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>n)return!0;l.next(),c.next()}}static spans(e,t,r,n,s=-1){let o=new Ns(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<t?h.length+1:Math.min(h.length,l);n.point(a,c,o.point,h,u,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(n.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new Bn;for(let n of e instanceof Ms?[e]:t?tA(e):e)r.add(n.from,n.to,n.value);return r.finish()}}Ue.empty=new Ue([],[],null,-1);function tA(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let r=i[t];if(Ph(e,r)>0)return i.slice().sort(Ph);e=r}return i}Ue.empty.nextLayer=Ue.empty;class Bn{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Eh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Bn)).add(e,t,r)}addInner(e,t,r){let n=e-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Ue.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ue.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Gg(i,e,t){let r=new Map;for(let s of i)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&n.add(s.chunk[o])}return n}class Qg{constructor(e,t,r,n=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Bs{constructor(e){this.heap=e}static from(e,t=null,r=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&n.push(new Qg(o,t,r,s));return n.length==1?n[0]:new Bs(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Th(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Th(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Th(this.heap,0)}}}function Th(i,e){for(let t=i[e];;){let r=(e<<1)+1;if(r>=i.length)break;let n=i[r];if(r+1<i.length&&n.compare(i[r+1])>=0&&(n=i[r+1],r++),t.compare(n)<0)break;i[r]=t,i[e]=n,e=r}}class Ns{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bs.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Oa(this.active,e),Oa(this.activeTo,e),Oa(this.activeRank,e),this.minActive=qg(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Ca(this.active,t,r),Ca(this.activeTo,t,n),Ca(this.activeRank,t,s),e&&Ca(e,t,this.cursor.from),this.minActive=qg(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),r&&Oa(r,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let n=r.length-1;n>=0&&r[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Yg(i,e,t,r,n,s){i.goto(e),t.goto(r);let o=r+n,a=r,l=r-e;for(;;){let c=i.to+l-t.to||i.endSide-t.endSide,h=c<0?i.to+l:t.to,u=Math.min(h,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&Ih(i.activeForPoint(i.to+l),t.activeForPoint(t.to))||s.comparePoint(a,u,i.point,t.point):u>a&&!Ih(i.active,t.active)&&s.compareRange(a,u,i.active,t.active),h>o)break;a=h,c<=0&&i.next(),c>=0&&t.next()}}function Ih(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Oa(i,e){for(let t=e,r=i.length-1;t<r;t++)i[t]=i[t+1];i.pop()}function Ca(i,e,t){for(let r=i.length-1;r>=e;r--)i[r+1]=i[r];i[e]=t}function qg(i,e){let t=-1,r=1e9;for(let n=0;n<e.length;n++)(e[n]-r||i[n].endSide-i[t].endSide)<0&&(t=n,r=e[n]);return t}function ka(i,e,t=i.length){let r=0;for(let n=0;n<t;)i.charCodeAt(n)==9?(r+=e-r%e,n++):(r++,n=Wt(i,n));return r}function iA(i,e,t,r){for(let n=0,s=0;;){if(s>=e)return n;if(n==i.length)break;s+=i.charCodeAt(n)==9?t-s%t:1,n=Wt(i,n)}return r===!0?-1:i.length}const Rh="ͼ",Kg=typeof Symbol>"u"?"__"+Rh:Symbol.for(Rh),Dh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class wr{constructor(e,t){this.rules=[];let{finish:r}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],u=/^@(\w+)\b/.exec(o[0]),f=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),p,l);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(n(d),p,h,f)}else p!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(h.length||f)&&l.push((r&&!u&&!c?o.map(r):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Zg[Kg]||1;return Zg[Kg]=e+1,Rh+e.toString(36)}static mount(e,t){(e[Dh]||new rA(e)).mount(Array.isArray(t)?t:[t])}}let Aa=null;class rA{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(Aa)return e.adoptedStyleSheets=[Aa.sheet,...e.adoptedStyleSheets],e[Dh]=Aa;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Aa=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Dh]=this}mount(e){let t=this.sheet,r=0,n=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<n&&a>-1&&(this.modules.splice(a,1),n--,a=-1),a==-1){if(this.modules.splice(n++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],r++)}else{for(;n<a;)r+=this.modules[n++].rules.length;r+=o.rules.length,n++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}for(var Sr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Jg=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),nA=typeof navigator<"u"&&/Mac/.test(navigator.platform),sA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),oA=nA||Jg&&+Jg[1]<57,dt=0;dt<10;dt++)Sr[48+dt]=Sr[96+dt]=String(dt);for(var dt=1;dt<=24;dt++)Sr[dt+111]="F"+dt;for(var dt=65;dt<=90;dt++)Sr[dt]=String.fromCharCode(dt+32),zs[dt]=String.fromCharCode(dt);for(var Lh in Sr)zs.hasOwnProperty(Lh)||(zs[Lh]=Sr[Lh]);function aA(i){var e=oA&&(i.ctrlKey||i.altKey||i.metaKey)||sA&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?zs:Sr)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function _a(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function Nn(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function lA(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Pa(i,e){if(!e.anchorNode)return!1;try{return Nn(i,e.anchorNode)}catch{return!1}}function Fs(i){return i.nodeType==3?Fn(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function Ea(i,e,t,r){return t?em(i,e,t,r,-1)||em(i,e,t,r,1):!1}function Ta(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function em(i,e,t,r,n){for(;;){if(i==t&&e==r)return!0;if(e==(n<0?0:Hs(i))){if(i.nodeName=="DIV")return!1;let s=i.parentNode;if(!s||s.nodeType!=1)return!1;e=Ta(i)+(n<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[e+(n<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=n<0?Hs(i):0}else return!1}}function Hs(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}const tm={left:0,right:0,top:0,bottom:0};function $h(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function cA(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function hA(i,e,t,r,n,s,o,a){let l=i.ownerDocument,c=l.defaultView||window;for(let h=i;h;)if(h.nodeType==1){let u,f=h==l.body;if(f)u=cA(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let g=h.getBoundingClientRect();u={left:g.left,right:g.left+h.clientWidth,top:g.top,bottom:g.top+h.clientHeight}}let d=0,p=0;if(n=="nearest")e.top<u.top?(p=-(u.top-e.top+o),t>0&&e.bottom>u.bottom+p&&(p=e.bottom-u.bottom+p+o)):e.bottom>u.bottom&&(p=e.bottom-u.bottom+o,t<0&&e.top-p<u.top&&(p=-(u.top+p-e.top+o)));else{let g=e.bottom-e.top,y=u.bottom-u.top;p=(n=="center"&&g<=y?e.top+g/2-y/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-y+o)-u.top}if(r=="nearest"?e.left<u.left?(d=-(u.left-e.left+s),t>0&&e.right>u.right+d&&(d=e.right-u.right+d+s)):e.right>u.right&&(d=e.right-u.right+s,t<0&&e.left<u.left+d&&(d=-(u.left+d-e.left+s))):d=(r=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:r=="start"==a?e.left-s:e.right-(u.right-u.left)+s)-u.left,d||p)if(f)c.scrollBy(d,p);else{let g=0,y=0;if(p){let v=h.scrollTop;h.scrollTop+=p,y=h.scrollTop-v}if(d){let v=h.scrollLeft;h.scrollLeft+=d,g=h.scrollLeft-v}e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y},g&&Math.abs(g-d)<1&&(r="nearest"),y&&Math.abs(y-p)<1&&(n="nearest")}if(f)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function uA(i){let e=i.ownerDocument;for(let t=i.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class fA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=n}}let zn=null;function im(i){if(i.setActive)return i.setActive();if(zn)return i.focus(zn);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(zn==null?{get preventScroll(){return zn={preventScroll:!0},!0}}:void 0),!zn){zn=!1;for(let t=0;t<e.length;){let r=e[t++],n=e[t++],s=e[t++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let rm;function Fn(i,e,t=e){let r=rm||(rm=document.createRange());return r.setEnd(i,t),r.setStart(i,e),r}function Hn(i,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},n=new KeyboardEvent("keydown",r);n.synthetic=!0,i.dispatchEvent(n);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,i.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function dA(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function nm(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function pA(i,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(;;)if(r){if(t.nodeType!=1)return!1;let n=t.childNodes[r-1];n.contentEditable=="false"?r--:(t=n,r=Hs(t))}else{if(t==i)return!0;r=Ta(t),t=t.parentNode}}class wt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new wt(e.parentNode,Ta(e),t)}static after(e,t){return new wt(e.parentNode,Ta(e)+1,t)}}const Mh=[];class We{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(this.dirty&2){let r=this.dom,n=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=n?n.nextSibling:r.firstChild)){let a=We.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.dirty=0}if(s=n?n.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=sm(s);else r.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=sm(s)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let n=Hs(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!We.get(r);)r=r.nextSibling;if(!r)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,h=r;l<this.children.length;l++){let u=this.children[l],f=c+u.length;if(c<e&&f>t)return u.domBoundsAround(e,t,c);if(f>=e&&n==-1&&(n=l,s=c),c>t&&u.dom.parentNode==this.dom){o=l,a=h;break}h=f,c=f+u.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Mh){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...r);for(let n=0;n<r.length;n++)r[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new om(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,t,r,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}We.prototype.breakAfter=0;function sm(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class om{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function am(i,e,t,r,n,s,o,a,l){let{children:c}=i,h=c.length?c[e]:null,u=s.length?s[s.length-1]:null,f=u?u.breakAfter:o;if(!(e==r&&h&&!o&&!f&&s.length<2&&h.merge(t,n,s.length?u:null,t==0,a,l))){if(r<c.length){let d=c[r];d&&n<d.length?(e==r&&(d=d.split(n),n=0),!f&&u&&d.merge(0,n,u,!0,0,l)?s[s.length-1]=d:(n&&d.merge(0,n,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(u?u.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&i.replaceChildren(e,r,s)}}function lm(i,e,t,r,n,s){let o=i.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),u=e-t;for(let f of r)u+=f.length;i.length+=u,am(i,c,h,a,l,r,0,n,s)}let Vt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Bh=typeof document<"u"?document:{documentElement:{style:{}}};const Nh=/Edge\/(\d+)/.exec(Vt.userAgent),cm=/MSIE \d/.test(Vt.userAgent),zh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vt.userAgent),Ia=!!(cm||zh||Nh),hm=!Ia&&/gecko\/(\d+)/i.test(Vt.userAgent),Fh=!Ia&&/Chrome\/(\d+)/.exec(Vt.userAgent),um="webkitFontSmoothing"in Bh.documentElement.style,fm=!Ia&&/Apple Computer/.test(Vt.vendor),dm=fm&&(/Mobile\/\w+/.test(Vt.userAgent)||Vt.maxTouchPoints>2);var pe={mac:dm||/Mac/.test(Vt.platform),windows:/Win/.test(Vt.platform),linux:/Linux|X11/.test(Vt.platform),ie:Ia,ie_version:cm?Bh.documentMode||6:zh?+zh[1]:Nh?+Nh[1]:0,gecko:hm,gecko_version:hm?+(/Firefox\/(\d+)/.exec(Vt.userAgent)||[0,0])[1]:0,chrome:!!Fh,chrome_version:Fh?+Fh[1]:0,ios:dm,android:/Android\b/.test(Vt.userAgent),webkit:um,safari:fm,webkit_version:um?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Bh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const gA=256;class xr extends We{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return r&&(!(r instanceof xr)||this.length-(t-e)+r.length>gA)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new xr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new wt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Hh(this.dom,e,t)}}class Ti extends We{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let n of t)n.setParent(this)}setAttrs(e){if(nm(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,n,s,o){return r&&(!(r instanceof Ti&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(lm(this,e,t,r?r.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,n=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),n<0&&r>=e&&(n=s),r=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Ti(this.mark,t,o)}domAtPos(e){return mm(this,e)}coordsAt(e,t){return ym(this,e,t)}}function Hh(i,e,t){let r=i.nodeValue.length;e>r&&(e=r);let n=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?pe.chrome||pe.gecko||(e?(n--,o=1):s<r&&(s++,o=-1)):t<0?n--:s<r&&s++;let a=Fn(i,n,s).getClientRects();if(!a.length)return tm;let l=a[(o?o<0:t>=0)?0:a.length-1];return pe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?$h(l,o<0):l||null}class Or extends We{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||Or)(e,t,r)}split(e){let t=Or.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,n,s,o){return r&&(!(r instanceof Or)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Or&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Re.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,n=this.posAtStart;return r?r.slice(n,n+this.length):Re.empty}domAtPos(e){return e==0?wt.before(this.dom):wt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),n=null;if(!r.length)return tm;for(let s=e>0?r.length-1:0;n=r[s],!(e>0?s==0:s==r.length-1||n.top<n.bottom);s+=e>0?-1:1);return this.length?n:$h(n,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class pm extends Or{domAtPos(e){let{topView:t,text:r}=this.widget;return t?Wh(e,0,t,r,(n,s)=>n.domAtPos(s),n=>new wt(r,Math.min(n,r.nodeValue.length))):new wt(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:n}=this.widget;return r?gm(e,t,r,n):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:n}=this.widget;return r?Wh(e,t,r,n,(s,o,a)=>s.coordsAt(o,a),(s,o)=>Hh(n,s,o)):Hh(n,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Wh(i,e,t,r,n,s){if(t instanceof Ti){for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=We.get(o);if(!a)return s(i,e);let l=Nn(o,r),c=a.length+(l?r.nodeValue.length:0);if(i<c||i==c&&a.getSide()<=0)return l?Wh(i,e,a,r,n,s):n(a,i,e);i-=c}return n(t,t.length,-1)}else return t.dom==r?s(i,e):n(t,i,e)}function gm(i,e,t,r){if(t instanceof Ti)for(let n of t.children){let s=0,o=Nn(n.dom,r);if(Nn(n.dom,i))return s+(o?gm(i,e,n,r):n.localPosFromDOM(i,e));s+=o?r.nodeValue.length:n.length}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(i,e)}class Wn extends We{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Wn&&e.side==this.side}split(){return new Wn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return wt.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=mA(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return Re.empty}}xr.prototype.children=Or.prototype.children=Wn.prototype.children=Mh;function mA(i,e){let t=i.parent,r=t?t.children.indexOf(i):-1;for(;t&&r>=0;)if(e<0?r>0:r<t.children.length){let n=t.children[r+e];if(n instanceof xr){let s=n.coordsAt(e<0?n.length:0,e);if(s)return s}r+=e}else if(t instanceof Ti&&t.parent)r=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let n=t.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function mm(i,e){let t=i.dom,{children:r}=i,n=0;for(let s=0;n<r.length;n++){let o=r[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new wt(t,0)}function vm(i,e,t){let r,{children:n}=i;t>0&&e instanceof Ti&&n.length&&(r=n[n.length-1])instanceof Ti&&r.mark.eq(e.mark)?vm(r,e.children[0],t-1):(n.push(e),e.setParent(i)),i.length+=e.length}function ym(i,e,t){let r=null,n=-1,s=null,o=-1;function a(c,h){for(let u=0,f=0;u<c.children.length&&f<=h;u++){let d=c.children[u],p=f+d.length;p>=h&&(d.children.length?a(d,h-f):!s&&(p>h||f==p&&d.getSide()>0)?(s=d,o=h-f):(f<h||f==p&&d.getSide()<0)&&(r=d,n=h-f)),f=p}}a(i,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?n:o),t):vA(i)}function vA(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=Fs(e);return t[t.length-1]||null}function jh(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}function Vh(i,e){if(i==e)return!0;if(!i||!e)return!1;let t=Object.keys(i),r=Object.keys(e);if(t.length!=r.length)return!1;for(let n of t)if(r.indexOf(n)==-1||i[n]!==e[n])return!1;return!0}function Uh(i,e,t){let r=null;if(e)for(let n in e)t&&n in t||i.removeAttribute(r=n);if(t)for(let n in t)e&&e[n]==t[n]||i.setAttribute(r=n,t[n]);return!!r}class jn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Ne=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(Ne||(Ne={}));class Ke extends Mn{constructor(e,t,r,n){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=n}get heightRelevant(){return!1}static mark(e){return new Ra(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Zr(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,n;if(e.isBlockGap)r=-5e8,n=4e8;else{let{start:s,end:o}=bm(e,t);r=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new Zr(e,r,n,t,e.widget||null,!0)}static line(e){return new Ws(e)}static set(e,t=!1){return Ue.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ke.none=Ue.empty;class Ra extends Ke{constructor(e){let{start:t,end:r}=bm(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ra&&this.tagName==e.tagName&&this.class==e.class&&Vh(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ra.prototype.point=!1;class Ws extends Ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ws&&this.spec.class==e.spec.class&&Vh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ws.prototype.mapMode=jt.TrackBefore,Ws.prototype.point=!0;class Zr extends Ke{constructor(e,t,r,n,s,o){super(t,r,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?jt.TrackBefore:jt.TrackAfter:jt.TrackDel}get type(){return this.startSide<this.endSide?Ne.WidgetRange:this.startSide<=0?Ne.WidgetBefore:Ne.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Zr&&yA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Zr.prototype.point=!0;function bm(i,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=i;return t==null&&(t=i.inclusive),r==null&&(r=i.inclusive),{start:t??e,end:r??e}}function yA(i,e){return i==e||!!(i&&e&&i.compare(e))}function Xh(i,e,t,r=0){let n=t.length-1;n>=0&&t[n]+r>=i?t[n]=Math.max(t[n],e):t.push(i,e)}class At extends We{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,n,s,o){if(r){if(!(r instanceof At))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),lm(this,e,t,r?r.children:[],s,o),!0}split(e){let t=new At;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:n}=this.childPos(e);n&&(t.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Vh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){vm(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=jh(t,this.attrs||{})),r&&(this.attrs=jh({class:r},this.attrs||{}))}domAtPos(e){return mm(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?this.dirty&4&&(nm(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Uh(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&We.get(n)instanceof Ti;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((r=We.get(n))===null||r===void 0?void 0:r.isEditable)==!1&&(!pe.ios||!this.children.some(s=>s instanceof xr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof xr)||/[^ -~]/.test(t.text))return null;let r=Fs(t.dom);if(r.length!=1)return null;e+=r[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return ym(this,e,t)}become(e){return!1}get type(){return Ne.Text}static find(e,t){for(let r=0,n=0;r<e.children.length;r++){let s=e.children[r],o=n+s.length;if(o>=t){if(s instanceof At)return s;if(o>t)break}n=o+s.breakAfter}return null}}class Jr extends We{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,n,s,o){return r&&(!(r instanceof Jr)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?wt.before(this.dom):wt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Jr(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return Mh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Re.empty}domBoundsAround(){return null}become(e){return e instanceof Jr&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Gh{constructor(e,t,r,n){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Jr&&e.type==Ne.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new At),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Da(new Wn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Da(new xr(this.text.slice(this.textOff,this.textOff+n)),t),r),this.atCursorPos=!0,this.textOff+=n,e-=n,r=0}}span(e,t,r,n){this.buildText(t-e,r,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,r,n,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Zr){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof Zr)if(r.block){let{type:l}=r;l==Ne.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Jr(r.widget||new wm("div"),a,l))}else{let l=Or.create(r.widget||new wm("span"),a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||r.startSide>0),h=!l.isEditable&&(e<t||s>n.length||r.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(n),c&&(u.append(Da(new Wn(1),n),s),s=n.length+Math.max(0,s-n.length)),u.append(Da(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,n,s){let o=new Gh(e,t,r,s);return o.openEnd=Ue.spans(n,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Da(i,e){for(let t of e)i=new Ti(t,[i],i.length);return i}class wm extends jn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Sm=ve.define(),xm=ve.define(),Om=ve.define(),Cm=ve.define(),Qh=ve.define(),km=ve.define(),Am=ve.define(),_m=ve.define({combine:i=>i.some(e=>e)}),Pm=ve.define({combine:i=>i.some(e=>e)});class La{constructor(e,t="nearest",r="nearest",n=5,s=5){this.range=e,this.y=t,this.x=r,this.yMargin=n,this.xMargin=s}map(e){return e.empty?this:new La(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Em=st.define({map:(i,e)=>i.map(e)});function Cr(i,e,t){let r=i.facet(Cm);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const $a=ve.define({combine:i=>i.length?i[0]:!0});let bA=0;const js=ve.define();class Qi{constructor(e,t,r,n){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=n(this)}static define(e,t){const{eventHandlers:r,provide:n,decorations:s}=t||{};return new Qi(bA++,e,r,o=>{let a=[js.of(o)];return s&&a.push(Vs.of(l=>{let c=l.plugin(o);return c?s(c):Ke.none})),n&&a.push(n(o)),a})}static fromClass(e,t){return Qi.define(r=>new e(r),t)}}class Yh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Cr(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Cr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Cr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Tm=ve.define(),qh=ve.define(),Vs=ve.define(),Im=ve.define(),Rm=ve.define(),Us=ve.define();class Ii{constructor(e,t,r,n){this.fromA=e,this.toA=t,this.fromB=r,this.toB=n}join(e){return new Ii(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let u=t[s],f=t[s+1],d=Math.max(a,u),p=Math.min(h,f);if(d<=p&&new Ii(d+c,p+c,d,p).addToSet(r),f>h)break;s+=2}if(!l)return r;new Ii(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Ma{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=nt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Ii(s,o,a,l))),this.changedRanges=n}static create(e,t,r){return new Ma(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var et=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(et||(et={}));const Kh=et.LTR,wA=et.RTL;function Dm(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const SA=Dm("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),xA=Dm("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Zh=Object.create(null),Ri=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);Zh[e]=t,Zh[t]=-e}function OA(i){return i<=247?SA[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?xA[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203?256:64336<=i&&i<=65023?4:i==8204?256:1}const CA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Vn{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?wA:Kh}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const Ge=[];function kA(i,e){let t=i.length,r=e==Kh?1:2,n=e==Kh?2:1;if(!i||r==1&&!CA.test(i))return Lm(t);for(let o=0,a=r,l=r;o<t;o++){let c=OA(i.charCodeAt(o));c==512?c=a:c==8&&l==4&&(c=16),Ge[o]=c==4?2:c,c&7&&(l=c),a=c}for(let o=0,a=r,l=r;o<t;o++){let c=Ge[o];if(c==128)o<t-1&&a==Ge[o+1]&&a&24?c=Ge[o]=a:Ge[o]=256;else if(c==64){let h=o+1;for(;h<t&&Ge[h]==64;)h++;let u=o&&a==8||h<t&&Ge[h]==8?l==1?1:8:256;for(let f=o;f<h;f++)Ge[f]=u;o=h-1}else c==8&&l==1&&(Ge[o]=1);a=c,c&7&&(l=c)}for(let o=0,a=0,l=0,c,h,u;o<t;o++)if(h=Zh[c=i.charCodeAt(o)])if(h<0){for(let f=a-3;f>=0;f-=3)if(Ri[f+1]==-h){let d=Ri[f+2],p=d&2?r:d&4?d&1?n:r:0;p&&(Ge[o]=Ge[Ri[f]]=p),a=f;break}}else{if(Ri.length==189)break;Ri[a++]=o,Ri[a++]=c,Ri[a++]=l}else if((u=Ge[o])==2||u==1){let f=u==r;l=f?0:1;for(let d=a-3;d>=0;d-=3){let p=Ri[d+2];if(p&2)break;if(f)Ri[d+2]|=2;else{if(p&4)break;Ri[d+2]|=4}}}for(let o=0;o<t;o++)if(Ge[o]==256){let a=o+1;for(;a<t&&Ge[a]==256;)a++;let l=(o?Ge[o-1]:r)==1,c=(a<t?Ge[a]:r)==1,h=l==c?l?1:2:r;for(let u=o;u<a;u++)Ge[u]=h;o=a-1}let s=[];if(r==1)for(let o=0;o<t;){let a=o,l=Ge[o++]!=1;for(;o<t&&l==(Ge[o]!=1);)o++;if(l)for(let c=o;c>a;){let h=c,u=Ge[--c]!=2;for(;c>a&&u==(Ge[c-1]!=2);)c--;s.push(new Vn(c,h,u?2:1))}else s.push(new Vn(a,o,0))}else for(let o=0;o<t;){let a=o,l=Ge[o++]==2;for(;o<t&&l==(Ge[o]==2);)o++;s.push(new Vn(a,o,l?1:2))}return s}function Lm(i){return[new Vn(0,i,0)]}let $m="";function AA(i,e,t,r,n){var s;let o=r.head-i.from,a=-1;if(o==0){if(!n||!i.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==i.length){if(n)return null;let f=e[e.length-1];f.level!=t&&(o=f.side(!0,t),a=e.length-1)}a<0&&(a=Vn.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[a];o==l.side(n,t)&&(l=e[a+=n?1:-1],o=l.side(!n,t));let c=n==(l.dir==t),h=Wt(i.text,o,c);if($m=i.text.slice(Math.min(o,h),Math.max(o,h)),h!=l.side(n,t))return ce.cursor(h+i.from,c?-1:1,l.level);let u=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return!u&&l.level!=t?ce.cursor(n?i.to:i.from,n?-1:1,t):u&&u.level<l.level?ce.cursor(u.side(!n,t)+i.from,n?1:-1,u.level):ce.cursor(h+i.from,n?-1:1,l.level)}const kr="￿";class Mm{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(De.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=kr}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let n=e;;){this.findPointBefore(r,n),this.readNode(n);let s=n.nextSibling;if(s==t)break;let o=We.get(n),a=We.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:Bm(n))||Bm(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=We.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let n=r.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function Bm(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class Nm{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class zm extends We{constructor(e){super(),this.view=e,this.compositionDeco=Ke.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new At],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ii(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ke.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=PA(this.view,e.changes)),(pe.ie||pe.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,n=this.updateDeco(),s=RA(r,n,e.changes);return t=Ii.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=pe.chrome||pe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Jr&&s.widget instanceof Fm&&n.push(s.dom);r.updateGaps(n)}updateChildren(e,t){let r=this.childCursor(t);for(let n=e.length-1;;n--){let s=n>=0?e[n]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:c}=s,{content:h,breakAtStart:u,openStart:f,openEnd:d}=Gh.build(this.view.state.doc,l,c,this.decorations,this.dynamicDecorationMap),{i:p,off:g}=r.findPos(a,1),{i:y,off:v}=r.findPos(o,-1);am(this,y,v,p,g,h,u,f,d)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection()))return;let r=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),o=n.empty?s:this.domAtPos(n.head);if(pe.gecko&&n.empty&&_A(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new wt(l,0),r=!0}let a=this.view.observer.selectionRange;(r||!a.focusNode||!Ea(s.node,s.offset,a.anchorNode,a.anchorOffset)||!Ea(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{pe.android&&pe.chrome&&this.dom.contains(a.focusNode)&&DA(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=_a(this.view.root);if(l)if(n.empty){if(pe.gecko){let c=TA(s.node,s.offset);if(c&&c!=3){let h=Wm(s.node,s.offset,c==1?1:-1);h&&(s=new wt(h,c==1?0:h.nodeValue.length))}}l.collapse(s.node,s.offset),n.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=n.bidiLevel)}else if(l.extend){l.collapse(s.node,s.offset);try{l.extend(o.node,o.offset)}catch{}}else{let c=document.createRange();n.anchor>n.head&&([s,o]=[o,s]),c.setEnd(o.node,o.offset),c.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(c)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new wt(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new wt(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=_a(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=At.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);r.collapse(h.node,h.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&r.collapse(n,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Pa(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let r=We.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(r<n.length||n instanceof At)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,n=this.children.length-1;;n--){let s=this.children[n],o=r-s.breakAfter-s.length;if(e>o||e==o&&s.type!=Ne.WidgetBefore&&s.type!=Ne.WidgetAfter&&(!n||t==2||this.children[n-1].breakAfter||this.children[n-1].type==Ne.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);r=o}}measureVisibleLineHeights(e){let t=[],{from:r,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==et.LTR;for(let c=0,h=0;h<this.children.length;h++){let u=this.children[h],f=c+u.length;if(f>n)break;if(c>=r){let d=u.dom.getBoundingClientRect();if(t.push(d.height),o){let p=u.dom.lastChild,g=p?Fs(p):[];if(g.length){let y=g[g.length-1],v=l?y.right-d.left:d.right-y.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?et.RTL:et.LTR}measureTextSize(){for(let n of this.children)if(n instanceof At){let s=n.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let n=Fs(e.firstChild)[0];t=e.getBoundingClientRect().height,r=n?n.width/27:7,e.remove()}),{lineHeight:t,charWidth:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new om(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>r){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(r).top;e.push(Ke.replace({widget:new Fm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Ke.set(e)}updateDeco(){let e=this.view.state.facet(Vs).map((t,r)=>(this.dynamicDecorationMap[r]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!r)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,n.left),top:Math.min(r.top,n.top),right:Math.max(r.right,n.right),bottom:Math.max(r.bottom,n.bottom)});let s=0,o=0,a=0,l=0;for(let h of this.view.state.facet(Rm).map(u=>u(this.view)))if(h){let{left:u,right:f,top:d,bottom:p}=h;u!=null&&(s=Math.max(s,u)),f!=null&&(o=Math.max(o,f)),d!=null&&(a=Math.max(a,d)),p!=null&&(l=Math.max(l,p))}let c={left:r.left-s,top:r.top-a,right:r.right+o,bottom:r.bottom+l};hA(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==et.LTR)}}function _A(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class Fm extends jn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Hm(i){let e=i.observer.selectionRange,t=e.focusNode&&Wm(e.focusNode,e.focusOffset,0);if(!t)return null;let r=i.docView.nearest(t);if(!r)return null;if(r instanceof At){let n=t;for(;n.parentNode!=r.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!We.get(s);)s=s.previousSibling;let o=s?We.get(s).posAtEnd:r.posAtStart;return{from:o,to:o,node:n,text:t}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof At)break;r=s}let n=r.posAtStart;return{from:n,to:n+r.length,node:r.dom,text:t}}}function PA(i,e){let t=Hm(i);if(!t)return Ke.none;let{from:r,to:n,node:s,text:o}=t,a=e.mapPos(r,1),l=Math.max(a,e.mapPos(n,-1)),{state:c}=i,h=s.nodeType==3?s.nodeValue:new Mm([],c).readRange(s.firstChild,null).text;if(l-a<h.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+h.length),kr)==h)l=a+h.length;else if(c.doc.sliceString(Math.max(0,l-h.length),l,kr)==h)a=l-h.length;else return Ke.none;else if(c.doc.sliceString(a,l,kr)!=h)return Ke.none;let u=We.get(s);return u instanceof pm?u=u.widget.topView:u&&(u.parent=null),Ke.set(Ke.replace({widget:new EA(s,o,u),inclusive:!0}).range(a,l))}class EA extends jn{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return pm}}function Wm(i,e,t){for(;;){if(i.nodeType==3)return i;if(i.nodeType==1&&e>0&&t<=0)i=i.childNodes[e-1],e=Hs(i);else if(i.nodeType==1&&e<i.childNodes.length&&t>=0)i=i.childNodes[e],e=0;else return null}}function TA(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}class IA{constructor(){this.changes=[]}compareRange(e,t){Xh(e,t,this.changes)}comparePoint(e,t){Xh(e,t,this.changes)}}function RA(i,e,t){let r=new IA;return Ue.compare(i,e,t,r),r.changes}function DA(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function LA(i,e,t=1){let r=i.charCategorizer(e),n=i.doc.lineAt(e),s=e-n.from;if(n.length==0)return ce.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=Wt(n.text,s,!1):a=Wt(n.text,s);let l=r(n.text.slice(o,a));for(;o>0;){let c=Wt(n.text,o,!1);if(r(n.text.slice(c,o))!=l)break;o=c}for(;a<n.length;){let c=Wt(n.text,a);if(r(n.text.slice(a,c))!=l)break;a=c}return ce.range(o+n.from,a+n.from)}function $A(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function MA(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function Jh(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function jm(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Vm(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function eu(i,e,t){let r,n,s,o,a=!1,l,c,h,u;for(let p=i.firstChild;p;p=p.nextSibling){let g=Fs(p);for(let y=0;y<g.length;y++){let v=g[y];n&&Jh(n,v)&&(v=jm(Vm(v,n.bottom),n.top));let S=$A(e,v),k=MA(t,v);if(S==0&&k==0)return p.nodeType==3?Um(p,e,t):eu(p,e,t);if(!r||o>k||o==k&&s>S){r=p,n=v,s=S,o=k;let P=k?t<v.top?-1:1:S?e<v.left?-1:1:0;a=!P||(P>0?y<g.length-1:y>0)}S==0?t>v.bottom&&(!h||h.bottom<v.bottom)?(l=p,h=v):t<v.top&&(!u||u.top>v.top)&&(c=p,u=v):h&&Jh(h,v)?h=Vm(h,v.bottom):u&&Jh(u,v)&&(u=jm(u,v.top))}}if(h&&h.bottom>=t?(r=l,n=h):u&&u.top<=t&&(r=c,n=u),!r)return{node:i,offset:0};let f=Math.max(n.left,Math.min(n.right,e));if(r.nodeType==3)return Um(r,f,t);if(a&&r.contentEditable!="false")return eu(r,f,t);let d=Array.prototype.indexOf.call(i.childNodes,r)+(e>=(n.left+n.right)/2?1:0);return{node:i,offset:d}}function Um(i,e,t){let r=i.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Fn(i,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<s){let f=e>=(h.left+h.right)/2,d=f;if((pe.chrome||pe.gecko)&&Fn(i,a).getBoundingClientRect().left==h.right&&(d=!f),u<=0)return{node:i,offset:a+(d?1:0)};n=a+(d?1:0),s=u}}}return{node:i,offset:n>-1?n:o>0?i.nodeValue.length:0}}function Xm(i,e,t,r=-1){var n,s;let o=i.contentDOM.getBoundingClientRect(),a=o.top+i.viewState.paddingTop,l,{docHeight:c}=i.viewState,{x:h,y:u}=e,f=u-a;if(f<0)return 0;if(f>c)return i.state.doc.length;for(let P=i.defaultLineHeight/2,T=!1;l=i.elementAtHeight(f),l.type!=Ne.Text;)for(;f=r>0?l.bottom+P:l.top-P,!(f>=0&&f<=c);){if(T)return t?null:0;T=!0,r=-r}u=a+f;let d=l.from;if(d<i.viewport.from)return i.viewport.from==0?0:t?null:Gm(i,o,l,h,u);if(d>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:Gm(i,o,l,h,u);let p=i.dom.ownerDocument,g=i.root.elementFromPoint?i.root:p,y=g.elementFromPoint(h,u);y&&!i.contentDOM.contains(y)&&(y=null),y||(h=Math.max(o.left+1,Math.min(o.right-1,h)),y=g.elementFromPoint(h,u),y&&!i.contentDOM.contains(y)&&(y=null));let v,S=-1;if(y&&((n=i.docView.nearest(y))===null||n===void 0?void 0:n.isEditable)!=!1){if(p.caretPositionFromPoint){let P=p.caretPositionFromPoint(h,u);P&&({offsetNode:v,offset:S}=P)}else if(p.caretRangeFromPoint){let P=p.caretRangeFromPoint(h,u);P&&({startContainer:v,startOffset:S}=P,(!i.contentDOM.contains(v)||pe.safari&&BA(v,S,h)||pe.chrome&&NA(v,S,h))&&(v=void 0))}}if(!v||!i.docView.dom.contains(v)){let P=At.find(i.docView,d);if(!P)return f>l.top+l.height/2?l.to:l.from;({node:v,offset:S}=eu(P.dom,h,u))}let k=i.docView.nearest(v);if(!k)return null;if(k.isWidget&&((s=k.dom)===null||s===void 0?void 0:s.nodeType)==1){let P=k.dom.getBoundingClientRect();return e.y<P.top||e.y<=P.bottom&&e.x<=(P.left+P.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(v,S)+k.posAtStart}function Gm(i,e,t,r,n){let s=Math.round((r-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let a=Math.floor((n-t.top)/i.defaultLineHeight);s+=a*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+iA(o,s,i.state.tabSize)}function BA(i,e,t){let r;if(i.nodeType!=3||e!=(r=i.nodeValue.length))return!1;for(let n=i.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return Fn(i,r-1,r).getBoundingClientRect().left>t}function NA(i,e,t){if(e!=0)return!1;for(let n=i;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let r=i.nodeType==1?i.getBoundingClientRect():Fn(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function zA(i,e,t,r){let n=i.state.doc.lineAt(e.head),s=!r||!i.lineWrapping?null:i.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let l=i.dom.getBoundingClientRect(),c=i.textDirectionAt(n.from),h=i.posAtCoords({x:t==(c==et.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(h!=null)return ce.cursor(h,t?-1:1)}let o=At.find(i.docView,e.head),a=o?t?o.posAtEnd:o.posAtStart:t?n.to:n.from;return ce.cursor(a,t?-1:1)}function Qm(i,e,t,r){let n=i.state.doc.lineAt(e.head),s=i.bidiSpans(n),o=i.textDirectionAt(n.from);for(let a=e,l=null;;){let c=AA(n,s,o,a,t),h=$m;if(!c){if(n.number==(t?i.state.doc.lines:1))return a;h=`
`,n=i.state.doc.line(n.number+(t?1:-1)),s=i.bidiSpans(n),c=ce.cursor(t?n.from:n.to)}if(l){if(!l(h))return a}else{if(!r)return c;l=r(h)}a=c}}function FA(i,e,t){let r=i.state.charCategorizer(e),n=r(t);return s=>{let o=r(s);return n==Gi.Space&&(n=o),n==o}}function HA(i,e,t,r){let n=e.head,s=t?1:-1;if(n==(t?i.state.doc.length:0))return ce.cursor(n,e.assoc);let o=e.goalColumn,a,l=i.contentDOM.getBoundingClientRect(),c=i.coordsAtPos(n),h=i.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=i.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,i.defaultCharacterWidth*(n-d.from))),a=(s<0?d.top:d.bottom)+h}let u=l.left+o,f=r??i.defaultLineHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,g=Xm(i,{x:u,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?g<n:g>n))return ce.cursor(g,e.assoc,void 0,o)}}function tu(i,e,t){let r=i.state.facet(Im).map(n=>n(i));for(;;){let n=!1;for(let s of r)s.between(t.from-1,t.from+1,(o,a,l)=>{t.from>o&&t.from<a&&(t=e.head>t.from?ce.cursor(o,1):ce.cursor(a,-1),n=!0)});if(!n)return t}}class WA{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(r,n)=>{this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(e,n)||(this.mustFlushObserver(n)&&e.observer.forceFlush(),this.runCustomHandlers(n.type,e,n)?n.preventDefault():r(e,n))};for(let r in at){let n=at[r];e.contentDOM.addEventListener(r,s=>{Km(e,s)&&t(n,s)},iu[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(at.mousedown,r)}),pe.chrome&&pe.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,pe.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let n;this.customHandlers=[];for(let s of t)if(n=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let o in n)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{Km(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,r){for(let n of this.customHandlers){let s=n.handlers[e];if(s)try{if(s.call(n.plugin,r,t)||r.defaultPrevented)return!0}catch(o){Cr(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let n=r.handlers.scroll;if(n)try{n.call(r.plugin,t,e)}catch(s){Cr(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(pe.android&&pe.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return pe.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((r=Ym.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||jA.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Hn(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:pe.safari&&!pe.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Ym=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],jA="dthko",qm=[16,17,18,20,91,92,224,225];function Ba(i){return i*.7+8}class VA{constructor(e,t,r,n){this.view=e,this.style=r,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=uA(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(De.allowMultipleSelections)&&UA(e,t),this.dragMove=XA(e,t),this.dragging=GA(e,t)&&av(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,n=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?r=-Ba(s.left-e.clientX):e.clientX>=s.right&&(r=Ba(e.clientX-s.right)),e.clientY<=s.top?n=-Ba(s.top-e.clientY):e.clientY>=s.bottom&&(n=Ba(e.clientY-s.bottom)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function UA(i,e){let t=i.state.facet(Sm);return t.length?t[0](e):pe.mac?e.metaKey:e.ctrlKey}function XA(i,e){let t=i.state.facet(xm);return t.length?t[0](e):pe.mac?!e.altKey:!e.ctrlKey}function GA(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let r=_a(i.root);if(!r||r.rangeCount==0)return!0;let n=r.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Km(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=We.get(t))&&r.ignoreEvent(e))return!1;return!0}const at=Object.create(null),iu=Object.create(null),Zm=pe.ie&&pe.ie_version<15||pe.ios&&pe.webkit_version<604;function QA(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),Jm(i,t.value)},50)}function Jm(i,e){let{state:t}=i,r,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(ru!=null&&t.selection.ranges.every(l=>l.empty)&&ru==s.toString()){let l=-1;r=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let u=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:u},range:ce.cursor(c.from+u.length)}})}else o?r=t.changeByRange(l=>{let c=s.line(n++);return{changes:{from:l.from,to:l.to,insert:c.text},range:ce.cursor(l.from+c.length)}}):r=t.replaceSelection(s);i.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}at.keydown=(i,e)=>{i.inputState.setSelectionOrigin("select"),e.keyCode==27?i.inputState.lastEscPress=Date.now():qm.indexOf(e.keyCode)<0&&(i.inputState.lastEscPress=0)},at.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")},at.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")},iu.touchstart=iu.touchmove={passive:!0},at.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of i.state.facet(Om))if(t=r(i,e),t)break;if(!t&&e.button==0&&(t=KA(i,e)),t){let r=i.root.activeElement!=i.contentDOM;i.inputState.startMouseSelection(new VA(i,e,t,r)),r&&i.observer.ignore(()=>im(i.contentDOM)),i.inputState.mouseSelection&&i.inputState.mouseSelection.start(e)}};function ev(i,e,t,r){if(r==1)return ce.cursor(e,t);if(r==2)return LA(i.state,e,t);{let n=At.find(i.docView,e),s=i.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<i.state.doc.length&&a==s.to&&a++,ce.range(o,a)}}let tv=(i,e)=>i>=e.top&&i<=e.bottom,iv=(i,e,t)=>tv(e,t)&&i>=t.left&&i<=t.right;function YA(i,e,t,r){let n=At.find(i.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&iv(t,r,o))return-1;let a=n.coordsAt(s,1);return a&&iv(t,r,a)?1:o&&tv(r,o)?-1:1}function rv(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:YA(i,t,e.clientX,e.clientY)}}const qA=pe.ie&&pe.ie_version<=11;let nv=null,sv=0,ov=0;function av(i){if(!qA)return i.detail;let e=nv,t=ov;return nv=i,ov=Date.now(),sv=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(sv+1)%3:1}function KA(i,e){let t=rv(i,e),r=av(e),n=i.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=rv(i,s),c=ev(i,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let h=ev(i,t.pos,t.bias,r),u=Math.min(h.from,c.from),f=Math.max(h.to,c.to);c=u<c.from?ce.range(u,f):ce.range(f,u)}return o?n.replaceRange(n.main.extend(c.from,c.to)):a&&n.ranges.length>1&&n.ranges.some(h=>h.eq(c))?ZA(n,c):a?n.addRange(c):ce.create([c])}}}function ZA(i,e){for(let t=0;;t++)if(i.ranges[t].eq(e))return ce.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}at.dragstart=(i,e)=>{let{selection:{main:t}}=i.state,{mouseSelection:r}=i.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",i.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function lv(i,e,t,r){if(!t)return;let n=i.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=i.inputState,o=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:n,insert:t},l=i.state.changes(o?[o,a]:a);i.focus(),i.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"})}at.drop=(i,e)=>{if(!e.dataTransfer)return;if(i.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),n=0,s=()=>{++n==t.length&&lv(i,e,r.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}}else lv(i,e,e.dataTransfer.getData("Text"),!0)},at.paste=(i,e)=>{if(i.state.readOnly)return e.preventDefault();i.observer.flush();let t=Zm?null:e.clipboardData;t?(Jm(i,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):QA(i)};function JA(i,e){let t=i.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),i.focus()},50)}function e_(i){let e=[],t=[],r=!1;for(let n of i.selection.ranges)n.empty||(e.push(i.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of i.selection.ranges){let o=i.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),n=o.number}r=!0}return{text:e.join(i.lineBreak),ranges:t,linewise:r}}let ru=null;at.copy=at.cut=(i,e)=>{let{text:t,ranges:r,linewise:n}=e_(i.state);if(!t&&!n)return;ru=n?t:null;let s=Zm?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):JA(i,t),e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const cv=br.define();function hv(i,e){let t=[];for(let r of i.facet(Am)){let n=r(i,e);n&&t.push(n)}return t?i.update({effects:t,annotations:cv.of(!0)}):null}function uv(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=hv(i.state,e);t?i.dispatch(t):i.update([])}},10)}at.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),uv(i)},at.blur=i=>{i.observer.clearSelectionRange(),uv(i)},at.compositionstart=at.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)},at.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionFirstChange=null,pe.chrome&&pe.android&&i.observer.flushSoon(),setTimeout(()=>{i.inputState.composing<0&&i.docView.compositionDeco.size&&i.update([])},50)},at.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()},at.beforeinput=(i,e)=>{var t;let r;if(pe.chrome&&pe.android&&(r=Ym.find(n=>n.inputType==e.inputType))&&(i.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let n=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}};const fv=["pre-wrap","normal","pre-line","break-spaces"];class t_{constructor(e){this.lineWrapping=e,this.doc=Re.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return fv.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let n=e[r];n<0?r++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,r,n,s){let o=fv.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=r,this.lineLength=n,a){this.heightSamples={};for(let l=0;l<s.length;l++){let c=s[l];c<0?l++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class i_{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Yi{constructor(e,t,r,n,s){this.from=e,this.length=t,this.top=r,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Yi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var je=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(je||(je={}));const Na=.001;class _t{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Na&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return _t.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,n){let s=this,o=r.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:u}=n[a],f=s.lineAt(l,je.ByPosNoHeight,r.setDoc(t),0,0),d=f.to>=c?f:s.lineAt(c,je.ByPosNoHeight,r,0,0);for(u+=d.to-c,c=d.to;a>0&&f.from<=n[a-1].toA;)l=n[a-1].fromA,h=n[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,je.ByPosNoHeight,r,0,0));h+=f.from-l,l=f.from;let p=nu.build(r.setDoc(o),e,h,u);s=s.replace(l,c,p)}return s.updateHeight(r,0)}static empty(){return new Ut(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,n=0,s=0;for(;;)if(t==r)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,n-=a.size}else if(s>n*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new r_(_t.of(e.slice(0,t)),o,_t.of(e.slice(r)))}}_t.prototype.size=1;class dv extends _t{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,n){return new Yi(n,this.length,r,this.height,this.type)}lineAt(e,t,r,n,s){return this.blockAt(0,r,n,s)}forEachLine(e,t,r,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,n,s))}updateHeight(e,t=0,r=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ut extends dv{constructor(e,t){super(e,t,Ne.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let n=r[0];return r.length==1&&(n instanceof Ut||n instanceof pt&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof pt?n=new Ut(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):_t.of(r)}updateHeight(e,t=0,r=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class pt extends _t{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,a=(this.height-l)/(this.length-s-1)}else o=this.height/s;return{firstLine:r,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,r,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let c=n+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),h=t.doc.lineAt(c),u=a+h.length*l,f=Math.max(r,e-u/2);return new Yi(h.from,h.length,f,u,Ne.Text)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:h,length:u}=t.doc.line(s+c);return new Yi(h,u,r+a*c,a,Ne.Text)}}lineAt(e,t,r,n,s){if(t==je.ByHeight)return this.blockAt(e,r,n,s);if(t==je.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Yi(d,p-d,0,0,Ne.Text)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),h=a+c.length*l,u=c.number-o,f=n+a*u+l*(c.from-s-u);return new Yi(c.from,c.length,Math.max(n,Math.min(f,n+this.height-h)),h,Ne.Text)}forEachLine(e,t,r,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let h=e,u=n;h<=t;){let f=r.doc.lineAt(h);if(h==e){let p=f.number-a;u+=l*p+c*(e-s-p)}let d=l+c*f.length;o(new Yi(f.from,f.length,u,d,Ne.Text)),u+=d,h=f.to+1}}replace(e,t,r){let n=this.length-t;if(n>0){let s=r[r.length-1];s instanceof pt?r[r.length-1]=new pt(s.length+n):r.push(null,new pt(n-1))}if(e>0){let s=r[0];s instanceof pt?r[0]=new pt(e+s.length):r.unshift(new pt(e-1),null)}return _t.of(r)}decomposeLeft(e,t){t.push(new pt(e-1),null)}decomposeRight(e,t){t.push(null,new pt(this.length-e-1))}updateHeight(e,t=0,r=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new pt(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let u=n.heights[n.index++];l==-1?l=u:Math.abs(u-l)>=Na&&(l=-2);let f=new Ut(h,u);f.outdated=!1,o.push(f),a+=h+1}a<=s&&o.push(null,new pt(s-a).updateHeight(e,a));let c=_t.of(o);return(l<0||Math.abs(c.height-this.height)>=Na||Math.abs(l-this.heightMetrics(e,t).perLine)>=Na)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class r_ extends _t{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,n){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,r,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==je.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,r,n,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==je.ByPosNoHeight?je.ByPosNoHeight:je.ByPos;return l?c.join(this.right.lineAt(a,h,r,o,a)):this.left.lineAt(a,h,r,n,s).join(c)}forEachLine(e,t,r,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,n,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let c=this.lineAt(l,je.ByPos,r,n,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,n,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,o)}}replace(e,t,r){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&pv(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),pv(s,a)}return _t.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,n=r+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?_t.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,r,n):s.updateHeight(e,t,r),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,r,n):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pv(i,e){let t,r;i[e]==null&&(t=i[e-1])instanceof pt&&(r=i[e+1])instanceof pt&&i.splice(e-1,3,new pt(t.length+1+r.length))}const n_=5;class nu{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Ut?n.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ut(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new dv(s,n,r.type)):(s||n>=n_)&&this.addLineDeco(n,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ut(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new pt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ut)return e;let t=new Ut(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Ne.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Ne.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ut)&&!this.isCovered?this.nodes.push(new Ut(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let n of this.nodes)n instanceof Ut&&n.updateHeight(this.oracle,r),r+=n?n.length:1;return this.nodes}static build(e,t,r,n){let s=new nu(r,e);return Ue.spans(t,r,n,s,0),s.finish(r)}}function s_(i,e,t){let r=new o_;return Ue.compare(i,e,t,r,0),r.changes}class o_{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,n){(e<t||r&&r.heightRelevant||n&&n.heightRelevant)&&Xh(e,t,this.changes,5)}}function a_(i,e){let t=i.getBoundingClientRect(),r=i.ownerDocument,n=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let c=i.parentNode;c&&c!=r.body;)if(c.nodeType==1){let h=c,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=c==i.parentNode?f.bottom:Math.min(l,f.bottom)}c=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function l_(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class su{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],s=t[r];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e){return Ke.replace({widget:new c_(this.size,e)}).range(this.from,this.to)}}class c_ extends jn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gv{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=mv,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=et.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(qh).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new t_(t),this.stateDeco=e.facet(Vs).filter(r=>typeof r!="function"),this.heightMap=_t.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle.setDoc(e.doc),[new Ii(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ke.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let n=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new za(s,o))}}this.viewports=e.sort((r,n)=>r.from-n.from),this.scaler=this.heightMap.height<=7e6?mv:new f_(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Xs(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Vs).filter(c=>typeof c!="function");let n=e.changedRanges,s=Ii.extendWithRanges(n,s_(r,this.stateDeco,e?e.changes:nt.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Pm)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),n=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?et.RTL:et.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0,u=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=f)&&(this.paddingTop=u,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?l_:a_)(t,this.paddingTop),p=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(k)&&(o=!0),o||n.lineWrapping&&Math.abs(v-this.contentDOMWidth)>n.charWidth){let{lineHeight:P,charWidth:T}=e.docView.measureTextSize();o=P>0&&n.refresh(s,P,T,v/T,k),o&&(e.docView.minWidth=0,c|=8)}p>0&&g>0?h=Math.max(p,g):p<0&&g<0&&(h=Math.min(p,g)),n.heightChanged=!1;for(let P of this.viewports){let T=P.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(P);this.heightMap=(o?_t.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle,[new Ii(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new i_(P.from,T))}n.heightChanged&&(c|=2)}let S=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(c&2||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new za(n.lineAt(o-r*1e3,je.ByHeight,s,0,0).from,n.lineAt(a+(1-r)*1e3,je.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=n.lineAt(c,je.ByPos,s,0,0),f;t.y=="center"?f=(u.top+u.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=u.top:f=u.bottom-h,l=new za(n.lineAt(f-1e3/2,je.ByHeight,s,0,0).from,n.lineAt(f+h+1e3/2,je.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new za(this.heightMap.lineAt(r,je.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,je.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,je.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,je.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let n of e)t.touchesRange(n.from,n.to)||r.push(new su(t.mapPos(n.from),t.mapPos(n.to),n.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,n=r?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=et.LTR&&!r)return[];let a=[],l=(c,h,u,f)=>{if(h-c<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let y of p)if(y>c&&y<h){l(c,y-10,u,f),l(y+10,h,u,f);return}let g=u_(e,y=>y.from>=u.from&&y.to<=u.to&&Math.abs(y.from-c)<s&&Math.abs(y.to-h)<s&&!p.some(v=>y.from<v&&y.to>v));if(!g){if(h<u.to&&t&&r&&t.visibleRanges.some(y=>y.from<=h&&y.to>=h)){let y=t.moveToLineBoundary(ce.cursor(h),!1,!0).head;y>c&&(h=y)}g=new su(c,h,this.gapSize(u,c,h,f))}a.push(g)};for(let c of this.viewportLines){if(c.length<o)continue;let h=h_(c.from,c.to,this.stateDeco);if(h.total<o)continue;let u=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(r){let p=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(u!=null){let v=Ha(h,u),S=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=v-S,y=v+S}else g=(this.visibleTop-c.top-p)/c.height,y=(this.visibleBottom-c.top+p)/c.height;f=Fa(h,g),d=Fa(h,y)}else{let p=h.total*this.heightOracle.charWidth,g=n*this.heightOracle.charWidth,y,v;if(u!=null){let S=Ha(h,u),k=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;y=S-k,v=S+k}else y=(this.pixelViewport.left-g)/p,v=(this.pixelViewport.right+g)/p;f=Fa(h,y),d=Fa(h,v)}f>c.from&&l(c.from,f,c,h),d<c.to&&l(d,c.to,c,h)}return a}gapSize(e,t,r,n){let s=Ha(n,r)-Ha(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){su.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ke.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ue.spans(e,this.viewport.from,this.viewport.to,{span(n,s){t.push({from:n,to:s})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=t[s].from||n.to!=t[s].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Xs(this.heightMap.lineAt(e,je.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Xs(this.heightMap.lineAt(this.scaler.fromDOM(e),je.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Xs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class za{constructor(e,t){this.from=e,this.to=t}}function h_(i,e,t){let r=[],n=i,s=0;return Ue.spans(t,i,e,{span(){},point(o,a){o>n&&(r.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(r.push({from:n,to:e}),s+=e-n),{total:s,ranges:r}}function Fa({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(i*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(r<=a)return s+r;r-=a}}function Ha(i,e){let t=0;for(let{from:r,to:n}of i.ranges){if(e<=n){t+=e-r;break}t+=n-r}return t/i.total}function u_(i,e){for(let t of i)if(e(t))return t}const mv={toDOM(i){return i},fromDOM(i){return i},scale:1};class f_{constructor(e,t,r){let n=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,je.ByPos,e,0,0).top,h=t.lineAt(l,je.ByPos,e,0,0).bottom;return n+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,r=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,n=s.domBottom}}}function Xs(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),r=e.toDOM(i.bottom);return new Yi(i.from,i.length,t,r-t,Array.isArray(i.type)?i.type.map(n=>Xs(n,e)):i.type)}const Wa=ve.define({combine:i=>i.join(" ")}),ou=ve.define({combine:i=>i.indexOf(!0)>-1}),au=wr.newName(),vv=wr.newName(),yv=wr.newName(),bv={"&light":"."+vv,"&dark":"."+yv};function lu(i,e,t){return new wr(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,n=>{if(n=="&")return i;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):i+" "+r}})}const d_=lu("."+au,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},bv);class p_{constructor(e,t,r,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:m_(e),l=new Mm(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=v_(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Nn(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Nn(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=ce.single(c,l)}}}function wv(i,e){let t,{newSel:r}=e,n=i.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,a=n.from,l=null;(i.inputState.lastKeyCode===8&&i.inputState.lastKeyTime>Date.now()-100||pe.android&&e.text.length<o-s)&&(a=n.to,l="end");let c=g_(i.state.doc.sliceString(s,o,kr),e.text,a-s,l);c&&(pe.chrome&&i.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==kr+kr&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:Re.of(e.text.slice(c.from,c.toB).split(kr))})}else r&&(!i.hasFocus&&i.state.facet($a)||r.main.eq(n))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!n.empty&&r&&r.main.empty?t={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,n.to)}:t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,n.to))}:(pe.mac||pe.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=ce.single(r.main.anchor-1,r.main.head-1)),t={from:n.from,to:n.to,insert:Re.of([" "])}):pe.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(r&&(r=ce.single(r.main.anchor-1,r.main.head-1)),t={from:n.from,to:n.to,insert:Re.of([" "])}),t){let s=i.state;if(pe.ios&&i.inputState.flushIOSKey(i)||pe.android&&(t.from==n.from&&t.to==n.to&&t.insert.length==1&&t.insert.lines==2&&Hn(i.contentDOM,"Enter",13)||t.from==n.from-1&&t.to==n.to&&t.insert.length==0&&Hn(i.contentDOM,"Backspace",8)||t.from==n.from&&t.to==n.to+1&&t.insert.length==0&&Hn(i.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(i.state.facet(km).some(c=>c(i,t.from,t.to,o)))return!0;i.inputState.composing>=0&&i.inputState.composing++;let a;if(t.from>=n.from&&t.to<=n.to&&t.to-t.from>=(n.to-n.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let c=n.from<t.from?s.sliceDoc(n.from,t.from):"",h=n.to>t.to?s.sliceDoc(t.to,n.to):"";a=s.replaceSelection(i.state.toText(c+t.insert.sliceString(0,void 0,i.state.lineBreak)+h))}else{let c=s.changes(t),h=r&&!s.selection.main.eq(r.main)&&r.main.to<=c.newLength?r.main:void 0;if(s.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=n.to&&t.to>=n.to-10){let u=i.state.sliceDoc(t.from,t.to),f=Hm(i)||i.state.doc.lineAt(n.head),d=n.to-t.to,p=n.to-n.from;a=s.changeByRange(g=>{if(g.from==n.from&&g.to==n.to)return{changes:c,range:h||g.map(c)};let y=g.to-d,v=y-u.length;if(g.to-g.from!=p||i.state.sliceDoc(v,y)!=u||f&&g.to>=f.from&&g.from<=f.to)return{range:g};let S=s.changes({from:v,to:y,insert:t.insert}),k=g.to-n.to;return{changes:S,range:h?ce.range(Math.max(0,h.anchor+k),Math.max(0,h.head+k)):g.map(S)}})}else a={changes:c,selection:h&&s.selection.replaceRange(h)}}let l="input.type";return i.composing&&(l+=".compose",i.inputState.compositionFirstChange&&(l+=".start",i.inputState.compositionFirstChange=!1)),i.dispatch(a,{scrollIntoView:!0,userEvent:l}),!0}else if(r&&!r.main.eq(n)){let s=!1,o="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(s=!0),o=i.inputState.lastSelectionOrigin),i.dispatch({selection:r,scrollIntoView:s,userEvent:o}),!0}else return!1}function g_(i,e,t,r){let n=Math.min(i.length,e.length),s=0;for(;s<n&&i.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&i.length==e.length)return null;let o=i.length,a=e.length;for(;o>0&&a>0&&i.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&i.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function m_(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:n,focusOffset:s}=i.observer.selectionRange;return t&&(e.push(new Nm(t,r)),(n!=t||s!=r)&&e.push(new Nm(n,s))),e}function v_(i,e){if(i.length==0)return null;let t=i[0].pos,r=i.length==2?i[1].pos:t;return t>-1&&r>-1?ce.single(t+e,r+e):null}const y_={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},cu=pe.ie&&pe.ie_version<=11;class b_{constructor(e){this.view=e,this.active=!1,this.selectionRange=new fA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(pe.ie&&pe.ie_version<=11||pe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),cu&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,n=this.selectionRange;if(r.state.facet($a)?r.root.activeElement!=this.dom:!Pa(r.dom,n))return;let s=n.anchorNode&&r.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(pe.ie&&pe.ie_version<=11||pe.android&&pe.chrome)&&!r.state.selection.main.empty&&n.focusNode&&Ea(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=pe.safari&&e.root.nodeType==11&&lA(this.dom.ownerDocument)==this.dom&&w_(this.view)||_a(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=Pa(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&pA(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,y_),cu&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),cu&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&Hn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,r=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:n}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),n=this.selectionChanged&&Pa(this.dom,this.selectionRange);return e<0&&!n?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new p_(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,n=wv(this.view,t);return this.view.state==r&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let r=Sv(t,e.previousSibling||e.target.previousSibling,-1),n=Sv(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(n=this.resizeContent)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Sv(i,e,t){for(;e;){let r=We.get(e);if(r&&r.parent==i)return r;let n=e.parentNode;e=n!=i.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function w_(i){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",t,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return Ea(a.node,a.offset,s,o)&&([r,n,s,o]=[s,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:o}}class xe{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||dA(e.parent)||document,this.viewState=new gv(e.state||De.create(e)),this.plugins=this.state.facet(js).map(t=>new Yh(t));for(let t of this.plugins)t.update(this);this.observer=new b_(this),this.inputState=new WA(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new zm(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof ot?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,n,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(cv))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=hv(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(De.phrases)!=this.state.facet(De.phrases))return this.setState(s);n=Ma.create(this,s,e),n.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(u&&(u=u.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;u=new La(d.empty?d:ce.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Em)&&(u=d.value)}this.viewState.update(n,u),this.bidiCache=ja.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(Us)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Wa)!=n.state.facet(Wa)&&(this.viewState.mustMeasureContent=!0),(t||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let f of this.state.facet(Qh))f(n);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!wv(this,h)&&c.force&&Hn(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new gv(e),this.plugins=e.facet(js).map(r=>new Yh(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new zm(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(js),r=e.state.facet(js);if(t!=r){let n=[];for(let s of r){let o=t.indexOf(s);if(o<0)n.push(new Yh(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:r,scrollTop:n,clientHeight:s}=this.scrollDOM,o=n>r-s-4?r:n;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,c=this.viewState.lineBlockAtHeight(o),h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];h&4||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(y=>{try{return y.read(this)}catch(v){return Cr(this.state,v),xv}}),d=Ma.create(this,this.state,[]),p=!1,g=!1;d.flags|=h,t?t.flags|=h:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let y=0;y<u.length;y++)if(f[y]!=xv)try{let v=u[y];v.write&&v.write(f[y],this)}catch(v){Cr(this.state,v)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let y=this.viewState.lineBlockAt(c.from).top-c.top;(y>1||y<-1)&&(this.scrollDOM.scrollTop+=y,g=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Qh))a(t)}get themeClasses(){return au+" "+(this.state.facet(ou)?yv:vv)+" "+this.state.facet(Wa)}updateAttrs(){let e=Ov(this,Tm,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet($a)?"true":"false",class:"cm-content",style:`${pe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ov(this,qh,t);let r=this.observer.ignore(()=>{let n=Uh(this.contentDOM,this.contentAttrs,t),s=Uh(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let n of r.effects)if(n.is(xe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Us),wr.mount(this.root,this.styleModules.concat(d_).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return tu(this,e,Qm(this,e,t,r))}moveByGroup(e,t){return tu(this,e,Qm(this,e,t,r=>FA(this,e.head,r)))}moveToLineBoundary(e,t,r=!0){return zA(this,e,t,r)}moveVertically(e,t,r){return tu(this,e,HA(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Xm(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[Vn.find(s,e-n.from,-1,t)];return $h(r,o.dir==et.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(_m)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>S_)return Lm(e.length);let t=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let r=kA(e.text,t);return this.bidiCache.push(new ja(e.from,e.to,t,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||pe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{im(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Em.of(new La(typeof e=="number"?ce.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Qi.define(()=>({}),{eventHandlers:e})}static theme(e,t){let r=wr.newName(),n=[Wa.of(r),Us.of(lu(`.${r}`,e))];return t&&t.dark&&n.push(ou.of(!0)),n}static baseTheme(e){return ya.lowest(Us.of(lu("."+au,e,bv)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),n=r&&We.get(r)||We.get(e);return((t=n==null?void 0:n.rootView)===null||t===void 0?void 0:t.view)||null}}xe.styleModule=Us,xe.inputHandler=km,xe.focusChangeEffect=Am,xe.perLineTextDirection=_m,xe.exceptionSink=Cm,xe.updateListener=Qh,xe.editable=$a,xe.mouseSelectionStyle=Om,xe.dragMovesSelection=xm,xe.clickAddsSelectionRange=Sm,xe.decorations=Vs,xe.atomicRanges=Im,xe.scrollMargins=Rm,xe.darkTheme=ou,xe.contentAttributes=qh,xe.editorAttributes=Tm,xe.lineWrapping=xe.contentAttributes.of({class:"cm-lineWrapping"}),xe.announce=st.define();const S_=4096,xv={};class ja{constructor(e,t,r,n){this.from=e,this.to=t,this.dir=r,this.order=n}static update(e,t){if(t.empty)return e;let r=[],n=e.length?e[e.length-1].dir:et.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&r.push(new ja(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return r}}function Ov(i,e,t){for(let r=i.state.facet(e),n=r.length-1;n>=0;n--){let s=r[n],o=typeof s=="function"?s(i):s;o&&jh(o,t)}return t}const x_=pe.mac?"mac":pe.windows?"win":pe.linux?"linux":"key";function O_(i,e){const t=i.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Va(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const C_=ya.default(xe.domEventHandlers({keydown(i,e){return P_(k_(e.state),i,e,"editor")}})),Cv=ve.define({enables:C_}),kv=new WeakMap;function k_(i){let e=i.facet(Cv),t=kv.get(e);return t||kv.set(e,t=__(e.reduce((r,n)=>r.concat(n),[]))),t}let Ar=null;const A_=4e3;function __(i,e=x_){let t=Object.create(null),r=Object.create(null),n=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c)=>{var h,u;let f=t[o]||(t[o]=Object.create(null)),d=a.split(/ (?!$)/).map(y=>O_(y,e));for(let y=1;y<d.length;y++){let v=d.slice(0,y).join(" ");n(v,!0),f[v]||(f[v]={preventDefault:!0,run:[S=>{let k=Ar={view:S,prefix:v,scope:o};return setTimeout(()=>{Ar==k&&(Ar=null)},A_),!0}]})}let p=d.join(" ");n(p,!1);let g=f[p]||(f[p]={preventDefault:!1,run:((u=(h=f._any)===null||h===void 0?void 0:h.run)===null||u===void 0?void 0:u.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0)};for(let o of i){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,run:[]});for(let u in h)h[u].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault)}return t}function P_(i,e,t,r){let n=aA(e),s=Rs(n,0),o=yh(s)==n.length&&n!=" ",a="",l=!1;Ar&&Ar.view==t&&Ar.scope==r&&(a=Ar.prefix+" ",(l=qm.indexOf(e.keyCode)<0)&&(Ar=null));let c=new Set,h=p=>{if(p){for(let g of p.run)if(!c.has(g)&&(c.add(g),g(t,e)))return!0;p.preventDefault&&(l=!0)}return!1},u=i[r],f,d;if(u){if(h(u[a+Va(n,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(pe.windows&&e.ctrlKey&&e.altKey)&&(f=Sr[e.keyCode])&&f!=n){if(h(u[a+Va(f,e,!0)]))return!0;if(e.shiftKey&&(d=zs[e.keyCode])!=n&&d!=f&&h(u[a+Va(d,e,!1)]))return!0}else if(o&&e.shiftKey&&h(u[a+Va(n,e,!0)]))return!0;if(h(u._any))return!0}return l}class Gs{constructor(e,t,r,n,s){this.className=e,this.left=t,this.top=r,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let n=e.coordsAtPos(r.head,r.assoc||1);if(!n)return[];let s=Av(e);return[new Gs(t,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return E_(e,t,r)}}function Av(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==et.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function _v(i,e,t){let r=ce.cursor(e);return{from:Math.max(t.from,i.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,i.moveToLineBoundary(r,!0,!0).from),type:Ne.Text}}function Pv(i,e){let t=i.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Ne.Text))return r}return t}function E_(i,e,t){if(t.to<=i.viewport.from||t.from>=i.viewport.to)return[];let r=Math.max(t.from,i.viewport.from),n=Math.min(t.to,i.viewport.to),s=i.textDirection==et.LTR,o=i.contentDOM,a=o.getBoundingClientRect(),l=Av(i),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=a.right-(h?parseInt(h.paddingRight):0),d=Pv(i,r),p=Pv(i,n),g=d.type==Ne.Text?d:null,y=p.type==Ne.Text?p:null;if(i.lineWrapping&&(g&&(g=_v(i,r,g)),y&&(y=_v(i,n,y))),g&&y&&g.from==y.from)return S(k(t.from,t.to,g));{let T=g?k(t.from,null,g):P(d,!1),R=y?k(null,t.to,y):P(p,!0),D=[];return(g||d).to<(y||p).from-1?D.push(v(u,T.bottom,f,R.top)):T.bottom<R.top&&i.elementAtHeight((T.bottom+R.top)/2).type==Ne.Text&&(T.bottom=R.top=(T.bottom+R.top)/2),S(T).concat(D).concat(S(R))}function v(T,R,D,j){return new Gs(e,T-l.left,R-l.top-.01,D-T,j-R+.01)}function S({top:T,bottom:R,horizontal:D}){let j=[];for(let M=0;M<D.length;M+=2)j.push(v(D[M],T,D[M+1],R));return j}function k(T,R,D){let j=1e9,M=-1e9,G=[];function re(m,L,Y,X,ie){let H=i.coordsAtPos(m,m==D.to?-2:2),te=i.coordsAtPos(Y,Y==D.from?2:-2);j=Math.min(H.top,te.top,j),M=Math.max(H.bottom,te.bottom,M),ie==et.LTR?G.push(s&&L?u:H.left,s&&X?f:te.right):G.push(!s&&X?u:te.left,!s&&L?f:H.right)}let w=T??D.from,C=R??D.to;for(let m of i.visibleRanges)if(m.to>w&&m.from<C)for(let L=Math.max(m.from,w),Y=Math.min(m.to,C);;){let X=i.state.doc.lineAt(L);for(let ie of i.bidiSpans(X)){let H=ie.from+X.from,te=ie.to+X.from;if(H>=Y)break;te>L&&re(Math.max(H,L),T==null&&H<=w,Math.min(te,Y),R==null&&te>=C,ie.dir)}if(L=X.to+1,L>=Y)break}return G.length==0&&re(w,T==null,C,R==null,i.textDirection),{top:j,bottom:M,horizontal:G}}function P(T,R){let D=a.top+(R?T.top:T.bottom);return{top:D,bottom:D,horizontal:[]}}}function T_(i,e){return i.constructor==e.constructor&&i.eq(e)}let I_=class{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ua)!=e.state.facet(Ua)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Ua);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!T_(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[r].constructor&&n.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}};const Ua=ve.define();function Ev(i){return[Qi.define(e=>new I_(e,i)),Ua.of(i)]}const Tv=!pe.ios,Qs=ve.define({combine(i){return xa(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function R_(i={}){return[Qs.of(i),D_,L_,$_,Pm.of(!0)]}function Iv(i){return i.startState.facet(Qs)!=i.state.facet(Qs)}const D_=Ev({above:!0,markers(i){let{state:e}=i,t=e.facet(Qs),r=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty?!s||Tv:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=n.empty?n:ce.cursor(n.head,n.head>n.anchor?-1:1);for(let l of Gs.forRange(i,o,a))r.push(l)}}return r},update(i,e){i.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Iv(i);return t&&Rv(i.state,e),i.docChanged||i.selectionSet||t},mount(i,e){Rv(e.state,i)},class:"cm-cursorLayer"});function Rv(i,e){e.style.animationDuration=i.facet(Qs).cursorBlinkRate+"ms"}const L_=Ev({above:!1,markers(i){return i.state.selection.ranges.map(e=>e.empty?[]:Gs.forRange(i,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(i,e){return i.docChanged||i.selectionSet||i.viewportChanged||Iv(i)},class:"cm-selectionLayer"}),Dv={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Tv&&(Dv[".cm-line"].caretColor="transparent !important");const $_=ya.highest(xe.theme(Dv));function Lv(i,e,t,r,n){e.lastIndex=0;for(let s=i.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)n(o+a.index,a)}function M_(i,e){let t=i.visibleRanges;if(t.length==1&&t[0].from==i.viewport.from&&t[0].to==i.viewport.to)return t;let r=[];for(let{from:n,to:s}of t)n=Math.max(i.state.doc.lineAt(n).from,n-e),s=Math.min(i.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=n?r[r.length-1].to=s:r.push({from:n,to:s});return r}class B_{constructor(e){const{regexp:t,decoration:r,decorate:n,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(a,l,c,h)=>n(h,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,h)=>{let u=r(a,l,c);u&&h(c,c+a[0].length,u)};else if(r)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Bn,r=t.add.bind(t);for(let{from:n,to:s}of M_(e,this.maxLength))Lv(e.state.doc,this.regexp,n,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),n=Math.max(l,n))}),e.viewportChanged||n-r>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),r,n):t}updateRange(e,t,r,n){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,n);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),u=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){u=a;break}}let f=[],d,p=(g,y,v)=>f.push(v.range(g,y));if(l==c)for(this.regexp.lastIndex=h-l.from;(d=this.regexp.exec(l.text))&&d.index<u-l.from;)this.addMatch(d,e,d.index+l.from,p);else Lv(e.state.doc,this.regexp,h,u,(g,y)=>this.addMatch(y,e,g,p));t=t.update({filterFrom:h,filterTo:u,filter:(g,y)=>g<h||y>u,add:f})}}return t}}const hu=/x/.unicode!=null?"gu":"g",N_=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,hu),z_={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let uu=null;function F_(){var i;if(uu==null&&typeof document<"u"&&document.body){let e=document.body.style;uu=((i=e.tabSize)!==null&&i!==void 0?i:e.MozTabSize)!=null}return uu||!1}const Xa=ve.define({combine(i){let e=xa(i,{render:null,specialChars:N_,addSpecialChars:null});return(e.replaceTabs=!F_())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,hu)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,hu)),e}});function H_(i={}){return[Xa.of(i),W_()]}let $v=null;function W_(){return $v||($v=Qi.fromClass(class{constructor(i){this.view=i,this.decorations=Ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(Xa)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new B_({regexp:i.specialChars,decoration:(e,t,r)=>{let{doc:n}=t.state,s=Rs(e[0],0);if(s==9){let o=n.lineAt(r),a=t.state.tabSize,l=ka(o.text,a,r-o.from);return Ke.replace({widget:new X_((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Ke.replace({widget:new U_(i,s)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let e=i.state.facet(Xa);i.startState.facet(Xa)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const j_="•";function V_(i){return i>=32?j_:i==10?"␤":String.fromCharCode(9216+i)}class U_ extends jn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=V_(this.code),r=e.state.phrase("Control character")+" "+(z_[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,r,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class X_ extends jn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}class en extends Mn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}en.prototype.elementClass="",en.prototype.toDOM=void 0,en.prototype.mapMode=jt.TrackBefore,en.prototype.startSide=en.prototype.endSide=-1,en.prototype.point=!0;const fu=ve.define(),Ga=ve.define(),du=ve.define({combine:i=>i.some(e=>e)});function G_(i){let e=[Q_];return i&&i.fixed===!1&&e.push(du.of(!0)),e}const Q_=Qi.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=i.state.facet(Ga).map(e=>new Nv(i,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!i.state.facet(du),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(du)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&this.dom.remove();let t=Ue.iter(this.view.state.facet(fu),this.view.viewport.from),r=[],n=this.gutters.map(s=>new Y_(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==Ne.Text){o=a;break}}else o=s.type==Ne.Text?s:void 0;if(o){r.length&&(r=[]),Bv(t,r,s.from);for(let a of n)a.line(this.view,o,r)}}for(let s of n)s.finish();i&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(i){let e=i.startState.facet(Ga),t=i.state.facet(Ga),r=i.docChanged||i.heightChanged||i.viewportChanged||!Ue.eq(i.startState.facet(fu),i.state.facet(fu),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(i)&&(r=!0);else{r=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new Nv(this.view,s)):(this.gutters[o].update(i),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return r}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:i=>xe.scrollMargins.of(e=>{let t=e.plugin(i);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==et.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Mv(i){return Array.isArray(i)?i:[i]}function Bv(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class Y_{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ue.iter(e.markers,t.from)}line(e,t,r){let n=[];Bv(this.cursor,n,t.from),r.length&&(n=n.concat(r));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;if(n.length==0&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let l=new zv(e,t.height,a,n);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,t.height,a,n);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Nv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,n)&&n.preventDefault()});this.markers=Mv(t.markers(e)),t.initialSpacer&&(this.spacer=new zv(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Mv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let r=e.view.viewport;return!Ue.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class zv{constructor(e,t,r,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,n)}update(e,t,r,n){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),q_(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let r="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(r+=" "+h);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(n);let u=n.nextSibling;n.remove(),n=u}}if(!l)break;l.toDOM&&(c?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),c&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function q_(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const K_=ve.define(),Un=ve.define({combine(i){return xa(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let n in t){let s=r[n],o=t[n];r[n]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class pu extends en{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function gu(i,e){return i.state.facet(Un).formatNumber(e,i.state)}const Z_=Ga.compute([Un],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(K_)},lineMarker(e,t,r){return r.some(n=>n.toDOM)?null:new pu(gu(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(Un)!=e.state.facet(Un),initialSpacer(e){return new pu(gu(e,Fv(e.state.doc.lines)))},updateSpacer(e,t){let r=gu(t.view,Fv(t.view.state.doc.lines));return r==e.number?e:new pu(r)},domEventHandlers:i.facet(Un).domEventHandlers}));function J_(i={}){return[Un.of(i),G_(),Z_]}function Fv(i){let e=9;for(;e<i;)e=e*10+9;return e}var mu;const Xn=new Se;function eP(i){return ve.define({combine:i?e=>e.concat(i):void 0})}const tP=new Se;class oi{constructor(e,t,r=[],n=""){this.data=e,this.name=n,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return ai(this)}}),this.parser=t,this.extension=[Qn.of(this),De.languageData.of((s,o,a)=>{let l=Hv(s,o,a),c=l.type.prop(Xn);if(!c)return[];let h=s.facet(c),u=l.type.prop(tP);if(u){let f=l.resolve(o-l.from,a);for(let d of u)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(h)}}return h})].concat(r)}isActiveAt(e,t,r=-1){return Hv(e,t,r).type.prop(Xn)==this.data}findRegions(e){let t=e.facet(Qn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],n=(s,o)=>{if(s.prop(Xn)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Se.mounted);if(a){if(a.tree.prop(Xn)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(n(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Je&&n(c,s.positions[l]+o)}};return n(ai(e),0),r}get allowsNesting(){return!0}}oi.setState=st.define();function Hv(i,e,t){let r=i.facet(Qn),n=ai(i).topNode;if(!r||r.allowsNesting)for(let s=n;s;s=s.enter(e,t,ct.ExcludeBuffers))s.type.isTop&&(n=s);return n}class Qa extends oi{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=eP(e.languageData);return new Qa(t,e.parser.configure({props:[Xn.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Qa(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ai(i){let e=i.field(oi.state,!1);return e?e.tree:Je.empty}class iP{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Ys=null;class Ya{constructor(e,t,r=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ya(e,t,[],Je.empty,0,r,[],null)}startParse(){return this.parser.startParse(new iP(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Je.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Qr.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Qr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ys;Ys=this;try{return e()}finally{Ys=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Wv(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,u,f)=>l.push({fromA:c,toA:h,fromB:u,toB:f})),r=Qr.applyChanges(r,l),n=Je.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);h<u&&a.push({from:h,to:u})}}}return new Ya(this.parser,t,r,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:n,to:s}=this.skipped[r];n<e.to&&s>e.from&&(this.fragments=Wv(this.fragments,n,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends og{createParse(t,r,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=Ys;if(l){for(let c of n)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Je(Lt.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Ys}}function Wv(i,e,t){return Qr.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class Gn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Gn(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ya.create(e.facet(Qn).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Gn(r)}}oi.state=yr.define({create:Gn.init,update(i,e){for(let t of e.effects)if(t.is(oi.setState))return t.value;return e.startState.facet(Qn)!=e.state.facet(Qn)?Gn.init(e.state):i.apply(e)}});let jv=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(jv=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const vu=typeof navigator<"u"&&(!((mu=navigator.scheduling)===null||mu===void 0)&&mu.isInputPending)?()=>navigator.scheduling.isInputPending():null,rP=Qi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(oi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(oi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=jv(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,s=r.field(oi.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!vu?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&r.doc.length>n+1e3,l=s.context.work(()=>vu&&vu()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:oi.setState.of(new Gn(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Cr(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Qn=ve.define({combine(i){return i.length?i[0]:null},enables:i=>[oi.state,rP,xe.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class nP{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const sP=ve.define(),yu=ve.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function qa(i){let e=i.facet(yu);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function Ka(i,e){let t="",r=i.tabSize,n=i.facet(yu)[0];if(n=="	"){for(;e>=r;)t+="	",e-=r;n=" "}for(let s=0;s<e;s++)t+=n;return t}function Vv(i,e){i instanceof De&&(i=new Za(i));for(let r of i.state.facet(sP)){let n=r(i,e);if(n!==void 0)return n}let t=ai(i.state);return t?oP(i,t,e):null}class Za{constructor(e,t={}){this.state=e,this.options=t,this.unit=qa(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=r.from&&n<=r.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:r.text.slice(n-r.from),from:n}:{text:r.text.slice(0,n-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:n}=this.lineAt(e,t);return r.slice(e-n,Math.min(r.length,e+100-n))}column(e,t=1){let{text:r,from:n}=this.lineAt(e,t),s=this.countColumn(r,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return ka(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Uv=new Se;function oP(i,e,t){return Xv(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,i)}function aP(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function lP(i){let e=i.type.prop(Uv);if(e)return e;let t=i.firstChild,r;if(t&&(r=t.type.prop(Se.closedBy))){let n=i.lastChild,s=n&&r.indexOf(n.name)>-1;return o=>fP(o,!0,1,void 0,s&&!aP(o)?n.from:void 0)}return i.parent==null?cP:null}function Xv(i,e,t){for(;i;i=i.parent){let r=lP(i);if(r)return r(bu.create(t,e,i))}return null}function cP(){return 0}class bu extends Za{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new bu(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(hP(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Xv(e,this.pos,this.base):0}}function hP(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function uP(i){let e=i.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let n=i.options.simulateBreak,s=i.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function fP(i,e,t,r,n){let s=i.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||n==i.pos+o,l=e?uP(i):null;return l?a?i.column(l.from):i.column(l.to):i.baseIndent+(a?0:i.unit*t)}function dP({except:i,units:e=1}={}){return t=>{let r=i&&i.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const pP=new Se;function gP(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}class qs{constructor(e,t){this.specs=e;let r;function n(a){let l=wr.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof oi?a=>a.prop(Xn)==o.data:o?a=>a==o:void 0,this.style=yg(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new wr(r):null,this.themeType=t.themeType}static define(e,t){return new qs(e,t||{})}}const wu=ve.define(),Gv=ve.define({combine(i){return i.length?[i[0]]:null}});function Su(i){let e=i.facet(wu);return e.length?e:i.facet(Gv)}function Qv(i,e){let t=[vP],r;return i instanceof qs&&(i.module&&t.push(xe.styleModule.of(i.module)),r=i.themeType),e!=null&&e.fallback?t.push(Gv.of(i)):r?t.push(wu.computeN([xe.darkTheme],n=>n.facet(xe.darkTheme)==(r=="dark")?[i]:[])):t.push(wu.of(i)),t}class mP{constructor(e){this.markCache=Object.create(null),this.tree=ai(e.state),this.decorations=this.buildDeco(e,Su(e.state))}update(e){let t=ai(e.state),r=Su(e.state),n=r!=Su(e.startState);t.length<e.view.viewport.to&&!n&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return Ke.none;let r=new Bn;for(let{from:n,to:s}of e.visibleRanges)bk(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Ke.mark({class:l})))},n,s);return r.finish()}}const vP=ya.high(Qi.fromClass(mP,{decorations:i=>i.decorations})),yP=qs.define([{tag:F.meta,color:"#404740"},{tag:F.link,textDecoration:"underline"},{tag:F.heading,textDecoration:"underline",fontWeight:"bold"},{tag:F.emphasis,fontStyle:"italic"},{tag:F.strong,fontWeight:"bold"},{tag:F.strikethrough,textDecoration:"line-through"},{tag:F.keyword,color:"#708"},{tag:[F.atom,F.bool,F.url,F.contentSeparator,F.labelName],color:"#219"},{tag:[F.literal,F.inserted],color:"#164"},{tag:[F.string,F.deleted],color:"#a11"},{tag:[F.regexp,F.escape,F.special(F.string)],color:"#e40"},{tag:F.definition(F.variableName),color:"#00f"},{tag:F.local(F.variableName),color:"#30a"},{tag:[F.typeName,F.namespace],color:"#085"},{tag:F.className,color:"#167"},{tag:[F.special(F.variableName),F.macroName],color:"#256"},{tag:F.definition(F.propertyName),color:"#00c"},{tag:F.comment,color:"#940"},{tag:F.invalid,color:"#f00"}]),bP=1e4,wP="()[]{}",SP=new Se;function xu(i,e,t){let r=i.prop(e<0?Se.openedBy:Se.closedBy);if(r)return r;if(i.name.length==1){let n=t.indexOf(i.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function Ou(i){let e=i.type.prop(SP);return e?e(i.node):i}function Yn(i,e,t,r={}){let n=r.maxScanDistance||bP,s=r.brackets||wP,o=ai(i),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=xu(l.type,t,s);if(c&&l.from<l.to){let h=Ou(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return xP(i,e,t,l,h,c,s)}}return OP(i,e,t,o,a.type,n,s)}function xP(i,e,t,r,n,s,o){let a=r.parent,l={from:n.from,to:n.to},c=0,h=a==null?void 0:a.cursor();if(h&&(t<0?h.childBefore(r.from):h.childAfter(r.to)))do if(t<0?h.to<=r.from:h.from>=r.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let u=Ou(h);return{start:l,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(xu(h.type,t,o))c++;else if(xu(h.type,-t,o)){if(c==0){let u=Ou(h);return{start:l,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function OP(i,e,t,r,n,s,o){let a=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=i.doc.iterRange(e,t>0?i.doc.length:0),u=0;for(let f=0;!h.next().done&&f<=s;){let d=h.value;t<0&&(f+=d.length);let p=e+f*t;for(let g=t>0?0:d.length-1,y=t>0?d.length:-1;g!=y;g+=t){let v=o.indexOf(d[g]);if(!(v<0||r.resolveInner(p+g,1).type!=n))if(v%2==0==t>0)u++;else{if(u==1)return{start:c,end:{from:p+g,to:p+g+1},matched:v>>1==l>>1};u--}}t>0&&(f+=d.length)}return h.done?{start:c,matched:!1}:null}const CP=Object.create(null),Yv=[Lt.none],qv=[],kP=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])kP[i]=AP(CP,e);function Cu(i,e){qv.indexOf(i)>-1||(qv.push(i),console.warn(e))}function AP(i,e){let t=null;for(let s of e.split(".")){let o=i[s]||F[s];o?typeof o=="function"?t?t=o(t):Cu(s,`Modifier ${s} used at start of tag`):t?Cu(s,`Tag ${s} used as modifier`):t=o:Cu(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let r=e.replace(/ /g,"_"),n=Lt.define({id:Yv.length,name:r,props:[mg({[r]:t})]});return Yv.push(n),n.id}let ku=null;function Au(){if(!ku&&typeof document=="object"&&document.body){let{style:i}=document.body,e=[],t=new Set;for(let r in i)r!="cssText"&&r!="cssFloat"&&typeof i[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));ku=e.sort().map(r=>({type:"property",label:r}))}return ku||[]}const Kv=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(i=>({type:"class",label:i})),Zv=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(i=>({type:"keyword",label:i})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(i=>({type:"constant",label:i}))),_P=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(i=>({type:"type",label:i})),_r=/^(\w[\w-]*|-\w[\w-]*|)$/,PP=/^-(-[\w-]*)?$/;function EP(i,e){var t;if((i.name=="("||i.type.isError)&&(i=i.parent||i),i.name!="ArgList")return!1;let r=(t=i.parent)===null||t===void 0?void 0:t.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const Jv=new rk,TP=["Declaration"];function IP(i){for(let e=i;;){if(e.type.isTop)return e;if(!(e=e.parent))return i}}function ey(i,e){if(e.to-e.from>4096){let t=Jv.get(e);if(t)return t;let r=[],n=new Set,s=e.cursor(ct.IncludeAnonymous);if(s.firstChild())do for(let o of ey(i,s.node))n.has(o.label)||(n.add(o.label),r.push(o));while(s.nextSibling());return Jv.set(e,r),r}else{let t=[],r=new Set;return e.cursor().iterate(n=>{var s;if(n.name=="VariableName"&&n.matchContext(TP)&&((s=n.node.nextSibling)===null||s===void 0?void 0:s.name)==":"){let o=i.sliceString(n.from,n.to);r.has(o)||(r.add(o),t.push({label:o,type:"variable"}))}}),t}}const RP=i=>{let{state:e,pos:t}=i,r=ai(e).resolveInner(t,-1),n=r.type.isError&&r.from==r.to-1&&e.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(n||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:Au(),validFor:_r};if(r.name=="ValueName")return{from:r.from,options:Zv,validFor:_r};if(r.name=="PseudoClassName")return{from:r.from,options:Kv,validFor:_r};if(r.name=="VariableName"||(i.explicit||n)&&EP(r,e.doc))return{from:r.name=="VariableName"?r.from:t,options:ey(e.doc,IP(r)),validFor:PP};if(r.name=="TagName"){for(let{parent:a}=r;a;a=a.parent)if(a.name=="Block")return{from:r.from,options:Au(),validFor:_r};return{from:r.from,options:_P,validFor:_r}}if(!i.explicit)return null;let s=r.resolve(t),o=s.childBefore(t);return o&&o.name==":"&&s.name=="PseudoClassSelector"?{from:t,options:Kv,validFor:_r}:o&&o.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:t,options:Zv,validFor:_r}:s.name=="Block"||s.name=="Styles"?{from:t,options:Au(),validFor:_r}:null},ty=Qa.define({name:"css",parser:zk.configure({props:[Uv.add({Declaration:dP()}),pP.add({Block:gP})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function DP(){return new nP(ty,ty.data.of({autocomplete:RP}))}const LP="#e5c07b",iy="#e06c75",$P="#56b6c2",MP="#ffffff",Ja="#abb2bf",_u="#7d8799",BP="#61afef",NP="#98c379",ry="#d19a66",zP="#c678dd",FP="#21252b",ny="#2c313a",sy="#282c34",Pu="#353a42",HP="#3E4451",oy="#528bff",WP=xe.theme({"&":{color:Ja,backgroundColor:sy},".cm-content":{caretColor:oy},".cm-cursor, .cm-dropCursor":{borderLeftColor:oy},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:HP},".cm-panels":{backgroundColor:FP,color:Ja},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:sy,color:_u,border:"none"},".cm-activeLineGutter":{backgroundColor:ny},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Pu},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Pu,borderBottomColor:Pu},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ny,color:Ja}}},{dark:!0}),jP=qs.define([{tag:F.keyword,color:zP},{tag:[F.name,F.deleted,F.character,F.propertyName,F.macroName],color:iy},{tag:[F.function(F.variableName),F.labelName],color:BP},{tag:[F.color,F.constant(F.name),F.standard(F.name)],color:ry},{tag:[F.definition(F.name),F.separator],color:Ja},{tag:[F.typeName,F.className,F.number,F.changed,F.annotation,F.modifier,F.self,F.namespace],color:LP},{tag:[F.operator,F.operatorKeyword,F.url,F.escape,F.regexp,F.link,F.special(F.string)],color:$P},{tag:[F.meta,F.comment],color:_u},{tag:F.strong,fontWeight:"bold"},{tag:F.emphasis,fontStyle:"italic"},{tag:F.strikethrough,textDecoration:"line-through"},{tag:F.link,color:_u,textDecoration:"underline"},{tag:F.heading,fontWeight:"bold",color:iy},{tag:[F.atom,F.bool,F.special(F.variableName)],color:ry},{tag:[F.processingInstruction,F.string,F.inserted],color:NP},{tag:F.invalid,color:MP}]),VP=[WP,Qv(jP)],UP=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),r=Tu(i.state,t.from);return r.line?XP(i):r.block?QP(i):!1};function Eu(i,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let n=i(e,t);return n?(r(t.update(n)),!0):!1}}const XP=Eu(KP,0),GP=Eu(ay,0),QP=Eu((i,e)=>ay(i,e,qP(e)),0);function Tu(i,e){let t=i.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Ks=50;function YP(i,{open:e,close:t},r,n){let s=i.sliceDoc(r-Ks,r),o=i.sliceDoc(n,n+Ks),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:n+l,margin:l&&1}};let h,u;n-r<=2*Ks?h=u=i.sliceDoc(r,n):(h=i.sliceDoc(r,r+Ks),u=i.sliceDoc(n-Ks,n));let f=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(u)[0].length,p=u.length-d-t.length;return h.slice(f,f+e.length)==e&&u.slice(p,p+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:n-d-t.length,margin:/\s/.test(u.charAt(p-1))?1:0}}:null}function qP(i){let e=[];for(let t of i.selection.ranges){let r=i.doc.lineAt(t.from),n=t.to<=r.to?r:i.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=n.to:e.push({from:r.from,to:n.to})}return e}function ay(i,e,t=e.selection.ranges){let r=t.map(s=>Tu(e,s.from).block);if(!r.every(s=>s))return null;let n=t.map((s,o)=>YP(e,r[o],s.from,s.to));if(i!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,o)=>n[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(i!=1&&n.some(s=>s)){let s=[];for(let o=0,a;o<n.length;o++)if(a=n[o]){let l=r[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function KP(i,e,t=e.selection.ranges){let r=[],n=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,c=Tu(e,s).line;if(c){for(let h=s;h<=o;){let u=e.doc.lineAt(h);if(u.from>n&&(s==o||o>u.from)){n=u.from;let f=/^\s*/.exec(u.text)[0].length,d=f==u.length,p=u.text.slice(f,f+c.length)==c?f:-1;f<u.text.length&&f<l&&(l=f),r.push({line:u,comment:p,token:c,indent:f,empty:d,single:!1})}h=u.to+1}if(l<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=l);r.length==a+1&&(r[a].single=!0)}}if(i!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:u}of r)(u||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(i!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}const Iu=br.define(),ZP=br.define(),JP=ve.define(),ly=ve.define({combine(i){return xa(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,n)=>e(r,n)||t(r,n)})}});function eE(i){let e=0;return i.iterChangedRanges((t,r)=>e=r),e}const cy=yr.define({create(){return Di.empty},update(i,e){let t=e.state.facet(ly),r=e.annotation(Iu);if(r){let l=e.docChanged?ce.single(eE(e.changes)):void 0,c=$t.fromTransaction(e,l),h=r.side,u=h==0?i.undone:i.done;return c?u=tl(u,u.length,t.minDepth,c):u=fy(u,e.startState.selection),new Di(h==0?r.rest:u,h==0?u:r.rest)}let n=e.annotation(ZP);if((n=="full"||n=="before")&&(i=i.isolate()),e.annotation(ot.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let s=$t.fromTransaction(e),o=e.annotation(ot.time),a=e.annotation(ot.userEvent);return s?i=i.addChanges(s,o,a,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(n=="full"||n=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new Di(i.done.map($t.fromJSON),i.undone.map($t.fromJSON))}});function tE(i={}){return[cy,ly.of(i),xe.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?hy:e.inputType=="historyRedo"?Ru:null;return r?(e.preventDefault(),r(t)):!1}})]}function el(i,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let n=t.field(cy,!1);if(!n)return!1;let s=n.pop(i,t,e);return s?(r(s),!0):!1}}const hy=el(0,!1),Ru=el(1,!1),iE=el(0,!0),rE=el(1,!0);class $t{constructor(e,t,r,n,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new $t(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new $t(e.changes&&nt.fromJSON(e.changes),[],e.mapped&&Ei.fromJSON(e.mapped),e.startSelection&&ce.fromJSON(e.startSelection),e.selectionsAfter.map(ce.fromJSON))}static fromTransaction(e,t){let r=Kt;for(let n of e.startState.facet(JP)){let s=n(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new $t(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Kt)}static selection(e){return new $t(void 0,Kt,void 0,void 0,e)}}function tl(i,e,t,r){let n=e+1>t+20?e-t-1:0,s=i.slice(n,e);return s.push(r),s}function nE(i,e){let t=[],r=!1;return i.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],h=t[l++];a>=c&&o<=h&&(r=!0)}}),r}function sE(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function uy(i,e){return i.length?e.length?i.concat(e):i:e}const Kt=[],oE=200;function fy(i,e){if(i.length){let t=i[i.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-oE));return r.length&&r[r.length-1].eq(e)?i:(r.push(e),tl(i,i.length-1,1e9,t.setSelAfter(r)))}else return[$t.selection([e])]}function aE(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Du(i,e){if(!i.length)return i;let t=i.length,r=Kt;for(;t;){let n=lE(i[t-1],e,r);if(n.changes&&!n.changes.empty||n.effects.length){let s=i.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,r=n.selectionsAfter}return r.length?[$t.selection(r)]:Kt}function lE(i,e,t){let r=uy(i.selectionsAfter.length?i.selectionsAfter.map(a=>a.map(e)):Kt,t);if(!i.changes)return $t.selection(r);let n=i.changes.map(e),s=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(s):s;return new $t(n,st.mapEffects(i.effects,e),o,i.startSelection.map(s),r)}const cE=/^(input\.type|delete)($|\.)/;class Di{constructor(e,t,r=0,n=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=n}isolate(){return this.prevTime?new Di(this.done,this.undone):this}addChanges(e,t,r,n,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||cE.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,nE(a.changes,e.changes))||r=="input.type.compose")?o=tl(o,o.length-1,n.minDepth,new $t(e.changes.compose(a.changes),uy(e.effects,a.effects),a.mapped,a.startSelection,Kt)):o=tl(o,o.length,n.minDepth,e),new Di(o,Kt,t,r)}addSelection(e,t,r,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Kt;return s.length>0&&t-this.prevTime<n&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&sE(s[s.length-1],e)?this:new Di(fy(this.done,e),this.undone,t,r)}addMapping(e){return new Di(Du(this.done,e),Du(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1];if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Iu.of({side:e,rest:aE(n)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=n.length==1?Kt:n.slice(0,n.length-1);return s.mapped&&(o=Du(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Iu.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Di.empty=new Di(Kt,Kt);const hE=[{key:"Mod-z",run:hy,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ru,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ru,preventDefault:!0},{key:"Mod-u",run:iE,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:rE,preventDefault:!0}];function qn(i,e){return ce.create(i.ranges.map(e),i.mainIndex)}function Li(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function li({state:i,dispatch:e},t){let r=qn(i.selection,t);return r.eq(i.selection)?!1:(e(Li(i,r)),!0)}function il(i,e){return ce.cursor(e?i.to:i.from)}function dy(i,e){return li(i,t=>t.empty?i.moveByChar(t,e):il(t,e))}function St(i){return i.textDirectionAt(i.state.selection.main.head)==et.LTR}const py=i=>dy(i,!St(i)),gy=i=>dy(i,St(i));function my(i,e){return li(i,t=>t.empty?i.moveByGroup(t,e):il(t,e))}const uE=i=>my(i,!St(i)),fE=i=>my(i,St(i));function dE(i,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function rl(i,e,t){let r=ai(i).resolveInner(e.head),n=t?Se.closedBy:Se.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;dE(i,c,n)?r=c:l=t?c.to:c.from}let s=r.type.prop(n),o,a;return s&&(o=t?Yn(i,r.from,1):Yn(i,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,ce.cursor(a,t?-1:1)}const pE=i=>li(i,e=>rl(i.state,e,!St(i))),gE=i=>li(i,e=>rl(i.state,e,St(i)));function vy(i,e){return li(i,t=>{if(!t.empty)return il(t,e);let r=i.moveVertically(t,e);return r.head!=t.head?r:i.moveToLineBoundary(t,e)})}const yy=i=>vy(i,!1),by=i=>vy(i,!0);function wy(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,r=0,n;if(e){for(let s of i.state.facet(xe.scrollMargins)){let o=s(i);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}n=i.scrollDOM.clientHeight-t-r}else n=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(i.defaultLineHeight,n-5)}}function Sy(i,e){let t=wy(i),{state:r}=i,n=qn(r.selection,o=>o.empty?i.moveVertically(o,e,t.height):il(o,e));if(n.eq(r.selection))return!1;let s;if(t.selfScroll){let o=i.coordsAtPos(r.selection.main.head),a=i.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=xe.scrollIntoView(n.main.head,{y:"start",yMargin:o.top-l}))}return i.dispatch(Li(r,n),{effects:s}),!0}const xy=i=>Sy(i,!1),Lu=i=>Sy(i,!0);function Pr(i,e,t){let r=i.lineBlockAt(e.head),n=i.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?r.to:r.from)&&(n=i.moveToLineBoundary(e,t,!1)),!t&&n.head==r.from&&r.length){let s=/^\s*/.exec(i.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(n=ce.cursor(r.from+s))}return n}const mE=i=>li(i,e=>Pr(i,e,!0)),vE=i=>li(i,e=>Pr(i,e,!1)),yE=i=>li(i,e=>Pr(i,e,!St(i))),bE=i=>li(i,e=>Pr(i,e,St(i))),wE=i=>li(i,e=>ce.cursor(i.lineBlockAt(e.head).from,1)),SE=i=>li(i,e=>ce.cursor(i.lineBlockAt(e.head).to,-1));function xE(i,e,t){let r=!1,n=qn(i.selection,s=>{let o=Yn(i,s.head,-1)||Yn(i,s.head,1)||s.head>0&&Yn(i,s.head-1,1)||s.head<i.doc.length&&Yn(i,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?ce.range(s.anchor,a):ce.cursor(a)});return r?(e(Li(i,n)),!0):!1}const OE=({state:i,dispatch:e})=>xE(i,e,!1);function Zt(i,e){let t=qn(i.state.selection,r=>{let n=e(r);return ce.range(r.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(Li(i.state,t)),!0)}function Oy(i,e){return Zt(i,t=>i.moveByChar(t,e))}const Cy=i=>Oy(i,!St(i)),ky=i=>Oy(i,St(i));function Ay(i,e){return Zt(i,t=>i.moveByGroup(t,e))}const CE=i=>Ay(i,!St(i)),kE=i=>Ay(i,St(i)),AE=i=>Zt(i,e=>rl(i.state,e,!St(i))),_E=i=>Zt(i,e=>rl(i.state,e,St(i)));function _y(i,e){return Zt(i,t=>i.moveVertically(t,e))}const Py=i=>_y(i,!1),Ey=i=>_y(i,!0);function Ty(i,e){return Zt(i,t=>i.moveVertically(t,e,wy(i).height))}const Iy=i=>Ty(i,!1),Ry=i=>Ty(i,!0),PE=i=>Zt(i,e=>Pr(i,e,!0)),EE=i=>Zt(i,e=>Pr(i,e,!1)),TE=i=>Zt(i,e=>Pr(i,e,!St(i))),IE=i=>Zt(i,e=>Pr(i,e,St(i))),RE=i=>Zt(i,e=>ce.cursor(i.lineBlockAt(e.head).from)),DE=i=>Zt(i,e=>ce.cursor(i.lineBlockAt(e.head).to)),Dy=({state:i,dispatch:e})=>(e(Li(i,{anchor:0})),!0),Ly=({state:i,dispatch:e})=>(e(Li(i,{anchor:i.doc.length})),!0),$y=({state:i,dispatch:e})=>(e(Li(i,{anchor:i.selection.main.anchor,head:0})),!0),My=({state:i,dispatch:e})=>(e(Li(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),LE=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),$E=({state:i,dispatch:e})=>{let t=ol(i).map(({from:r,to:n})=>ce.range(r,Math.min(n+1,i.doc.length)));return e(i.update({selection:ce.create(t),userEvent:"select"})),!0},ME=({state:i,dispatch:e})=>{let t=qn(i.selection,r=>{var n;let s=ai(i).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((n=s.parent)===null||n===void 0)&&n.parent));)s=s.parent;return ce.range(s.to,s.from)});return e(Li(i,t)),!0},BE=({state:i,dispatch:e})=>{let t=i.selection,r=null;return t.ranges.length>1?r=ce.create([t.main]):t.main.empty||(r=ce.create([ce.cursor(t.main.head)])),r?(e(Li(i,r)),!0):!1};function nl(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:r}=i,n=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(t="delete.backward",l=sl(i,l,!1)):l>o&&(t="delete.forward",l=sl(i,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=sl(i,o,!1),a=sl(i,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:ce.cursor(o)}});return n.changes.empty?!1:(i.dispatch(r.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?xe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function sl(i,e,t){if(i instanceof xe)for(let r of i.state.facet(xe.atomicRanges).map(n=>n(i)))r.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const By=(i,e)=>nl(i,t=>{let{state:r}=i,n=r.doc.lineAt(t),s,o;if(!e&&t>n.from&&t<n.from+200&&!/[^ \t]/.test(s=n.text.slice(0,t-n.from))){if(s[s.length-1]=="	")return t-1;let a=ka(s,r.tabSize),l=a%qa(r)||qa(r);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)t--;o=t}else o=Wt(n.text,t-n.from,e,e)+n.from,o==t&&n.number!=(e?r.doc.lines:1)&&(o+=e?1:-1);return o}),$u=i=>By(i,!1),Ny=i=>By(i,!0),zy=(i,e)=>nl(i,t=>{let r=t,{state:n}=i,s=n.doc.lineAt(r),o=n.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t&&s.number!=(e?n.doc.lines:1)&&(r+=e?1:-1);break}let l=Wt(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||r!=t)&&(a=h),r=l}return r}),Fy=i=>zy(i,!1),NE=i=>zy(i,!0),Hy=i=>nl(i,e=>{let t=i.lineBlockAt(e).to;return e<t?t:Math.min(i.state.doc.length,e+1)}),zE=i=>nl(i,e=>{let t=i.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),FE=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Re.of(["",""])},range:ce.cursor(r.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},HE=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(r=>{if(!r.empty||r.from==0||r.from==i.doc.length)return{range:r};let n=r.from,s=i.doc.lineAt(n),o=n==s.from?n-1:Wt(s.text,n-s.from,!1)+s.from,a=n==s.to?n+1:Wt(s.text,n-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:i.doc.slice(n,a).append(i.doc.slice(o,n))},range:ce.cursor(a)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ol(i){let e=[],t=-1;for(let r of i.selection.ranges){let n=i.doc.lineAt(r.from),s=i.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=i.doc.lineAt(r.to-1)),t>=n.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:n.from,to:s.to,ranges:[r]});t=s.number+1}return e}function Wy(i,e,t){if(i.readOnly)return!1;let r=[],n=[];for(let s of ol(i)){if(t?s.to==i.doc.length:s.from==0)continue;let o=i.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+i.lineBreak});for(let l of s.ranges)n.push(ce.range(Math.min(i.doc.length,l.anchor+a),Math.min(i.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:i.lineBreak+o.text});for(let l of s.ranges)n.push(ce.range(l.anchor-a,l.head-a))}}return r.length?(e(i.update({changes:r,scrollIntoView:!0,selection:ce.create(n,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const WE=({state:i,dispatch:e})=>Wy(i,e,!1),jE=({state:i,dispatch:e})=>Wy(i,e,!0);function jy(i,e,t){if(i.readOnly)return!1;let r=[];for(let n of ol(i))t?r.push({from:n.from,insert:i.doc.slice(n.from,n.to)+i.lineBreak}):r.push({from:n.to,insert:i.lineBreak+i.doc.slice(n.from,n.to)});return e(i.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const VE=({state:i,dispatch:e})=>jy(i,e,!1),UE=({state:i,dispatch:e})=>jy(i,e,!0),XE=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(ol(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),r=qn(e.selection,n=>i.moveVertically(n,!0)).map(t);return i.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function GE(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ai(i).resolveInner(e),r=t.childBefore(e),n=t.childAfter(e),s;return r&&n&&r.to<=e&&n.from>=e&&(s=r.type.prop(Se.closedBy))&&s.indexOf(n.name)>-1&&i.doc.lineAt(r.to).from==i.doc.lineAt(n.from).from?{from:r.to,to:n.from}:null}const QE=Vy(!1),YE=Vy(!0);function Vy(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(n=>{let{from:s,to:o}=n,a=e.doc.lineAt(s),l=!i&&s==o&&GE(e,s);i&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Za(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=Vv(c,s);for(h==null&&(h=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let u=["",Ka(e,h)];return l&&u.push(Ka(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Re.of(u)},range:ce.cursor(s+1+u[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Mu(i,e){let t=-1;return i.changeByRange(r=>{let n=[];for(let o=r.from;o<=r.to;){let a=i.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,n,r),t=a.number),o=a.to+1}let s=i.changes(n);return{changes:n,range:ce.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const qE=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),r=new Za(i,{overrideIndentation:s=>{let o=t[s];return o??-1}}),n=Mu(i,(s,o,a)=>{let l=Vv(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=Ka(i,l);(c!=h||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return n.changes.empty||e(i.update(n,{userEvent:"indent"})),!0},KE=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(Mu(i,(t,r)=>{r.push({from:t.from,insert:i.facet(yu)})}),{userEvent:"input.indent"})),!0),ZE=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(Mu(i,(t,r)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=ka(n,i.tabSize),o=0,a=Ka(i,Math.max(0,s-qa(i)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),JE=[{key:"Ctrl-b",run:py,shift:Cy,preventDefault:!0},{key:"Ctrl-f",run:gy,shift:ky},{key:"Ctrl-p",run:yy,shift:Py},{key:"Ctrl-n",run:by,shift:Ey},{key:"Ctrl-a",run:wE,shift:RE},{key:"Ctrl-e",run:SE,shift:DE},{key:"Ctrl-d",run:Ny},{key:"Ctrl-h",run:$u},{key:"Ctrl-k",run:Hy},{key:"Ctrl-Alt-h",run:Fy},{key:"Ctrl-o",run:FE},{key:"Ctrl-t",run:HE},{key:"Ctrl-v",run:Lu}],eT=[{key:"ArrowLeft",run:py,shift:Cy,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:uE,shift:CE,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:yE,shift:TE,preventDefault:!0},{key:"ArrowRight",run:gy,shift:ky,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:fE,shift:kE,preventDefault:!0},{mac:"Cmd-ArrowRight",run:bE,shift:IE,preventDefault:!0},{key:"ArrowUp",run:yy,shift:Py,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Dy,shift:$y},{mac:"Ctrl-ArrowUp",run:xy,shift:Iy},{key:"ArrowDown",run:by,shift:Ey,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ly,shift:My},{mac:"Ctrl-ArrowDown",run:Lu,shift:Ry},{key:"PageUp",run:xy,shift:Iy},{key:"PageDown",run:Lu,shift:Ry},{key:"Home",run:vE,shift:EE,preventDefault:!0},{key:"Mod-Home",run:Dy,shift:$y},{key:"End",run:mE,shift:PE,preventDefault:!0},{key:"Mod-End",run:Ly,shift:My},{key:"Enter",run:QE},{key:"Mod-a",run:LE},{key:"Backspace",run:$u,shift:$u},{key:"Delete",run:Ny},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Fy},{key:"Mod-Delete",mac:"Alt-Delete",run:NE},{mac:"Mod-Backspace",run:zE},{mac:"Mod-Delete",run:Hy}].concat(JE.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),tT=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:pE,shift:AE},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:gE,shift:_E},{key:"Alt-ArrowUp",run:WE},{key:"Shift-Alt-ArrowUp",run:VE},{key:"Alt-ArrowDown",run:jE},{key:"Shift-Alt-ArrowDown",run:UE},{key:"Escape",run:BE},{key:"Mod-Enter",run:YE},{key:"Alt-l",mac:"Ctrl-l",run:$E},{key:"Mod-i",run:ME,preventDefault:!0},{key:"Mod-[",run:ZE},{key:"Mod-]",run:KE},{key:"Mod-Alt-\\",run:qE},{key:"Shift-Mod-k",run:XE},{key:"Shift-Mod-\\",run:OE},{key:"Mod-/",run:UP},{key:"Alt-A",run:GP}].concat(eT),iT=(()=>[H_(),tE(),R_(),Qv(yP,{fallback:!0}),Cv.of([...tT,...hE])])();class rT{constructor(){A(this,"element",$(`
<div id='cssContainer' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>CSS</span>
    <div class='copy-to-clipboard-container'></div>
  </div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div id='cssDiv'class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"cssDiv",this.element.find("#cssDiv")[0]);A(this,"copyToClipboardContainer",this.element.find(".copy-to-clipboard-container"));A(this,"codeMirrorCss");A(this,"cssRules","");A(this,"copyToClipboard");this.copyToClipboard=new eg}mount(e){try{this.initCssHighlight()}catch{}this.copyToClipboard.mount(this.copyToClipboardContainer),this.element.appendTo(e)}set(e){const t=nT(e.style),r=lT(t),n=`#${md(e.name)||"element"}`;this.setCss(n,r)}setCss(e,t){this.cssRules=`${e} {
${oT(t)}
}`,this.codeMirrorCss&&this.codeMirrorCss.dispatch({changes:{from:0,to:this.codeMirrorCss.state.doc.length,insert:this.cssRules}}),this.copyToClipboard.setText(this.cssRules)}async initCssHighlight(){this.codeMirrorCss=new xe({parent:this.cssDiv,extensions:[iT,J_(),xe.lineWrapping,De.readOnly.of(!0),DP(),VP,xe.theme({".cm-focused":{outline:"none"}})]}),this.element.find(".cm-editor").css("height","auto")}}function nT(i){const e={};if(e.width=i.width!==void 0?`${Ve(i.width)}px`:void 0,e.height=i.height!==void 0?`${Ve(i.height)}px`:void 0,e.transform=i.rotation!==void 0?`rotate(${i.rotation}deg)`:void 0,e.opacity=i.opacity!==void 0?`${i.opacity}`:void 0,e.padding=i.padding!==void 0?QC(i.padding):void 0,e.borderRadius=i.borderRadius!==void 0?`${i.borderRadius}px`:void 0,Object.assign(e,sT(i)),i.fill!==void 0&&i.fill[0]!==void 0){const t=HC(i.fill[0]);t&&(e.backgroundColor=t.backgroundColor!==void 0?t.backgroundColor:void 0,e.backgroundImage=t.backgroundImage!==void 0?t.backgroundImage:void 0)}return i.backgroundImage&&(e.backgroundImage=i.backgroundImage),e.boxSizing=i.borderAlignment!==void 0?FC(i.borderAlignment):void 0,e.boxShadow=i.boxShadow!==void 0?Jp(i.boxShadow):void 0,e.fontFamily=i.fontName,e.fontStyle=i.fontStyle!==void 0?BC(i.fontStyle):void 0,e.fontWeight=i.fontWeight!==void 0?`${i.fontWeight}`:void 0,e.textDecoration=i.underline!==void 0?NC(i.underline):void 0,e.color=i.textColor!==void 0?pr(i.textColor):void 0,e.textAlign=i.horizontalAlignment!==void 0?Zp(i.horizontalAlignment):void 0,e.lineHeight=i.lineSpacing!==void 0?XC(i.lineSpacing):null,e.textShadow=i.textShadow!==void 0?Jp(i.textShadow):void 0,e.letterSpacing=i.letterSpacing!==void 0?GC(i.letterSpacing):void 0,e}function sT(i){const e={};if(i.borderWidth){const t=i.borderVisibility??"all",r=UC(i);switch(t){case"left":e.borderLeft=r;break;case"top":e.borderTop=r;break;case"right":e.borderRight=r;break;case"bottom":e.borderBottom=r;break;case"topLeft":e.borderTop=r,e.borderLeft=r;break;case"topRight":e.borderTop=r,e.borderRight=r;break;case"bottomLeft":e.borderBottom=r,e.borderLeft=r;break;case"bottomRight":e.borderBottom=r,e.borderRight=r;break;case"leftRight":case"fillHorizontal":e.borderLeft=r,e.borderRight=r;break;case"topBottom":case"fillVertical":e.borderTop=r,e.borderBottom=r;break;case"noLeft":case"rightFill":e.border=r,e.borderLeft="none";break;case"noTop":case"bottomFill":e.border=r,e.borderTop="none";break;case"noRight":case"leftFill":e.border=r,e.borderRight="none";break;case"noBottom":case"topFill":e.border=r,e.borderBottom="none";break;case"none":break;case"all":default:e.border=r;break}}return e}function oT(i){const e=[];for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const r=i[t];if(r==null||r===void 0)continue;e.push(`  ${xS(t)}: ${r};`)}return e.join(`
`)}const aT={fontWeight:["400","normal"],fontStyle:"normal",opacity:"1",borderRadius:["0","0px"],textShadow:"none",transform:["rotate(0)","rotate(0deg)"],textDecoration:"none",letterSpacing:["0","0px","normal"]};function lT(i){const e=Object.entries(i).filter(([t,r])=>{if(r==null||r==="")return!0;const s=aT[t];return s?!(typeof s=="string"?s===r:s.some(a=>a===r)):!0});return $S(e)}class cT{constructor(){A(this,"idX","handoffDimensionsX");A(this,"idY","handoffDimensionsY");A(this,"idWidth","handoffDimensionsWidth");A(this,"idHeight","handoffDimensionsHeight");A(this,"idRotation","handoffDimensionsRotation");A(this,"idRadius","handoffDimensionsRadius");A(this,"idPaddingRow","handoffDimensionsPaddingRow");A(this,"idPaddingValue","handoffDimensionsPadding");A(this,"idOpacity","handoffDimensionsOpacity");A(this,"element",$(`
<div id='handoffDimensionsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Size and Position</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        X: <span id='${this.idX}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Y: <span id='${this.idY}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Width: <span id='${this.idWidth}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Height: <span id='${this.idHeight}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Rotation: <span id='${this.idRotation}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Radius: <span id='${this.idRadius}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div id='${this.idPaddingRow}' class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Padding: <span id='${this.idPaddingValue}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Opacity: <span id='${this.idOpacity}' class='handoffLayerValue'></span>
      </div>
    </div>
  </div>
</div>
`));A(this,"x",this.element.find(`#${this.idX}`));A(this,"y",this.element.find(`#${this.idY}`));A(this,"width",this.element.find(`#${this.idWidth}`));A(this,"height",this.element.find(`#${this.idHeight}`));A(this,"rotation",this.element.find(`#${this.idRotation}`));A(this,"radius",this.element.find(`#${this.idRadius}`));A(this,"paddingRow",this.element.find(`#${this.idPaddingRow}`));A(this,"paddingValue",this.element.find(`#${this.idPaddingValue}`));A(this,"opacity",this.element.find(`#${this.idOpacity}`))}mount(e){this.element.appendTo(e)}set(e){this.setDimensions(e.rect),this.setPadding(e.style),this.rotation.text(e.style.rotation?this.roundRotation(e.style.rotation):0),this.radius.text(e.style.borderRadius?e.style.borderRadius:0),this.opacity.text(`${Number(e.style.opacity?e.style.opacity:1)*100}%`)}roundRotation(e){return typeof e=="number"?Ve(e):e}setDimensions(e){const{location:{x:t,y:r},size:{width:n,height:s}}=e;this.x.text(`${t}px`),this.y.text(`${r}px`),this.width.text(`${n}px`),this.height.text(`${s}px`)}setPadding({padding:e}){const t=!!e;e&&this.paddingValue.text(`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`),this.paddingRow.toggle(t)}}class hT{constructor(){A(this,"element",$(`
<div id='handoffLayerFillsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Fill Color</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div id='handoffFillsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"container",this.element.find("#handoffFillsListContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setFills(e.fills);const t=e.fills.length>0;this.element.toggle(t)}setFills(e){this.container.empty(),new Zo(e).mount(this.container)}}class uT{constructor(e,t){A(this,"element",$("<div id='handoffShadowssList'>"));this.setShadows(e),t&&this.mount(t)}setShadows(e){for(const t of e)this.addShadow(t)}addShadow(e){if(!e.on)return;const t=this.newShadow();e.inner||t.find(".handoffShadowInner").toggle(!1),t.find("#shadowValueX").text(`${e.offsetX}px`),t.find("#shadowValueY").text(`${e.offsetY}px`),t.find("#shadowValueBlur").text(`${e.blurRadius}px`),t.find("#shadowValueSpread").text(`${e.spreadRadius}px`);const r=pr(e.color);t.find(".handoffFillSample").css("background-color",r),e.color.r===1&&e.color.g===1&&e.color.b===1?t.find(".handoffFillSample").css("border","1px solid #979797"):t.find(".handoffFillSample").css("border","1px solid transparent"),t.find(".handoffFillSampleValue").text(r),t.appendTo(this.element)}mount(e){this.element.appendTo(e)}newShadow(){return $(`
<div class='handoffShadow'>
  <div class='handoffShadowInner handoffLayerValue'>Inner</div>
  <div class='handoffLayerViewRow handoffShadowRow'>
    <div class='handoffLayerViewCell'>
      X: <span id='shadowValueX' class='handoffLayerValue'></span>
    </div>
    <div class='handoffLayerViewCell'>
      Y: <span id='shadowValueY' class='handoffLayerValue'></span>
    </div>
  </div>
  <div class='handoffLayerViewRow handoffShadowRow'>
    <div class='handoffLayerViewCell'>
      Blur: <span id='shadowValueBlur' class='handoffLayerValue'></span>
    </div>
    <div class='handoffLayerViewCell'>
      Spread: <span id='shadowValueSpread' class='handoffLayerValue'></span>
    </div>
  </div>
  <div class='handoffFillSample'></div> <span class='handoffFillSampleValue handoffLayerValue'></span>
</div>`)}}class fT{constructor(){A(this,"element",$(`
<div id='handoffLayerShadowsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Shadows</div>
  <div class='handoffLayerSectionBody'>
      <div id='handoffShadowsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
</div>
  `));A(this,"container",this.element.find("#handoffShadowsListContainer"))}mount(e){this.element.appendTo(e)}set(e){const t=this.getShadows(e.style);this.setShadows(t);const r=t.length>0;this.element.toggle(r)}setShadows(e){if(this.container.empty(),!e||e.length===0)return;new uT(e).mount(this.container)}getShadows(e){let t=[];return e.boxShadow&&this.hasActiveShadows(e.boxShadow)?t=e.boxShadow:e.textShadow&&this.hasActiveShadows(e.textShadow)&&(t=e.textShadow),t}hasActiveShadows(e){return!!e&&e.length>0&&e.find(t=>t.on)!==void 0}}class dT{constructor(){A(this,"element",$(`
<div id='handoffLayerHtmlSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>HTML</div>
  <div class='handoffLayerSectionBody handoffLayerSectionContentBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        <span id='handoffHtmlContent' class='handoffLayerValue'></span>
      </div>
    </div>
  </div>
</div>
  `));A(this,"html",this.element.find("#handoffHtmlContent"))}mount(e){this.element.appendTo(e)}set(e){this.setHtml("")}setHtml(e){const t=!!e;this.html.text(e),this.element.toggle(t)}}class pT{constructor(){A(this,"element",$(`
<div id='handoffLayerNameSection'>
  <div id='handoffLayerName'></div>
</div>`));A(this,"name",this.element.find("#handoffLayerName"))}mount(e){this.element.appendTo(e)}set(e){this.setName(e.name)}setName(e){this.name.text(e)}}class gT{constructor(){A(this,"element",$(`
<div id='handoffLayerTypefaceSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Typography</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Typeface: <span id='handoffFontName' class='handoffLayerValue'></span>
      </div>
    </div>
    <div id='handoffFontProperties'>
      <div class='handoffLayerViewRow'>
        <div class='handoffLayerViewCell'>
          Size: <span id='handoffFontSize' class='handoffLayerValue'></span>
        </div>
        <div class='handoffLayerViewCell'>
          Align: <span id='handoffFontAlignment' class='handoffLayerValue'></span>
        </div>
      </div>
      <div class='handoffLayerViewRow'>
        <div id='handoffTextColorContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"fontName",this.element.find("#handoffFontName"));A(this,"fontSize",this.element.find("#handoffFontSize"));A(this,"fontAlignment",this.element.find("#handoffFontAlignment"));A(this,"colorContainer",this.element.find("#handoffTextColorContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setTypeface(e.style)}setTypeface({fontName:e,fontSize:t,horizontalAlignment:r,textColor:n,typeface:s}){const o=s||e,a=!!(o||t||r||n);if(a){if(o!==void 0&&this.fontName.text(o.replaceAll(/'| - regular| - normal/gi,"")),t!==void 0){let l=t;typeof t=="number"&&(l=`${t}px`),this.fontSize.text(l)}if(r!==void 0&&this.fontAlignment.text(Zp(r)),n!==void 0){this.colorContainer.empty();const c=[{type:Ht.Solid,color:n}];new Zo(c).mount(this.colorContainer)}}this.element.toggle(a)}}class mT{constructor(e){A(this,"layerView",$(`
<div id='handoffLayerView' style='display: none'>
  `));A(this,"sections",{layerName:new pT,dimensions:new cT,assets:new qC,content:new ZC,typeface:new gT,fills:new hT,borders:new KC,shadows:new fT,html:new dT,css:new rT});for(const t of Object.values(this.sections))t.mount(this.layerView);e&&this.mount(e)}mount(e){this.layerView.appendTo(e)}show(){this.layerView.show()}hide(){this.layerView.hide()}set(e){for(const t of Object.values(this.sections))t.set(e)}}class vT{constructor(e){A(this,"lastUpdatedContainer",$('<div class="handoffLayerViewRow">'));A(this,"lastUpdatedDate",$("<span id='handoffProjectLastUpdatedDate' class='handoffLayerValue'></span>"));A(this,"lastUpdated",$("<div> Last updated: </div>"));A(this,"lastUpdatedContainerCell",$('<div class="handoffLayerViewCell">'));e&&this.mount(e)}mount(e){return this.lastUpdatedContainer.append(this.lastUpdatedContainerCell.append(this.lastUpdated.append(this.lastUpdatedDate))).appendTo(e)}show(){this.lastUpdatedContainer.show()}hide(){this.lastUpdatedContainer.hide()}setLastUpdated(e){this.lastUpdatedDate.text(yT(new Date().getTime(),e.getTime()))}}function yT(i,e){const a=i-e;let l=0;return a<6e4?(l=Math.round(a/1e3),l===1?"1 second ago":`${l} seconds ago`):a<36e5?(l=Math.round(a/6e4),l===1?"1 minute ago":`${l} minutes ago`):a<864e5?(l=Math.round(a/36e5),l===1?"1 hour ago":`${l} hours ago`):a<2592e6?(l=Math.round(a/864e5),l===1?"Yesterday":l===7?"about 1 week ago":`about ${l} days ago`):a<31536e6?(l=Math.round(a/2592e6),`about ${l===1?"1 month ago":`${l} months ago`}`):(l=Math.round(a/31536e6),`about ${l===1?"1 year ago":`${l} years ago`}`)}function bT(){return $(`
  <h1 class="handoff-inspect-header">Inspect</h1>
  <div class='handoff-call-to-action'>
    <p><span class='handoff-caret handoff-caret-left'></span>&nbsp;Click on a layer in your prototype to view dimensions & colors, download assets and copy CSS.</p>
  </div>
`)}class wT{constructor(e,t){A(this,"projectInfo",$(`
<div id='handoffProjectInfo' class='handoffLayerSection'>
<div id='handoffProjectName' class='handoffSectionName handoffLayerValue'></div>
  `));A(this,"projectName",this.projectInfo.find("#handoffProjectName"));A(this,"lastUpdated");this.lastUpdated=new vT,this.projectInfo.append(bT()),t&&this.mount(t)}mount(e){return this.projectInfo.appendTo(e)}set(e){e.lastModified?(this.lastUpdated.show(),this.lastUpdated.setLastUpdated(e.lastModified)):this.lastUpdated.hide()}show(){this.projectInfo.show()}hide(){this.projectInfo.hide()}}class ST{constructor(e,t,r){A(this,"element",$(`
<div id="handoffScrollContainer">
  <div id="handoffContainer">
    <div id='handoffModeLinkContainer' class='handoffLinksContainer'>
      ${M1()}
    </div>
  </div>
</div>
`));A(this,"icons",{eye:'<svg viewBox="0 0 18 12"><path d="M18 5.89l-.27-.359C17.57 5.322 13.8.401 9 .401 4.2.4.429 5.321.27 5.53L0 5.89l.269.359C.427 6.46 4.198 11.43 9 11.43s8.573-4.97 8.731-5.182L18 5.889zm-1.516.003c-.93 1.1-3.97 4.344-7.484 4.344-3.506 0-6.553-3.246-7.484-4.345.93-1.09 3.97-4.299 7.484-4.299 3.506 0 6.55 3.21 7.484 4.3zm-4.253.022c0-1.782-1.449-3.23-3.231-3.23a3.234 3.234 0 0 0-3.231 3.23A3.234 3.234 0 0 0 9 9.146a3.234 3.234 0 0 0 3.231-3.231zm-1.193 0A2.04 2.04 0 0 1 9 7.953a2.04 2.04 0 0 1-2.038-2.038A2.04 2.04 0 0 1 9 3.877a2.04 2.04 0 0 1 2.038 2.038z"/></svg>',compass:'<svg viewBox="0 0 18 15"><path d="M17.209 14.504l.62-.417-3.237-5.498a11.076 11.076 0 0 0 2.196-1.672l.277-.271-2.169-1.99-.258.254a8.028 8.028 0 0 1-1.521 1.172L9.95.706 9 1.248 8.05.706l-3.18 5.4A8.031 8.031 0 0 1 3.31 4.91l-.258-.254-2.168 1.99.277.27A11.08 11.08 0 0 0 3.395 8.61L.17 14.087l.621.418 4.23-5.13c1.245.467 2.58.714 3.954.714 1.387 0 2.736-.252 3.992-.73l4.242 5.145zM5.538 6.454L8.326 1.72 9 2.105l.674-.385 2.777 4.714a8.057 8.057 0 0 1-.688.287L9 3.37 6.225 6.735a8 8 0 0 1-.687-.281zM9 4.55l1.987 2.411a8.22 8.22 0 0 1-3.984.012L9 4.549zM4.296 9.077l-1.057 1.28.821-1.394c.079.037.156.077.236.114zM1.977 6.659l1.064-.976a8.798 8.798 0 0 0 5.934 2.27 8.801 8.801 0 0 0 5.935-2.27l1.064.976a10.335 10.335 0 0 1-6.999 2.69 10.34 10.34 0 0 1-6.998-2.69zm12.782 3.697L13.69 9.06c.08-.036.158-.077.237-.117l.832 1.414z"/></svg>'});A(this,"container",this.element.find("#handoffContainer"));A(this,"layerView");A(this,"projectInfo");A(this,"artboardColors");A(this,"artboardAssets");this.state=e,this.viewer=t,this.projectInfo=new wT(e),this.artboardColors=new YC(e),this.artboardAssets=new IC(e),this.layerView=new mT,this.projectInfo.mount(this.container),this.artboardColors.mount(this.container),this.artboardAssets.mount(this.container),this.layerView.mount(this.container),r&&this.mount(r)}mount(e){return this.subscribeToState(),this.addControlHeaderButtons(),this.isPluginVisible()?$("#handoffInspectBtn").click():this.toggleHeaderButton($("#handoffPreviewBtn")),this.element.appendTo(e)}inspectorShow(){window.$axure.player.showPlugin(al.gid)}inspectorHide(){window.$axure.player.pluginClose(al.id)}inspectorEnable(){$("#handoffHostBtn").show(),this.isPluginVisible()||this.inspectorShow()}inspectorDisable(){$("#handoffHostBtn").hide(),this.inspectorHide()}isPluginVisible(){return $("#handoffHostBtn a").hasClass("selected")}openLayerView(){this.hideAll(),this.layerView.show()}closeLayerView(){this.hideAll(),this.projectInfo.show()}subscribeToState(){this.state.subscribe({[J.ProjectLoaded]:e=>this.projectInfo.set(e),[J.InspectorShow]:()=>this.inspectorShow(),[J.InspectorHide]:()=>this.inspectorHide(),[J.InspectorEnabled]:()=>this.inspectorEnable(),[J.InspectorDisabled]:()=>this.inspectorDisable(),[J.ArtboardColorsSet]:e=>this.artboardColors.set(e),[J.ArtboardAssetsSet]:e=>this.artboardAssets.set(e),[J.ShowAllAssets]:()=>this.showAllAssets(),[J.ShowAllColors]:()=>this.showAllColors(),[J.OpenLayerView]:()=>this.openLayerView(),[J.CloseLayerView]:()=>this.closeLayerView(),[J.InspectSet]:e=>this.setInspect(e)})}hideAll(){this.projectInfo.hide(),this.artboardColors.hide(),this.layerView.hide(),this.artboardAssets.hide()}showAllColors(){this.hideAll(),this.artboardColors.show()}showAllAssets(){this.hideAll(),this.artboardAssets.show()}setInspect(e){this.openLayerView();const t=DC(e);this.layerView.set(t)}toggleHeaderButton(e){$(".handoffHeaderBtn").removeClass("selected"),e.addClass("selected"),e.parent().addClass("selected")}addControlHeaderButtons(){const e=[{name:"Preview",icon:"eye",handler:t=>{this.state.InspectorEnabled&&(this.toggleHeaderButton(t),this.state.inspectorDisable())}},{name:"Inspect",icon:"compass",handler:t=>{this.state.InspectorEnabled||(this.toggleHeaderButton(t),this.state.inspectorEnable(),this.viewer.show())}}];for(const t of e)this.addControlHeaderButton(t)}addControlHeaderButton(e){const t=$(`<li id="handoff${e.name}HeaderItem"></li>`),r=$(`<button id="handoff${e.name}Btn" class="handoffHeaderBtn">
      <div id="handoff${e.name}Icon" class='handoffHeaderIcon'>${this.icons[e.icon]}</div>
      <span>${e.name}</span>
    </button>`);r.on("click",()=>{e.handler(r)}),t.append(r),$("#handoffControlFrameHeader").append(t)}}const al={id:yc.handoff.id,context:"inspect",title:"Inspect",gid:yc.handoff.gid};class xT{inspect(e){}getAllColors(){return[]}getAllAssets(){return{all:[],byLayer:[]}}setScale(e,t,r){}}const OT=new xT;class Uy{constructor(e){A(this,"state");A(this,"inspectPresenter");A(this,"viewInspector");A(this,"viewer");A(this,"currentInspect",{click:void 0,hover:void 0});this.viewInspector=e.inspector,this.viewer=e.viewer,this.state=e.state,e.$axure.player.createPluginHost(al),this.inspectPresenter=new ST(e.state,e.viewer,$(`#${al.id}`)),this.state.subscribe({[J.PageWillChange]:()=>this.pageSelected(),[J.InspectGet]:t=>this.inspect(t),[J.InspectHoverGet]:t=>this.inspectHover(t)}),this.loadResources()}get CurrentInspect(){return this.currentInspect}setScale(e,t,r){this.unwrapInspector().setScale(e,t,r),this.viewer.setScale(e,t,r)}inspect(e){this.currentInspect.click=e;const t=this.unwrapInspector().inspect(e);t?(this.state.trigger(J.InspectSet,t),this.openLayerView()):(this.inspectClear(),this.closeLayerView())}inspectHover(e){this.currentInspect.hover=e;const t=this.unwrapInspector().inspect(e);t?this.state.trigger(J.InspectSetHover,t):this.state.trigger(J.InspectClearHover)}inspectClear(){this.state.trigger(J.InspectClear),this.inspectClearHover()}inspectClearHover(){this.state.trigger(J.InspectClearHover)}openLayerView(){this.inspectPresenter.openLayerView()}closeLayerView(){this.inspectPresenter.closeLayerView()}show(){this.viewer.show()}hide(){this.viewer.hide()}pageSelected(){this.inspectClear(),this.closeLayerView()}unwrapInspector(){return(typeof this.viewInspector=="function"?this.viewInspector():this.viewInspector)||OT}loadResources(){const t=["https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400&display=swap"],r=this.viewer.getContainer();t.map(n=>Ho(n,r))}}var Mt=(i=>(i.Page="Axure:Page",i.Layer="layer",i.ImageBox="imageBox",i.DynamicPanel="dynamicPanel",i.HotSpot="imageMapRegion",i.InlineFrame="inlineFrame",i.Snapshot="screenshot",i.DropList="comboBox",i.ListBox="listBox",i.TextBox="textBox",i.TextArea="textArea",i))(Mt||{});function Xy(i){return i.fillType==="solid"}function CT(i){return i.fillType==="linearGradient"}function kT(i){return i.fillType==="radialGradient"}function Gy(i){return i.style!==void 0}function AT(i){return i.type===Mt.Layer}class ze{static checkStylePropAvailability(e,t){if(!e||!t)return!0;const r=this.widgetAvailabilityMap.get(e);return r?r.whiteList&&r.whiteList.length>0?r.whiteList.indexOf(t)>=0:r.blackList&&r.blackList.length>0?r.blackList.indexOf(t)<0:!0:!0}}A(ze,"widgetAvailabilityMap",new Map([[Mt.DynamicPanel,{blackList:["fontName","fontSize","fontStyle","fontWeight","horizontalAlignment","lineSpacing","textColor","textShadow","underline","text"]}],[Mt.Layer,{whiteList:["width","height","rotation","opacity","fill"]}],[Mt.HotSpot,{whiteList:["width","height","rotation"]}],[Mt.InlineFrame,{whiteList:["width","height","rotation"]}],[Mt.Snapshot,{whiteList:["width","height","rotation","opacity","borderRadius","borderWidth","borderAlignment","borderFill","borderStyle"]}],[Mt.DropList,{blackList:["horizontalAlignment","lineSpacing"]}],[Mt.ListBox,{blackList:["horizontalAlignment","lineSpacing"]}],[Mt.TextBox,{blackList:["lineSpacing"]}],[Mt.TextArea,{blackList:["lineSpacing"]}],[Mt.ImageBox,{blackList:["fill","padding"]}]]));const _T=/((.+)~)?(\w+)~(.+)?/;let PT=class{constructor(e){this.window=e}get $axureplayer(){return window.$axure}convert(e,t){if(t){const r=Gy(e)?this.convertStyle(e):{},n=this.getShapeName(e);return{id:e.id,name:n,rect:this.convertRect(e),assets:this.convertAssets(e),fills:r.fill?r.fill:[],style:r}}return{id:e.id,name:e.id,rect:this.convertRect(e),assets:[],fills:[],style:{}}}getShapeName(e){if(!Gy(e))return e.id;const{style:t}=e,r=this.getWidgetById(e.id);return r&&r.label?r.label:t.text?t.text.substring(0,20):r.friendlyType||e.id}getWidgetById(e){return this.objQuery(e)}convertRect({rect:e}){return{location:{x:e.x,y:e.y},size:{height:e.height,width:e.width}}}convertFills(e,t){const r=[];if(Xy(t)&&r.push(Yy(t)),CT(t)&&r.push(IT(t,e.style.location,e.style.size)),kT(t)){const n=RT(t,e.style.location,e.style.size);n&&r.push(n)}return r}convertStyle(e){const t=this.getWidgetById(e.id),r=t?t.type:void 0;return{...this.dimensions(e,r),...this.text(e,r),...this.borders(e,r),...this.fills(e,r),...this.opacity(e,r),...this.padding(e,r),...this.backgroundImage(e,r),...this.boxShadow(e,r)}}backgroundImage(e,t){const r=e.style;if(t){const n={};return ze.checkStylePropAvailability(t,"backgroundImage")&&(n.backgroundImage=r.image?r.image:void 0),n}return{backgroundImage:r.image?r.image:void 0}}opacity(e,t){const r=e.style;if(t){const n={};return ze.checkStylePropAvailability(t,"opacity")&&(n.opacity=r.opacity),n}return{opacity:r.opacity}}padding(e,t){const{paddingTop:r,paddingRight:n,paddingBottom:s,paddingLeft:o}=e.style;if(r==="0"&&n==="0"&&s==="0"&&o==="0")return{};if(t){const a={};return ze.checkStylePropAvailability(t,"padding")&&(a.padding={top:r,right:n,bottom:s,left:o}),a}return{padding:{top:r,right:n,bottom:s,left:o}}}fills(e,t){const r=e.style;if(t){const n={};return ze.checkStylePropAvailability(t,"fill")&&(n.fill=this.convertFills(e,r.fill)),n}return{fill:this.convertFills(e,r.fill)}}borders(e,t){const r=e.style;if(t){const n={};return ze.checkStylePropAvailability(t,"borderRadius")&&(n.borderRadius=r.cornerRadius),ze.checkStylePropAvailability(t,"borderWidth")&&(n.borderWidth=r.borderWidth),ze.checkStylePropAvailability(t,"borderAlignment")&&(n.borderAlignment=ri.Inside),ze.checkStylePropAvailability(t,"borderFill")&&(n.borderFill=this.convertFills(e,r.borderFill)),ze.checkStylePropAvailability(t,"borderStyle")&&(n.borderStyle=r.linePattern),ze.checkStylePropAvailability(t,"borderVisibility")&&(n.borderVisibility=r.borderVisibility),n}return{borderRadius:r.cornerRadius,borderWidth:r.borderWidth,borderAlignment:ri.Inside,borderFill:this.convertFills(e,r.borderFill),borderStyle:r.linePattern,borderVisibility:r.borderVisibility}}boxShadow(e,t){const r=e.style.outerShadow,n=e.style.innerShadow,s={};return s.boxShadow=[],t&&!ze.checkStylePropAvailability(t,"boxShadow")||(r&&s.boxShadow.push({on:r.on,offsetX:r.offsetX,offsetY:r.offsetY,blurRadius:r.blurRadius,spreadRadius:r.spread||0,color:r.color,inner:!1}),n&&s.boxShadow.push({on:n.on,offsetX:n.offsetX,offsetY:n.offsetY,blurRadius:n.blurRadius,spreadRadius:r.spread||0,color:n.color,inner:!0})),s}dimensions(e,t){if(t){const r={};return ze.checkStylePropAvailability(t,"width")&&(r.width=e.rect.width),ze.checkStylePropAvailability(t,"height")&&(r.height=e.rect.height),ze.checkStylePropAvailability(t,"rotation")&&(r.rotation=`${e.style.rotation}`),r}return{width:e.rect.width,height:e.rect.height,rotation:`${e.style.rotation}`}}text(e,t){let r={};const n=e.style;if(!n.text&&t!==Mt.TextBox&&t!==Mt.TextArea)return r;if(t)ze.checkStylePropAvailability(t,"letterSpacing")&&(r.letterSpacing=n.characterSpacing),ze.checkStylePropAvailability(t,"fontName")&&(r.fontName=n.fontName),ze.checkStylePropAvailability(t,"fontSize")&&(r.fontSize=n.fontSize),ze.checkStylePropAvailability(t,"fontStyle")&&(r.fontStyle=Zy(n.fontStyle)),ze.checkStylePropAvailability(t,"fontWeight")&&(r.fontWeight=n.fontWeight),ze.checkStylePropAvailability(t,"horizontalAlignment")&&(r.horizontalAlignment=Ky(n.horizontalAlignment)),ze.checkStylePropAvailability(t,"lineSpacing")&&(r.lineSpacing=n.lineSpacing),ze.checkStylePropAvailability(t,"textColor")&&(r.textColor=Qy(n.foreGroundFill)),ze.checkStylePropAvailability(t,"textShadow")&&(r.textShadow=[{on:n.textShadow.on,offsetX:n.textShadow.offsetX,offsetY:n.textShadow.offsetY,blurRadius:n.textShadow.blurRadius,spreadRadius:0,color:n.textShadow.color,inner:!1}]),ze.checkStylePropAvailability(t,"underline")&&(r.underline=n.underline),ze.checkStylePropAvailability(t,"text")&&(r.text=n.text);else{const s={on:n.textShadow.on,offsetX:n.textShadow.offsetX,offsetY:n.textShadow.offsetY,blurRadius:n.textShadow.blurRadius,spreadRadius:0,color:n.textShadow.color,inner:!1};r={...r,fontName:n.fontName,fontSize:n.fontSize,fontStyle:Zy(n.fontStyle),fontWeight:n.fontWeight,horizontalAlignment:Ky(n.horizontalAlignment),letterSpacing:n.characterSpacing,lineSpacing:n.lineSpacing,textColor:Qy(n.foreGroundFill),textShadow:[s],underline:n.underline,text:n.text}}return r}get objQuery(){return this.window.$obj}convertAssets(e){const t=[];if(!this.objQuery)return t;const r=this.objQuery(e.id);if(r){const n=[],s=o=>{o.images&&n.push(...Object.entries(o.images).map(([a,l])=>({key:a,url:l,decoded:this.decodeImageKey(a)}))),AT(o)&&o.objs.forEach(s)};s(r);for(const{decoded:o,url:a}of n){const l=!!o.overrideId,c=o.overrideId===e.id;if(l&&!c)continue;const h=o.modifier.toLowerCase(),u=h?`${e.id}-${h}`:e.id,f=TT(a,o);t.push({name:u,assets:[{url:a,fileName:f,fileType:uc(f)||"undefined",originalFileName:f,layerId:e.id,modifier:h}]})}}return t}decodeImageKey(e){const t=_T.exec(e);if(t){const[r,n,s="",o,a=""]=t;return{modifier:o.toLowerCase(),overrideId:s,adaptiveViewId:a,adaptiveViewName:this.getAdaptiveViewName(a)}}return{modifier:"normal",overrideId:"",adaptiveViewId:"",adaptiveViewName:""}}getAdaptiveViewName(e){if(this.$axureplayer){const t=this.$axureplayer.page.adaptiveViews.find(r=>r.id===e);if(t)return t.name}}};const ET=i=>{const e=i.split("/").pop();return e?e.split("#")[0].split("?")[0]:i};function TT(i,e){const{modifier:t,adaptiveViewId:r,adaptiveViewName:n}=e,s=ET(i);let o=[r,n,t].filter(Boolean).join("_");return o=md(o),`${o}_${s}`}const Qy=i=>{if(Xy(i))return Yy(i).color};function Yy(i){return{color:Bu(i.color,i.opacity),type:Ht.Solid}}function IT(i,e,t){const r=[],n=qy(e,t),s=i.startPoint,o=i.endPoint,a=$T(s,o,n)-90,l=DT(i.stops,n,s,o);for(const c of l)r.push({color:Bu(c.color),offset:c.offset*100});return{type:Ht.Gradient,angle:a,stops:r}}function RT(i,e,t){const r=[];qy(e,t);const n=i.axis1,s=i.axis2,o=i.center;if(!(o.x===n.x&&o.y===s.y||o.x===s.x&&o.y===n.y))return;const a=(o.x-n.x||o.y-n.y)*100,l=(o.x-s.x||o.y-s.y)*100,c={x:o.x*100,y:o.y*100};for(const h of i.stops)r.push({color:Bu(h.color),offset:h.offset*100});return{type:Ht.Radial,axis1:a,axis2:l,center:c,stops:r}}function Bu(i,e){let t=i;const r={r:0,g:0,b:0,a:1};return r.b=t%256/255,t=Math.floor(t/256),r.g=t%256/255,t=Math.floor(t/256),r.r=t%256/255,t=Math.floor(t/256),r.a=e||t%256/255,r}const qy=(i,e)=>({x:i.x,y:i.y,topLeft:{x:i.x,y:i.y},topRight:{x:i.x+e.width,y:i.y},center:{x:i.x+e.width/2,y:i.y+e.height/2},matrix:{m11:e.width,m12:0,m21:0,m22:e.height,tx:i.x,ty:i.y}}),DT=(i,e,t,r)=>{const n=ll(t,e.matrix),s=ll(r,e.matrix);return LT(e,n,s,i)},LT=(i,e,t,r)=>{const n=Zs(t,e),s=BT(n),o=Nu(Zs(e,i.center),n),a=Nu(Zs(i.topLeft,i.center),n),l=Nu(Zs(i.topRight,i.center),n),c=Math.max(Math.abs(a),Math.abs(l)),h=[];for(const u of r){let d=(o+u.offset*s+c)/(2*c);d>1?d=1:d<0&&(d=0),h.push({offset:d,color:u.color})}return h},$T=(i,e,t)=>{const r=ll(i,t.matrix),n=ll(e,t.matrix),s=Zs(r,n);return MT(s)},ll=(i,e)=>({x:i.x*e.m11+i.y*e.m12+e.tx,y:i.x*e.m21+i.y*e.m22+e.ty}),Zs=(i,e)=>({x:i.x-e.x,y:i.y-e.y}),MT=i=>Math.atan2(i.y,i.x)*180/Math.PI,BT=i=>i.x*i.x+i.y*i.y,Nu=(i,e)=>i.x*e.x+i.y*e.y;function Ky(i){switch(i){case"center":return Dt.Center;case"left":return Dt.Left;case"right":return Dt.Right;case"justified":return Dt.Justified;default:return Dt.Left}}function Zy(i){switch(i){case"normal":return xi.Normal;case"italic":return xi.Italic;default:return xi.Normal}}class cl{constructor(e){A(this,"targetIndex",0);A(this,"traverseQueue",[]);this.traverseTree=e,this.traverseQueue=this.flatTree(e)}get depth(){return this.traverseQueue.length}get target(){return this.traverseQueue[this.targetIndex]}get nextTarget(){return this.traverseQueue[this.nextIndex]}get nextIndex(){let e=this.targetIndex;return e<this.depth-1?e++:e=0,e}iterateTarget(){this.targetIndex=this.nextIndex}equalsItems(e,t){return e.id===t.id}equalsQueue(e){if(this.traverseQueue.length!==e.length)return!1;const t=this.traverseQueue.length;for(let r=0;r<t;r++)if(!this.equalsItems(this.traverseQueue[r],e[r]))return!1;return!0}flatTree(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!n.children||n.children.length===0)t.push(n.item);else{t.push(n.item);const s=this.flatTree(n.children);t.push(...s)}}return t}mergeTree(e){const t=new cl(e);if(t.equalsQueue(this.traverseQueue))return t.targetIndex=this.targetIndex,t.iterateTarget(),t;const r=this.target;if(!r)return t;const n=this.getItemInTree(t.traverseTree,r);if(n){const s=this.getParentOfItemInTree(t.traverseTree,n.item);if(s&&s.children){const o=s.children[0];o&&this.equalsItems(o.item,n.item)?!n.children||n.children.length===0?(t.selectItem(n),t.iterateTarget()):t.selectItem(n.children[0]):t.selectItem(o)}else!n.children||n.children.length===0?(t.selectItem(n),t.iterateTarget()):t.selectItem(n.children[0])}else{const s=this.getCommonParent(this.traverseTree,r,t.traverseTree);s&&(!s.children||s.children.length===0?(t.selectItem(s),t.iterateTarget()):t.selectItem(s.children[0]))}return t}selectItem(e){if(!e)return;const t=this.traverseQueue.findIndex(r=>e instanceof NT?this.equalsItems(r,e):this.equalsItems(r,e.item));this.targetIndex=t}getItemInTree(e,t){if(!(!t||!e||e.length===0))for(let r=0;r<e.length;r++){const n=e[r];return this.equalsItems(n.item,t)?n:!n.children||n.children.length===0?void 0:this.getItemInTree(n.children,t)}}getParentOfItemInTree(e,t){if(!(!t||!e||e.length===0))for(let r=0;r<e.length;r++){const n=e[r];return!n.children||n.children.length===0?void 0:n.children.findIndex(s=>this.equalsItems(s.item,t))>=0?n:this.getParentOfItemInTree(n.children,t)}}getCommonParent(e,t,r){const n=this.getParentOfItemInTree(e,t);if(!n)return;const s=this.getItemInTree(r,n.item);return s||this.getCommonParent(e,n.item,r)}}class Jy{constructor(){A(this,"selectedItem");A(this,"currentTraverse")}getShapesAtLocation(e){return[]}getParentByElement(e){}selectItem(e,t=!1){const r=this.getShapesAtLocation(e),n=this.getShapeTreeFormArray(r),s=n[0]?n[0].item:void 0;if(t){if(this.selectedItem&&s&&this.equalsItems(this.selectedItem,s)){let o=this.currentTraverse;return o?(o=o.mergeTree(n),o.target):(o=new cl(n),o.nextTarget)}}else{if(this.selectedItem&&s&&this.equalsItems(this.selectedItem,s))return this.currentTraverse?this.currentTraverse=this.currentTraverse.mergeTree(n):(this.currentTraverse=new cl(n),this.currentTraverse.iterateTarget()),this.currentTraverse.target;this.currentTraverse=void 0,this.selectedItem=s}return s}equalsItems(e,t){return e.id===t.id}getShapeTreeFormArray(e){const t=e.map(r=>({item:r}));return this.buildShapeTree(t)}buildShapeTree(e){let t=[],r=!1;for(let n=0;n<e.length;n++){const s=this.getParentByElement(e[n].item);if(s){r=!0;const o=t.findIndex(a=>this.equalsItems(a.item,s));if(o<0){const a={item:{...s}};a.children=[e[n]],t.push(a)}else t[o]=this.pushChildInParent(t[o],[e[n]])}else{const o=t.findIndex(a=>this.equalsItems(a.item,e[n].item));if(o<0)t.push(e[n]);else{const a=e[n].children;a&&(t[o]=this.pushChildInParent(t[o],[...a]))}}}return(t.length!==e.length||r)&&(t=this.buildShapeTree([...t])),t}pushChildInParent(e,t){if(!t)return e;const r=e.children?[...e.children]:[];for(let s=0;s<t.length;s++){const o=r.findIndex(a=>this.equalsItems(a.item,t[s].item));if(o<0)r.push(t[s]);else{const a=t[s].children;a&&a.length>0&&(r[o]=this.pushChildInParent(r[o],[...a]))}}const n={...e};return n.children=r,n}}class NT{constructor(){A(this,"id","")}}class zT extends Jy{constructor(e){super(),this.window=e}get $axure(){return this.window.$axure}getShapesAtLocation(e){const t=this.getViewportLocation(e);return this.$axure.getListOfIdRectAndStyleAtLoc(t)}getParentByElement(e){const r=this.$axure(`#${e.id}`).getParents(!1,["layer","repeater","dynamicPanel"]);return r&&r[0]?this.$axure.getRectAndStyleById(r[0]):void 0}selectItem(e,t=!1){const r=this.getViewportLocation(e);if(t){if(!this.$axure.getListOfIdAndRectAtLoc)return this.$axure.getIdAndRectAtLoc(r)}else if(!this.$axure.getListOfIdRectAndStyleAtLoc)return this.$axure.getIdRectAndStyleAtLoc(r);try{return super.selectItem(e,t)}catch(n){return console.error(n),t?this.$axure.getIdAndRectAtLoc(r):this.$axure.getIdRectAndStyleAtLoc(r)}}getViewportLocation(e){const t=e.x-this.window.scrollX,r=e.y-this.window.scrollY;return{x:t,y:r}}}let FT=class{constructor(e){A(this,"converter");A(this,"selector");A(this,"scale",{rx:1,ry:1,offsetCenter:0});this.window=e,this.converter=new PT(e),this.selector=new zT(e)}get $axure(){return this.window.$axure}setScale(e,t,r){this.scale={rx:e,ry:t,offsetCenter:r}}inspect(e){if(!this.$axure||!this.$axure.getIdRectAndStyleAtLoc||!this.$axure.getIdAndRectAtLoc)return;let t;const{location:r}=e;if(e.id){if(this.$axure.isIdVisible&&!this.$axure.isIdVisible(e.id))return;if(this.$axure.getRectAndStyleById)t=this.$axure.getRectAndStyleById(e.id);else return}else e.type==="click"?t=this.selector.selectItem(r):e.type==="hover"&&(t=this.selector.selectItem(r,!0));if(t&&t.id!==""){const n=this.window.document.getElementById(t.id),s=this.window.document;let o=n;do{if(!o)continue;const l=o.parentElement;l&&l!==s.scrollingElement&&t&&t.rect&&(t.rect.x-=l.scrollLeft,t.rect.y-=l.scrollTop),o=l}while(o);const a=this.converter.convert(t,e.type==="click");return{...a,selection:a.rect}}}getAllColors(){return[]}getAllAssets(){return{all:[],byLayer:[]}}};class e0{constructor(e,t,r){A(this,"element",$(`
<div id='handoffMarkupContainer'>
  <div id='handoffOver' class='handoffOver'></div>
  <div id='handoffOverT' class='handoffOver handoffOverGuide handoffOverGuideV'>
    <div id='handoffOverTValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverR' class='handoffOver handoffOverGuide handoffOverGuideH'>
    <div id='handoffOverRValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverB' class='handoffOver handoffOverGuide handoffOverGuideV'>
    <div id='handoffOverBValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverL' class='handoffOver handoffOverGuide handoffOverGuideH'>
    <div id='handoffOverLValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffSelected' class='handoffSelected'>
    <div id='handoffSelectedWidth' class='handoffDim'></div>
    <div id='handoffSelectedHeight' class='handoffDim'></div>
  </div>
  <div id='handoffSelectedV' class='handoffSelected handoffSelectedGuide'></div>
  <div id='handoffSelectedH' class='handoffSelected handoffSelectedGuide'></div>
</div>
  `));A(this,"dim",this.element.find(".handoffDim"));A(this,"overElement",this.element.find(".handoffOver"));A(this,"overId",this.element.find("#handoffOver"));A(this,"overGuide",this.element.find(".handoffOverGuide"));A(this,"overT",this.element.find("#handoffOverT"));A(this,"overTValue",this.element.find("#handoffOverTValue"));A(this,"overB",this.element.find("#handoffOverB"));A(this,"overBValue",this.element.find("#handoffOverBValue"));A(this,"overR",this.element.find("#handoffOverR"));A(this,"overRValue",this.element.find("#handoffOverRValue"));A(this,"overL",this.element.find("#handoffOverL"));A(this,"overLValue",this.element.find("#handoffOverLValue"));A(this,"box",this.element.find(".handoffSelected"));A(this,"boxId",this.element.find("#handoffSelected"));A(this,"boxV",this.element.find("#handoffSelectedV"));A(this,"boxH",this.element.find("#handoffSelectedH"));A(this,"selectionWidth",this.element.find("#handoffSelectedWidth"));A(this,"selectionHeight",this.element.find("#handoffSelectedHeight"));A(this,"selected",{id:"",rect:{width:0,height:0,left:0,right:0,top:0,bottom:0},dimensions:{width:0,height:0,left:0,right:0,top:0,bottom:0}});A(this,"over",{distance:{left:{left:0,middleV:0,width:0},right:{left:0,middleV:0,width:0},top:{top:0,centerH:0,height:0},bottom:{top:0,centerH:0,height:0}},rect:{width:0,height:0,left:0,right:0,top:0,bottom:0}});A(this,"scale",{rx:1,ry:1,offsetCenter:0,originFromLeft:0});this.state=e,this.options=t,this.subscribeToState(),r&&this.mount(r)}get Element(){return this.element}mount(e){this.element.appendTo(e)}setContainerSize(e,t){this.element.css({width:t.width,height:t.height})}updateContainerSize(e,t){e&&this.element.css({left:e.x,top:e.y}),t&&this.element.css({width:t.width,height:t.height})}getContainerOriginalRect(){return{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}getContainerBoundingClientRect(){return this.element[0].getBoundingClientRect()}setScale(e,t,r,n){this.scale={rx:e,ry:t,offsetCenter:r,originFromLeft:n},this.rescale()}select(e){const t=e;this.selected.id=t.id;const r=this.convertToDimensions(t.rect.location.x+this.scale.originFromLeft,t.rect.location.y,t.rect.size.width,t.rect.size.height),n=this.convertToDimensions(t.selection.location.x+this.scale.originFromLeft,t.selection.location.y,t.selection.size.width,t.selection.size.height);this.selected.rect=n,this.selected.dimensions=r;const s=this.selected.rect;this.setBoxCss(s),this.setDimensions(r.width,r.height),this.box.show(),this.overElement&&this.overElement.hide()}hover(e){const t=e;this.overElement.show();const r=this.convertToDimensions(t.selection.location.x+this.scale.originFromLeft,t.selection.location.y,t.selection.size.width,t.selection.size.height);if(this.setOver(r),this.overGuide.hide(),t.id===this.selected.id){this.selectionWidth.show(),this.selectionHeight.show();return}this.selectionWidth.hide(),this.selectionHeight.hide(),this.updateBox(t)}clear(){this.selected={id:"",rect:{width:0,height:0,left:0,right:0,top:0,bottom:0},dimensions:{width:0,height:0,left:0,right:0,top:0,bottom:0}},this.box.hide()}hide(){this.box.hide(),this.dim.hide()}show(){this.selected.id.length>0&&this.box.show(),this.dim.show()}clearHover(){this.overElement.hide()}setOver(e){this.over.rect=e,this.setOverCss(this.over.rect)}updateBox(e){const t=this.convertToDimensions(e.selection.location.x+this.scale.originFromLeft,e.selection.location.y,e.selection.size.width,e.selection.size.height),r=this.convertToDimensions(e.rect.location.x+this.scale.originFromLeft,e.rect.location.y,e.rect.size.width,e.rect.size.height),n=this.selected.rect,s=this.selected.dimensions,o=Math.max(t.left,n.left),a=Math.min(t.right,n.right),l=a>=o?o+(a-o)/2:t.left+t.width/2,c=Math.max(t.top,n.top),h=Math.min(t.bottom,n.bottom),u=h>=c?c+(h-c)/2:t.top+t.height/2;if(r.bottom<=s.top)this.overT.hide();else{let f,d,p;r.top>s.bottom?(f=n.bottom,d=t.top-n.bottom,p=r.top-s.bottom):(f=Math.min(t.top,n.top),d=Math.abs(n.top-t.top),p=Math.abs(s.top-r.top)),this.setOverT({top:f,centerH:l,height:d}),this.overTValue.text(`${Ve(p)}px`),p>0?this.overT.show():this.overT.hide()}if(r.top>=s.bottom)this.overB.hide();else{let f,d,p;r.bottom<s.top?(f=t.bottom,d=n.top-t.bottom,p=s.top-r.bottom):(f=Math.min(t.bottom,n.bottom),d=Math.abs(n.bottom-t.bottom),p=Math.abs(s.bottom-r.bottom)),this.setOverB({top:f,centerH:l,height:d}),this.overBValue.text(`${Ve(p)}px`),p>0?this.overB.show():this.overB.hide()}if(r.right<=s.left)this.overR.hide();else{let f,d,p;r.left>s.right?(f=n.right,d=t.left-n.right,p=r.left-s.right):(f=Math.min(t.left,n.left),d=Math.abs(n.left-t.left),p=Math.abs(s.left-r.left)),this.setOverR({middleV:u,left:f,width:d}),this.overRValue.text(`${Ve(p)}px`),p>0?this.overR.show():this.overR.hide()}if(r.left>=s.right)this.overL.hide();else{let f,d,p;r.right<s.left?(f=t.right,d=n.left-t.right,p=s.left-r.right):(f=Math.min(t.right,n.right),d=Math.abs(n.right-t.right),p=Math.abs(s.right-r.right)),this.setOverL({middleV:u,left:f,width:d}),this.overLValue.text(`${Ve(p)}px`),p>0?this.overL.show():this.overL.hide()}}setOverL(e){this.over.distance.left={...e},this.setOverLCss(this.over.distance.left)}setOverR(e){this.over.distance.right={...e},this.setOverRCss(this.over.distance.right)}setOverT(e){this.over.distance.top={...e},this.setOverTCss(this.over.distance.top)}setOverB(e){this.over.distance.bottom={...e},this.setOverBCss(this.over.distance.bottom)}setOverLCss(e){this.overL.css({top:this.transformValue(e.middleV),left:this.transformValue(e.left),width:this.transformValue(e.width)})}setOverRCss(e){this.overR.css({top:this.transformValue(e.middleV),left:this.transformValue(e.left),width:this.transformValue(e.width)})}setOverTCss(e){this.overT.css({top:this.transformValue(e.top),left:this.transformValue(e.centerH),height:this.transformValue(e.height)})}setOverBCss(e){this.overB.css({top:this.transformValue(e.top),left:this.transformValue(e.centerH),height:this.transformValue(e.height)})}rescale(){this.setBoxCss(this.selected.rect),this.setOverCss(this.over.rect),this.setOverDistances(this.over.distance)}setOverDistances(e){const{top:t,bottom:r,right:n,left:s}=e;this.setOverT(t),this.setOverB(r),this.setOverR(n),this.setOverL(s)}setBoxCss(e){const t=this.transformRect(e);this.boxId.css({left:t.left,top:t.top,width:t.width,height:t.height}),this.boxV.css({left:t.left,width:t.width}),this.boxH.css({top:t.top,height:t.height})}setOverCss(e){const t=this.transformRect(e);this.overId.css({left:t.left,top:t.top,width:t.width,height:t.height})}transformValue(e){return this.options==="absolute"?e:`${e}%`}transformRect(e){return{left:this.transformValue(e.left),top:this.transformValue(e.top),bottom:this.transformValue(e.bottom),right:this.transformValue(e.right),width:this.transformValue(e.width),height:this.transformValue(e.height)}}setDimensions(e,t){this.selectionWidth.show().text(`${Ve(e)}px`),this.selectionHeight.show().text(`${Ve(t)}px`)}subscribeToState(){this.state.subscribe({[J.InspectHide]:()=>this.hide(),[J.InspectShow]:()=>this.show(),[J.InspectSet]:e=>this.select(e),[J.InspectClear]:()=>this.clear(),[J.InspectSetHover]:e=>this.hover(e),[J.InspectClearHover]:()=>this.clearHover()})}convertToDimensions(e,t,r,n){return{width:r,height:n,left:e,top:t,right:e+r,bottom:t+n}}}let HT=class{constructor(e){A(this,"mainPanel",$("#mainPanel"));A(this,"mainFrame",$("#mainFrame"));A(this,"clipFrameScroll",$("#clipFrameScroll"));A(this,"guidesViewport",$("<div id='handoffViewport'></div>").appendTo(this.clipFrameScroll));A(this,"handlersAttached",!1);A(this,"handlers");A(this,"inspectClickOptions",null);A(this,"inspectCurrent",null);A(this,"guides");A(this,"scale",{rx:1,ry:1,offsetCenter:0});this.state=e,this.handlers={onClick:t=>this.inspect(t),onHover:xs(t=>this.inspectHover(t),1e3/60,{leading:!1}),onMouseLeave:xs(()=>this.state.trigger(J.InspectClearHover),1e3/60,{leading:!1})},this.guides=new e0(e,"absolute",this.guidesViewport),this.subscribeToEvents(),this.guides.Element.css("pointer-events","none"),this.transmitEventsToIframe()}setScale(e,t,r){this.scale={rx:e,ry:t,offsetCenter:r},this.updateViewerSize()}show(){}hide(){}getContainer(){const e=this.mainFrame[0];return e.ownerDocument&&e.ownerDocument.head||document.head}updateViewerSize(){this.updateContainerSize(),this.updateGuidesScale(),this.reinspect()}updateGuidesScale(){if(this.state.InspectorEnabled){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=$(e.document.body),r=Number((t.css("left")||"0px").replace("px",""))||0,s=(Number((t.css("margin-left")||"0px").replace("px",""))||0)+r,{rx:o,ry:a,offsetCenter:l}=this.scale;this.guides.setScale(o,a,l,s)}}reinspect(){this.state.InspectorEnabled&&this.inspectCurrent&&this.inspectClickOptions&&this.state.trigger(J.InspectGet,{...this.inspectClickOptions,id:this.inspectCurrent.id})}updateContainerSize(){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=e.document.scrollingElement;if(this.state.InspectorEnabled){this.guidesViewport.css({width:$(e).innerWidth()||this.clipFrameScroll[0].clientWidth||0,height:$(e).innerHeight()||this.clipFrameScroll[0].clientHeight||0});const r=t?t.scrollHeight:this.mainPanel.height()||0,n=t?t.scrollWidth:this.mainPanel.width()||0,s=Math.max(n,this.clipFrameScroll[0].clientWidth||0),o=Math.max(r,this.clipFrameScroll[0].clientHeight||0);this.guides.setContainerSize({x:0,y:0},{width:s,height:o}),this.clipFrameScroll.css({overflow:"hidden"})}}updateGuidesScroll(e){const t={scrollLeft:e.scrollLeft()||0,scrollTop:e.scrollTop()||0};this.guides.updateContainerSize({x:-t.scrollLeft,y:-t.scrollTop},void 0)}async getHandlerTarget(){await ms(()=>{const{contentWindow:t}=this.mainPanel.find("#mainFrame")[0];return!!(t&&t.document&&t.document.URL&&t.document.URL!=="about:blank"&&t.document.readyState==="complete")},void 0,50);const{contentWindow:e}=this.mainPanel.find("#mainFrame")[0];if(e)return $(e.document);throw new Error("Content window is null")}async attachInspectHandlers(){const e=await this.getHandlerTarget();if(this.handlersAttached||!e||e.length===0)return;const{onClick:t,onHover:r,onMouseLeave:n}=this.handlers;e.on("click",t),e.on("mousemove",r),e.on("mouseleave",n),e.on("scroll",()=>{this.updateGuidesScroll(e)}),this.updateGuidesScroll(e),this.handlersAttached=!0,await this.toggleStopInteractionsOverlay(!0),await this.toggleScrollContainer(),this.updateViewerSize(),this.guides.Element.show()}async detachInspectHandlers(){const e=await this.getHandlerTarget();if(!this.handlersAttached||!e)return;const{onClick:t,onHover:r,onMouseLeave:n}=this.handlers;e.off("click",t),e.off("mousemove",r),e.off("mouseleave",n),this.handlersAttached=!1,await this.toggleStopInteractionsOverlay(!1),await this.toggleScrollContainer(),this.updateViewerSize(),this.guides.Element.hide()}inspect(e){const{right:t,bottom:r,width:n,height:s}=this.guides.getContainerBoundingClientRect(),{left:o,top:a}=this.guides.Element.position();this.inspectClickOptions={type:"click",location:this.getPosition(e),originalRect:this.guides.getContainerOriginalRect(),clientRect:{left:Math.abs(o),top:Math.abs(a),right:t,bottom:r,width:n,height:s},iterateLayers:!1},this.state.trigger(J.InspectGet,this.inspectClickOptions)}inspectHover(e){const{right:t,bottom:r,width:n,height:s}=this.guides.getContainerBoundingClientRect(),{left:o,top:a}=this.guides.Element.position();this.state.trigger(J.InspectHoverGet,{type:"hover",location:this.getPosition(e),originalRect:this.guides.getContainerOriginalRect(),clientRect:{left:Math.abs(o),top:Math.abs(a),right:t,bottom:r,width:n,height:s},iterateLayers:!1})}transmitEventsToIframe(){this.clipFrameScroll.scroll(e=>{const{contentWindow:t}=this.mainPanel.find("iframe")[0];t&&t.document&&$(t.document).trigger(e)})}subscribeToEvents(){this.state.subscribe({[J.InspectorEnabled]:()=>this.attachInspectHandlers(),[J.InspectorDisabled]:()=>this.detachInspectHandlers(),[J.InspectSet]:e=>this.saveInspect(e),[J.InspectClear]:()=>this.clearInspect(),[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.PageDidChange]:()=>this.pageChanged()}),this.state.InspectorEnabled?this.attachInspectHandlers():this.guides.Element.hide()}async pageChanged(){this.state.InspectorEnabled&&(await this.detachInspectHandlers(),await this.attachInspectHandlers())}saveInspect(e){this.inspectCurrent=e}clearInspect(){this.inspectCurrent=null,this.inspectClickOptions=null}async messageCenterEvent(e){e.message==="pluginVisibleChanged"?this.updateViewerSize():e.message==="axure_repositionClippingBoundsScroll"?this.guides.updateContainerSize({x:e.data.left,y:e.data.top},void 0):e.message==="setDeviceMode"&&await this.toggleScrollContainer()}getCurrentScale(){const e=$("#mainPanelContainer").css("transform"),t=e==="none"?1:Number(e.substring(e.indexOf("(")+1,e.indexOf(",")));return{rx:t,ry:t}}getPosition({pageX:e,pageY:t}){return e===void 0||t===void 0?{x:0,y:0}:{x:e,y:t}}async toggleStopInteractionsOverlay(e){const t=await this.getHandlerTarget();if(!document)return;let r=t.find(".axure_stopInteractionsOverlay");if(!(r.length>0)){const s=t.find("body");r=$(`
<div
  class='axure_stopInteractionsOverlay'
  style='position:fixed;width:100%;height:100%;left:0;top:0;cursor:auto'
>
</div>`).appendTo(s)}r.toggle(e)}async toggleScrollContainer(){const e=await this.getHandlerTarget();if(!document)return;const t=e.find("div#scrollContainer");this.handlersAttached?t.hide():t.show()}};class WT{constructor(e){A(this,"ready",!1);A(this,"handoff");A(this,"iframeWindow",$("#mainFrame")[0].contentWindow);A(this,"topWindow",window);A(this,"contentScale",{scaleN:1,prevScaleN:1,contentCenterOffset:0});this.state=e,this.state.subscribeToBridge({[Be.keyboardEvent]:t=>this.sendKeyboardEvent(t)}),this.detectLegacyStyle()}get $axure(){if(this.topWindow)return this.topWindow.$axure}async setup(){this.subscribeToState(),this.subscribeToPageLoad(),await this.listenToMessageCenter(),this.ready=!0}addHandoff(){this.$axure&&this.iframeWindow&&(this.handoff||(this.handoff=new Uy({$axure:this.$axure,state:this.state,viewer:new HT(this.state),inspector:new FT(this.iframeWindow)})))}setZoom(e){this.$axure&&this.$axure.player.zoomPage&&typeof this.$axure.player.zoomPage=="function"&&this.$axure.player.zoomPage(e)}selectOverlayOption(e){if(!this.$axure)return;const{player:t}=this.$axure,{hotspots:r,comments:n,notes:s}=e;r!==void 0&&t.toggleHotspots&&t.toggleHotspots(r),n!==void 0&&t.toggleComments&&t.toggleComments(n),s!==void 0&&t.toggleFootnotes&&t.toggleFootnotes(s)}getPageData(){return this.getState("page.data")}openNextPage(){(window.$axure.player.openNextPage||window.openNextPage)()}openPreviousPage(){(window.$axure.player.openPreviousPage||window.openPreviousPage)()}toogleCommentMode(){(window.$axure.player.toogleCommentMode||window.toogleCommentMode)()}exitCommentMode(){(window.$axure.player.exitCommentMode||window.exitCommentMode)()}toggleFilterActive(e){(window.$axure.player.toggleFilterActive||window.toggleFilterActive)(e)}sendKeyboardEvent(e){var t;typeof((t=this.$axure)==null?void 0:t.player.handleKeyboardEvent)=="function"&&this.$axure.player.handleKeyboardEvent(e)}getState(e){return window.$axure.messageCenter.getState(e)}selectPage(e){if(!this.$axure)return;const t=[];this.$axure.player.getPageUrlsById(e,t);const r=t[0];r&&this.$axure.page.navigate&&this.$axure.page.navigate(r,!0)}subscribeToState(){this.state.subscribe({[J.PageWillChange]:e=>this.selectPage(e)})}subscribeToPageLoad(){if(this.$axure&&this.$axure.page&&this.$axure.page.bind){const e=this.$axure;this.$axure.page.bind("load.page_load",()=>{this.state.trigger(J.PageDidChange,e.page.id)})}}async listenToMessageCenter(){await ms(()=>this.$axure&&this.$axure.messageCenter);const e=xs(t=>{this.contentScale=t,this.handoff&&this.handoff.setScale(t.scaleN,t.scaleN,t.contentCenterOffset)},1e3/60);this.onMessageCenter("setContentScale",e),this.onAnyEvent((t,r)=>{var s;if(this.isPageChangedEvent(t,r)&&(this.handoff&&(this.handoff.inspectClear(),this.handoff.closeLayerView()),this.$axure)){const o=r.value.location,{pathname:a}=new Po(o),l=(s=this.topWindow)==null?void 0:s.document.location,c=l&&l.pathname;let h=a.split("/").pop()||"";c&&a.startsWith(c)&&(h=a.replace(c,""));let u=this.$axure.player.getPageIdByUrl(h);u||(u=this.$axure.player.getPageIdByUrl(decodeURIComponent(h))),u||(u=this.$axure.player.getPageIdByUrl(`./${h}`)),u&&(r.value.shortId=u)}const n={message:t,data:r};this.state.triggerOnBridge(ii.playerMessageCenterEvent,n),this.state.trigger(J.PlayerMessageCenterEvent,n)}),this.$axure&&this.$axure.messageCenter.addMessageListener((t,r)=>{t==="exitCommentMode"?this.exitCommentMode():t==="toogleCommentMode"?this.toogleCommentMode():t==="toggleFilterActive"&&this.toggleFilterActive(r)})}onAnyEvent(e){this.$axure&&this.$axure.messageCenter.addMessageListener((t,r)=>{e(t,r)})}onMessageCenter(e,t){this.$axure&&this.$axure.messageCenter.addMessageListener((r,n)=>{r===e&&t(n)})}isPageChangedEvent(e,t){return e==="setState"&&t.key==="page.data"}detectLegacyStyle(){const e=$("#topPanel");if(!e||e.length===0)return;const r=$("<div id='legacyTopPanel'></div>").css("background-color","#f2f2f2").css("background-color");e.css("background-color")===r&&e[0].ownerDocument.body.classList.add("legacy")}}const jT=Object.freeze(Object.defineProperty({__proto__:null,default:WT},Symbol.toStringTag,{value:"Module"}));function VT(i,e){if(i.Name){const t=i.Name.trim();if(t)return t}return e.OriginalFileName?e.OriginalFileName.trim():""}const t0=(i,e="")=>{const t={};for(const r in i.artboards)if(Object.prototype.hasOwnProperty.call(i.artboards,r)){const n=i.artboards[r],s=i.assetsImages,o=i.assetsImagesThumbnails,a=n.Asset,l={[n.Asset.Id]:n.Asset,...n.SubAssets},[c,h]=UT(l,s,o,e);t[r]={artboard:n,assets:l,artboardAsset:a,assetsUrls:c,thumbnails:h,stale:!1}}return t};function UT(i,e,t,r){return Object.keys(i).reduce((n,s)=>{const[o,a]=n,l=i0(e[s],r),c=i0(t[s],r);return o[s]=l,a[s]=c,n},[{},{}])}function i0(i,e){if(!i||!e)return i;const t=new Po(i,!0);let r;return t.query!==void 0?r={...t.query,origin:e}:r={origin:e},t.set("query",r),t.href}class XT{constructor(e,t,r){A(this,"pageId");A(this,"name");A(this,"node",$(`
<li class="expoSitemapNode">
  <div class="sitemapPageLinkContainer">
    <a class="sitemapPageLink">
      <img class="sitemapPageImg" />
      <div class="sitemapPageNameContainer">
        <span class="sitemapPageName"></span>
      </div>
    </a>
  </div>
</li>
`));A(this,"sitemapPageImg",this.node.find(".sitemapPageImg"));A(this,"sitemapPageLink",this.node.find(".sitemapPageLink"));A(this,"sitemapPageName",this.node.find(".sitemapPageName"));A(this,"page");this.state=e,this.page=t,this.name=t.name,this.pageId=t.id||pc(),this.setAttrs(),r&&this.mount(r)}mount(e){this.attachEvents(),this.node.appendTo(e)}show(){this.toggle(!0)}hide(){this.toggle(!1)}toggle(e){e?this.node.show():this.node.hide()}remove(){this.node.remove()}highlight(){this.node.addClass("sitemapHighlight")}removeHighlight(){this.node.removeClass("sitemapHighlight")}scrollIntoView(){this.node[0].scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})}update(e){this.page=e,this.name=e.name,this.pageId=e.id||pc(),this.setAttrs()}attachEvents(){this.node.on("click",e=>{this.state.selectPage(this.pageId)})}setAttrs(){const e=this.page.thumbnailSrc||this.page.src;this.sitemapPageLink.attr("artboardid",this.pageId),this.sitemapPageImg.attr("src",e),this.sitemapPageImg.data("src",e),this.sitemapPageName.text(this.page.name)}}class GT{constructor(e,t){A(this,"nodes",{});A(this,"current");A(this,"sitemap",$(`
<div class="sitemap-container">
  <div id="sitemapHeader" class="sitemapHeader">
    <div id="sitemapToolbar" class="sitemapToolbar">
      <div id="searchDiv">
        <span id="searchIcon" class="sitemapToolbarButton"></span>
        <input id="searchBox" type="text" autocomplete="off">
      </div>
      <div class="leftArrow sitemapToolbarButton"></div>
      <div class="rightArrow sitemapToolbarButton"></div>
    </div>
  </div>
  <div class="sitemapPluginNameHeader pluginNameHeader">Pages</div>
  <div id="sitemapTreeContainer">
    <ul class="sitemapTree" style="clear: both;">
    </ul>
  </div>
  <div id="changePageInstructions" class="pageSwapInstructions">
    Use  <span class="backKeys"></span>  and  <span class="forwardKeys"></span>  keys<br>to move between pages
  </div>
</div>
`));A(this,"sitemapToolbar",this.sitemap.find("#sitemapToolbar"));A(this,"leftArrow",this.sitemapToolbar.find(".leftArrow"));A(this,"rightArrow",this.sitemapToolbar.find(".rightArrow"));A(this,"search",this.sitemap.find("#searchDiv"));A(this,"searchButton",this.search.find("#searchIcon"));A(this,"searchBox",this.search.find("#searchBox"));A(this,"sitemapTreeContainer",this.sitemap.find("#sitemapTreeContainer"));A(this,"sitemapTree",this.sitemapTreeContainer.find(".sitemapTree"));this.state=e,this.subscribeToEvents(),t&&this.mount(t)}mount(e){this.attachEvents(),this.sitemap.appendTo(e)}add(e){let t;if(e.id){const{id:r}=e;t=this.nodes[r]}if(t)t.update(e);else{const r=new XT(this.state,e,this.sitemapTree);this.nodes[r.pageId]=r}}remove(e){const t=this.nodes[e];t&&(t.remove(),delete this.nodes[e])}setCurrent(e){const t=this.nodes[e];t&&(this.current&&this.current.removeHighlight(),this.current=t,$("#interfacePageNameButton").text(this.current.name),this.current.highlight(),this.state.isMobile||this.current.scrollIntoView())}openPreviousPage(){if(this.current){const e=this.getNode(this.current.pageId,-1);e&&this.state.selectPage(e.pageId)}}openNextPage(){if(this.current){const e=this.getNode(this.current.pageId,1);e&&this.state.selectPage(e.pageId)}}openPage(e){this.state.selectPage(e)}attachEvents(){this.addKeyboardNavigation(),this.addArrowNavigation(),this.addSearch()}addKeyboardNavigation(){const e=["input","textarea"];$(document).on("keyup",t=>{const{nodeName:r}=t.target;if(!e.some(n=>ko(n,r))&&!t.target.isContentEditable)switch(t.which){case 188:this.openPreviousPage();break;case 190:this.openNextPage();break}})}addArrowNavigation(){this.leftArrow.click(()=>this.openPreviousPage()),this.rightArrow.click(()=>this.openNextPage())}addSearch(){const e=this;this.searchBox.keyup(()=>{e.searchNodes(this.searchBox.val())}),this.searchButton.click(()=>{e.searchBox.toggle(),e.searchBox.is(":visible")?(e.searchButton.addClass("sitemapToolbarButtonSelected"),e.searchBox.removeClass("searchBoxHint"),e.searchBox.css({width:"95%",display:"inline-block"}),e.searchBox.val(""),e.searchBox.focus()):(e.searchButton.removeClass("sitemapToolbarButtonSelected"),e.searchBox.addClass("searchBoxHint"),e.searchBox.css({width:"",display:""}))})}searchNodes(e){if(e==null){this.showAll();return}const t=e.toString().toLowerCase();for(const r in this.nodes)if(Object.prototype.hasOwnProperty.call(this.nodes,r)){const n=this.nodes[r];if(n){const s=n.name.toLowerCase().indexOf(t)!==-1;n.toggle(s)}}}showAll(){for(const e in this.nodes)if(Object.prototype.hasOwnProperty.call(this.nodes,e)){const t=this.nodes[e];t&&t.show()}}getNode(e,t=0){const r=Object.keys(this.nodes);let n=r.indexOf(e);return(t===-1&&n>0||t===1&&n<r.length-1)&&(n+=t),this.nodes[r[n]]}subscribeToEvents(){this.state.subscribe({[J.PageAdded]:this.add.bind(this),[J.PageRemoved]:this.remove.bind(this),[J.PageDidChange]:this.setCurrent.bind(this)})}}class QT{constructor(e){A(this,"ready",!1);A(this,"isCloudMode",window.$axure.player.isCloud);A(this,"topWindow",window);A(this,"pages",{});A(this,"bundles",{});A(this,"sitemap");A(this,"project");A(this,"currentPageId","");A(this,"renderer");A(this,"isSitemapOpened",!1);A(this,"hotspotsEnabledInitially",!1);A(this,"renderers",{vue:()=>wn(()=>Promise.resolve().then(()=>KM),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href).then(e=>e.VueRenderer)});A(this,"axPlayerVars",{pageIdName:window.PAGE_ID_NAME,highlightInteractive:"hi"});if(this.state=e,this.loadResources(),this.sitemap=new GT(this.state),this.isSitemapOpened=!1,this.detectLegacyStyle(),this.$axure){const t=this.$axure.player.getHashStringVar(this.axPlayerVars.pageIdName);this.hotspotsEnabledInitially=!!this.$axure.player.getHashStringVar(this.axPlayerVars.highlightInteractive),t&&this.setCurrentPageId(t)}this.updateIsInspect()}get $axure(){if(this.topWindow)return this.topWindow.$axure}async setup(){this.renderer=new(await this.renderers.vue())(this.state),this.subscribeToState(),this.subscribeToBridge(),await this.listenToMessageCenter(),await this.renderer.start(),this.ready=!0,window.addEventListener("hashchange",()=>{window.location.reload()})}setZoom(e){var t;(t=this.renderer)==null||t.setZoom(e)}addHandoff(){this.$axure&&this.renderer&&this.renderer.addHandoff()}getPageData(){const e=this.current();if(e.page){const t=e.page;return{id:t.id,pageName:t.name,shortId:t.id,adaptiveViews:[],defaultAdaptiveView:{name:"",id:"",size:{height:0,width:0}},location:"",masterNotes:[],notes:{},ownerToFns:{},widgetNotes:[]}}}selectOverlayOption(e){if(!this.renderer)return;const{hotspots:t,comments:r}=e;t!==void 0&&this.renderer.toggleHotspots(t),r!==void 0&&this.renderer.toggleComments(r)}openNextPage(){this.sitemap.openNextPage()}openPreviousPage(){this.sitemap.openPreviousPage()}toogleCommentMode(){this.$axure&&this.$axure.player.toogleCommentMode()}exitCommentMode(){this.$axure&&this.$axure.player.exitCommentMode()}toggleFilterActive(e){this.$axure&&this.$axure.player.toggleFilterActive(e)}async reload(e){for(const t in this.bundles)if(Object.prototype.hasOwnProperty.call(this.bundles,t)){const r=this.bundles[t];r.stale=!0}this.renderer&&await this.renderer.reload(e)}setCurrentPageId(e){this.currentPageId=e}subscribeToState(){this.state.subscribe({[J.PageAdded]:e=>this.addPage(e),[J.PageRemoved]:e=>this.removePage(e),[J.PageWillChange]:e=>this.pageWillChange(e),[J.RenderExpo]:e=>this.render(e),[J.DocumentDidLoad]:e=>this.documentDidLoad(e),[J.DocumentDidReload]:e=>this.documentDidReload(e),[J.InspectorEnabled]:()=>this.inspectorEnable(),[J.InspectorDisabled]:()=>this.inspectorDisable(),[J.PrototypeGenerated]:()=>this.notifyPrototypeGenerated(),[J.SetPageHighlight]:(e,t)=>this.setPageHighlight(e,t),[J.RefreshViewPort]:()=>this.refreshViewPort(),[J.InspectorEnabled]:()=>this.inspectorEnable(),[J.InspectorDisabled]:()=>this.inspectorDisable(),[J.PreviousHistory]:()=>this.navigateToPreviousScreen()})}inspectorEnable(){this.pageSelected(this.currentPageId),this.renderer&&this.renderer.showHandoff(),this.updateIsInspect()}inspectorDisable(){this.renderer&&(this.renderer.hideHandoff(),this.updateIsInspect())}updateIsInspect(){if(this.$axure&&this.$axure.player){const e=this.$axure.player;e.isInspect=this.state.InspectorEnabled}}subscribeToBridge(){this.state.subscribeToBridge({[Be.reload]:e=>this.reload(e)})}async listenToMessageCenter(){await ms(()=>this.$axure&&this.$axure.messageCenter),this.onAnyEvent((e,t)=>{const r={message:e,data:t};this.state.triggerOnBridge(ii.playerMessageCenterEvent,r),this.state.trigger(J.PlayerMessageCenterEvent,r)}),this.$axure&&this.$axure.messageCenter.addMessageListener((e,t)=>{e==="highlightInteractive"&&this.$axure&&(t?this.$axure.player.setVarInCurrentUrlHash(this.axPlayerVars.highlightInteractive,1):this.$axure.player.deleteVarFromCurrentUrlHash(this.axPlayerVars.highlightInteractive)),e==="expo_selectPage"&&this.$axure&&t&&t.pageId&&this.state.selectPage(t.pageId)})}onAnyEvent(e){this.$axure&&this.$axure.messageCenter.addMessageListener((t,r)=>{e(t,r)})}current(){return{page:this.pages[this.currentPageId],bundle:this.bundles[this.currentPageId]}}addPage(e){this.pages[e.id]=e}removePage(e){delete this.pages[e]}async pageWillChange(e){if(!e)return;this.setCurrentPageId(e);let t;const{page:r,bundle:n}=this.current();t=r,(!t||n.stale)&&(await this.fetchAndSetupPage(e),t=this.current().page),t&&t.id===e&&(await this.pageSelected(e),this.state.trigger(J.PageDidChange,e))}async setPageHighlight(e,t=!1){e&&(this.renderer&&this.renderer.setAddToHistory(t),await this.pageWillChange(e))}async pageSelected(e){const{page:t,bundle:r}=this.current();if(t&&this.$axure&&this.$axure.page){const n=this.$axure.page;n.id=t.id,n.pageName=t.name,n.triggerEvent&&n.triggerEvent("load"),this.$axure.player.setVarInCurrentUrlHash(this.axPlayerVars.pageIdName,t.id)}if(r){if(this.project&&this.project.platform){const n=this.project.platform.Device===cr.Auto?lp(r):this.project.platform.Settings.Dimensions;this.state.Size={width:n.Width,height:n.Height}}this.state.trigger(J.BundleSelected,r)}}async setupProject(e){this.project=e;const t=this.isCloudMode?"cloud":"public";this.bundles=t0(e,t),this.state.Size={height:e.platform.Settings.Dimensions.Height,width:e.platform.Settings.Dimensions.Width};const r=e.modifiedOn?LS(e.modifiedOn):void 0,n={name:e.name,lastModified:r};this.state.trigger(J.ProjectLoaded,n);const s=[],o=10,a=aS(e.artboardsOrder,o),l=[];for(let f=0;f<a.length;f++){const d=a[f],p=[];d.forEach(async(g,y)=>{const v=this.loadArtboard(g).then(S=>{S&&s.push({index:f*o+y,...S})});p.push(v)}),l.push(p)}await Promise.all(ud(l));const c=s.map(f=>f.id),h=Object.values(this.pages).filter(f=>!c.includes(f.id));for(const f of h)this.state.removePage(f.id);nS(s,f=>f.index).forEach(f=>{this.state.addPage({id:f.id,name:f.name,src:f.src,thumbnailSrc:f.thumbnailSrc})});let u;if(this.currentPageId&&this.pages[this.currentPageId])u=this.currentPageId;else{const f=Object.keys(this.pages)[0],d=this.pages[f];d&&d.id&&(u=d.id)}u&&this.pages[u]&&this.state.selectPage(u)}async fetchAndSetupPage(e){const t=await this.loadArtboard(e);t&&this.state.addPage({id:t.id,name:t.name,src:t.src,thumbnailSrc:t.thumbnailSrc})}async loadArtboard(e){const t=await this.getArtboardBundle(e);if(t){const r=VT(t.artboard,t.artboardAsset),n=t.artboard.AssetId;return{id:t.artboard.Id,name:r,src:t.assetsUrls[n],thumbnailSrc:t.thumbnails[n]}}}async getArtboardBundle(e){const t=this.bundles[e];if(t&&!t.stale)return t;const r=await this.fetchArtboardBundle(e);if(r)return this.bundles[e]=r,r}async fetchArtboardBundle(e){if(!this.project)return;const{shortcut:t}=this.project,r=`${this.state.options.baseUrl}/expo/getartboard/${t}?artboardId=${e}`,n=await Ss(r);return{artboard:n.artboard,artboardAsset:n.assets[n.artboard.AssetId],assets:n.assets,assetsUrls:n.imgUrls,thumbnails:n.thumbnails,stale:!1}}async render(e){this.renderer&&(this.isSitemapOpened=e.isSitemapOpened,await this.renderer.render(e.expoProject))}notifyPrototypeGenerated(){this.state.triggerOnBridge(ii.previewGenerationComplete),this.renderer&&this.renderer.prototypeGenerated()}async documentDidLoad(e){Ce.holdReady(!1),this.finishSetup(),this.addSitemap(),await this.setupProject(e),this.notifyPrototypeGenerated(),this.isSitemapOpened&&window.$axure.player.showPlugin(1),this.showMainPanel()}async documentDidReload(e){await this.setupProject(e)}addSitemap(){window.$axure.player.createPluginHost({id:"sitemapHost",context:"project",title:"Project Screens",gid:1,priority:1});const e=Ce("#sitemapHost");this.sitemap.mount(e)}finishSetup(){const e=window.$axure.player.getHashStringVar(window.DIM_VAR_NAME);if(e.length>0&&e.indexOf("x")>-1){const r=e.split("x");Ce("#vpWidth").val(r[0]),Ce("#vpHeight").val(r[1]),this.refreshViewPort()}const t=window.$axure.player.getHashStringVar(window.SCALE_VAR_NAME);if(t.length>0){const r=Ce(`.vpScaleOption[val="${t}"]`);r.length>0?r.click():Ce('.vpScaleOption[val="0"]').click()}else if(Ce(".checkedVpScale").length>0){const r=Ce(".checkedVpScale").parents(".vpScaleOption");r.attr("val")!=="0"&&r.click()}this.generateViewPanelContainer(),this.updateAdaptiveViewHeader(),this.updateScaleHeader(),window.$axure.player.suspendRefreshViewPort=!1,window.$axure.messageCenter.postMessage("setAdaptiveViewForSize",{width:Ce("#mainPanel").width(),height:Ce("#mainPanel").height()}),this.refreshViewPort(),window.$axure.messageCenter.postMessage("finishInit"),Ce("#interfaceControlFrame").animate({opacity:1},200),this.isCloudMode&&window.$axure.player.hideAllPlayerControllers(),window.$axure.player.resizeContent()}navigateToPreviousScreen(){const e=this.renderer?this.renderer.popHistory():null;e!==null&&this.setPageHighlight(e,!1)}generateViewPanelContainer(){if(!this.$axure)return;const e="selected",{checkbox:t,checkboxContainer:r,mobileCheckbox:n,mobileCheckboxContainer:s}=this.generateHotspotsToggle(e);Ce("#projectOptionsHost").click(a=>{a.stopPropagation()});const o=()=>{if(!this.$axure||!this.renderer)return;const a=t.hasClass(e);t.toggleClass(e,!a),n.toggleClass(e,!a),this.renderer.toggleHotspots(!a)};r.click("click",o),s.click("click",o),this.renderer&&this.renderer.toggleHotspots(this.hotspotsEnabledInitially)}generateHotspotsToggle(e){const t=Ce("#overflowMenuContainer"),r=Ce(`
      <div class="overflowOptionCheckbox ${this.hotspotsEnabledInitially?e:""}"></div>
    `),n=Ce(`
    <div id="showHotspotsOption" class="showOption" style="order: 1"></div>`);r.appendTo(n),n.appendTo(t),n.append("Show Hotspots");const{mobileCheckbox:s,mobileCheckboxContainer:o}=this.generateMobileHotspotsToggle(e);return{checkbox:r,checkboxContainer:n,mobileCheckbox:s,mobileCheckboxContainer:o}}generateMobileHotspotsToggle(e){const t=Ce("#mHideSidebar"),r=Ce(`
    <div id="projectOptionsShowHotspots" class="mobileText projectOptionsHotspotsRow" style="border-bottom: solid 1px #c7c7c7"></div>
    `),n=Ce(`<div id="projectOptionsHotspotsCheckbox" class="${this.hotspotsEnabledInitially?e:""}"></div>`);n.appendTo(r);const s=Ce(`
    <div id="projectOptionsHost" class="mobileOnlyPanel mobileMode">
      <div class="pluginNameHeader">PROJECT OPTIONS</div>
      <div id="projectOptionsScrollContainer">
        <div class="mobileSubHeader">Hotspots</div>
      </div>
    </div>
    `);return s.find("#projectOptionsScrollContainer").append(r),r.append("Show Hotspots"),s.appendTo(t),{mobileCheckbox:n,mobileCheckboxContainer:r}}updateAdaptiveViewHeader(){const e=Ce(".checkedAdaptive").parents(".adaptiveViewOption"),t=e.length>0?e.text():"Auto";Ce(".adaptiveViewHeader").html(t)}updateScaleHeader(){const e=Ce(".checkedVpScale").parents(".vpScaleOption"),t=e.length>0?e.text():"100%";Ce(".scaleHeader").text(t)}showMainPanel(){const e=window.document.getElementById("mainPanel");Ce(e).animate({opacity:1},100)}refreshViewPort(){window.$axure&&window.$axure.player&&window.$axure.player.refreshViewPort&&window.$axure.player.refreshViewPort()}hideMainPanel(){const e=window.document.getElementById("mainFrame");e.style.opacity="0"}loadResources(){["plugins/sitemap/styles/sitemap.css"].map(t=>Ho(t))}detectLegacyStyle(){const e=Ce("#topPanel");if(!e||e.length===0)return;const r=Ce("<div id='legacyTopPanel'></div>").css("background-color","#f2f2f2").css("background-color");e.css("background-color")===r&&e[0].ownerDocument.body.classList.add("legacy")}}const YT=Object.freeze(Object.defineProperty({__proto__:null,default:QT},Symbol.toStringTag,{value:"Module"}));var hl={},qT={get exports(){return hl},set exports(i){hl=i}};(function(i,e){(function(t,r){r()})(kt,function(){function t(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,u){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){l(f.response,h,u)},f.onerror=function(){console.error("could not download file")},f.send()}function n(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kt=="object"&&kt.global===kt?kt:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,u){var f=o.URL||o.webkitURL,d=document.createElement("a");h=h||c.name||"download",d.download=h,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?s(d):n(d.href)?r(c,h,u):s(d,d.target="_blank")):(d.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,u){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,u),h);else if(n(c))r(c,h,u);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){s(f)})}}:function(c,h,u,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,u);var d=c.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||a)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var k=y.result;k=g?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=k:location=k,f=null},y.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,S=v.createObjectURL(c);f?f.location=S:location.href=S,f=null,setTimeout(function(){v.revokeObjectURL(S)},4e4)}});o.saveAs=l.saveAs=l,i.exports=l})})(qT);const KT=Rt({__proto__:null,default:hl},[hl]);function ul(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fl={},ZT={get exports(){return fl},set exports(i){fl=i}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(i,e){(function(t){i.exports=t()})(function(){return function t(r,n,s){function o(c,h){if(!n[c]){if(!r[c]){var u=typeof ul=="function"&&ul;if(!h&&u)return u(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[c]={exports:{}};r[c][0].call(d.exports,function(p){var g=r[c][1][p];return o(g||p)},d,d.exports,t,r,n,s)}return n[c].exports}for(var a=typeof ul=="function"&&ul,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,r,n){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,h,u,f,d,p,g,y=[],v=0,S=l.length,k=S,P=s.getTypeOf(l)!=="string";v<l.length;)k=S-v,u=P?(c=l[v++],h=v<S?l[v++]:0,v<S?l[v++]:0):(c=l.charCodeAt(v++),h=v<S?l.charCodeAt(v++):0,v<S?l.charCodeAt(v++):0),f=c>>2,d=(3&c)<<4|h>>4,p=1<k?(15&h)<<2|u>>6:64,g=2<k?63&u:64,y.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return y.join("")},n.decode=function(l){var c,h,u,f,d,p,g=0,y=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var S,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&k--,l.charAt(l.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|k):new Array(0|k);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,h=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,u=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),S[y++]=c,d!==64&&(S[y++]=h),p!==64&&(S[y++]=u);return S}},{"./support":30,"./utils":32}],2:[function(t,r,n){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(h,u,f,d,p){this.compressedSize=h,this.uncompressedSize=u,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var h=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),u=this;return h.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,u,f){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(u.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",u)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,n){var s=t("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,h,u,f){var d=o,p=f+u;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^h[g])];return-1^c}(0|l,a,a.length,0):function(c,h,u,f){var d=o,p=f+u;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^h.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,r,n){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function h(u,f){l.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=f,this.meta={}}n.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,u.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(f){u.push({data:f,meta:u.meta})}},n.compressWorker=function(u){return new h("Deflate",u)},n.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,n){function s(d,p){var g,y="";for(g=0;g<p;g++)y+=String.fromCharCode(255&d),d>>>=8;return y}function o(d,p,g,y,v,S){var k,P,T=d.file,R=d.compression,D=S!==c.utf8encode,j=a.transformTo("string",S(T.name)),M=a.transformTo("string",c.utf8encode(T.name)),G=T.comment,re=a.transformTo("string",S(G)),w=a.transformTo("string",c.utf8encode(G)),C=M.length!==T.name.length,m=w.length!==G.length,L="",Y="",X="",ie=T.dir,H=T.date,te={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(te.crc32=d.crc32,te.compressedSize=d.compressedSize,te.uncompressedSize=d.uncompressedSize);var z=0;p&&(z|=8),D||!C&&!m||(z|=2048);var B=0,ue=0;ie&&(B|=16),v==="UNIX"?(ue=798,B|=function(oe,Ie){var we=oe;return oe||(we=Ie?16893:33204),(65535&we)<<16}(T.unixPermissions,ie)):(ue=20,B|=function(oe){return 63&(oe||0)}(T.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,P=H.getUTCFullYear()-1980,P<<=4,P|=H.getUTCMonth()+1,P<<=5,P|=H.getUTCDate(),C&&(Y=s(1,1)+s(h(j),4)+M,L+="up"+s(Y.length,2)+Y),m&&(X=s(1,1)+s(h(re),4)+w,L+="uc"+s(X.length,2)+X);var ae="";return ae+=`
\0`,ae+=s(z,2),ae+=R.magic,ae+=s(k,2),ae+=s(P,2),ae+=s(te.crc32,4),ae+=s(te.compressedSize,4),ae+=s(te.uncompressedSize,4),ae+=s(j.length,2),ae+=s(L.length,2),{fileRecord:u.LOCAL_FILE_HEADER+ae+j+L,dirRecord:u.CENTRAL_FILE_HEADER+s(ue,2)+ae+s(re.length,2)+"\0\0\0\0"+s(B,4)+s(y,4)+j+L+re}}var a=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),h=t("../crc32"),u=t("../signature");function f(d,p,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-y-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(y){return u.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,y=function(v,S,k,P,T){var R=a.transformTo("string",T(P));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(S,4)+s(k,4)+s(R.length,2)+R}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,n){var s=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(a,l,c){var h=new o(l.streamFiles,c,l.platform,l.encodeFileName),u=0;try{a.forEach(function(f,d){u++;var p=function(S,k){var P=S||k,T=s[P];if(!T)throw new Error(P+" is not a valid compression method !");return T}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:y,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(h)}),h.entriesCount=u}catch(f){h.error(f)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,n){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function u(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){p(y)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}r.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var y=new l(d);return y.load(g),y}).then(function(g){var y=[o.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var S=0;S<v.length;S++)y.push(u(v[S]));return o.Promise.all(y)}).then(function(g){for(var y=g.shift(),v=y.files,S=0;S<v.length;S++){var k=v[S],P=k.fileNameStr,T=s.resolve(k.fileNameStr);p.file(T,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:d.createFolders}),k.dir||(p.file(T).unsafeOriginalName=P)}return y.zipComment.length&&(p.comment=y.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,n){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,n){var s=t("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var h=this;a.on("data",function(u,f){h.push(u)||h._helper.pause(),c&&c(f)}).on("error",function(u){h.emit("error",u)}).on("end",function(){h.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,n){function s(T,R,D){var j,M=a.getTypeOf(R),G=a.extend(D||{},h);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(T=v(T)),G.createFolders&&(j=y(T))&&S.call(this,j,!0);var re=M==="string"&&G.binary===!1&&G.base64===!1;D&&D.binary!==void 0||(G.binary=!re),(R instanceof u&&R.uncompressedSize===0||G.dir||!R||R.length===0)&&(G.base64=!1,G.binary=!0,R="",G.compression="STORE",M="string");var w=null;w=R instanceof u||R instanceof l?R:p.isNode&&p.isStream(R)?new g(T,R):a.prepareContent(T,R,G.binary,G.optimizedBinaryString,G.base64);var C=new f(T,w,G);this.files[T]=C}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),h=t("./defaults"),u=t("./compressedObject"),f=t("./zipObject"),d=t("./generate"),p=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),y=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var R=T.lastIndexOf("/");return 0<R?T.substring(0,R):""},v=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},S=function(T,R){return R=R!==void 0?R:h.createFolders,T=v(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:R}),this.files[T]};function k(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var R,D,j;for(R in this.files)j=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&T(D,j)},filter:function(T){var R=[];return this.forEach(function(D,j){T(D,j)&&R.push(j)}),R},file:function(T,R,D){if(arguments.length!==1)return T=this.root+T,s.call(this,T,R,D),this;if(k(T)){var j=T;return this.filter(function(G,re){return!re.dir&&j.test(G)})}var M=this.files[this.root+T];return M&&!M.dir?M:null},folder:function(T){if(!T)return this;if(k(T))return this.filter(function(M,G){return G.dir&&T.test(M)});var R=this.root+T,D=S.call(this,R),j=this.clone();return j.root=D.name,j},remove:function(T){T=this.root+T;var R=this.files[T];if(R||(T.slice(-1)!=="/"&&(T+="/"),R=this.files[T]),R&&!R.dir)delete this.files[T];else for(var D=this.filter(function(M,G){return G.name.slice(0,T.length)===T}),j=0;j<D.length;j++)delete this.files[D[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var R,D={};try{if((D=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");a.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var j=D.comment||this.comment||"";R=d.generateWorker(this,D,j)}catch(M){(R=new l("error")).error(M)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(T,R){return this.generateInternalStream(T).accumulate(R)},generateNodeStream:function(T,R){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(R)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,n){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,n){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),u=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===h&&this.data[f+3]===u)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),u=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&h===f[2]&&u===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,n){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,n){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,n){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,n){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,n){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(u){var f=s.getTypeOf(u);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(u):o.uint8array?new h(s.transformTo("uint8array",u)):new a(s.transformTo("array",u)):new l(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,n){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,n){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,n){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,n){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=s.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,n){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(t,r,n){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),c=t("../support"),h=t("../external"),u=null;if(c.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new h.Promise(function(y,v){var S=[],k=p._internalType,P=p._outputType,T=p._mimeType;p.on("data",function(R,D){S.push(R),g&&g(D)}).on("error",function(R){S=[],v(R)}).on("end",function(){try{var R=function(D,j,M){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",j),M);case"base64":return l.encode(j);default:return s.transformTo(D,j)}}(P,function(D,j){var M,G=0,re=null,w=0;for(M=0;M<j.length;M++)w+=j[M].length;switch(D){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(re=new Uint8Array(w),M=0;M<j.length;M++)re.set(j[M],G),G+=j[M].length;return re;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+D+"'")}}(k,S),T);y(R)}catch(D){v(D)}S=[]}).resume()})}function d(p,g,y){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=y,s.checkSupport(v),this._worker=p.pipe(new o(v)),p.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var y=this;return p==="data"?this._worker.on(p,function(v){g.call(y,v.data,v.meta)}):this._worker.on(p,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,n){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function u(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}n.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,y,v,S,k,P=p.length,T=0;for(S=0;S<P;S++)(64512&(y=p.charCodeAt(S)))==55296&&S+1<P&&(64512&(v=p.charCodeAt(S+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),S++),T+=y<128?1:y<2048?2:y<65536?3:4;for(g=o.uint8array?new Uint8Array(T):new Array(T),S=k=0;k<T;S++)(64512&(y=p.charCodeAt(S)))==55296&&S+1<P&&(64512&(v=p.charCodeAt(S+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),S++),y<128?g[k++]=y:(y<2048?g[k++]=192|y>>>6:(y<65536?g[k++]=224|y>>>12:(g[k++]=240|y>>>18,g[k++]=128|y>>>12&63),g[k++]=128|y>>>6&63),g[k++]=128|63&y);return g}(d)},n.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,y,v,S,k=p.length,P=new Array(2*k);for(g=y=0;g<k;)if((v=p[g++])<128)P[y++]=v;else if(4<(S=c[v]))P[y++]=65533,g+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&g<k;)v=v<<6|63&p[g++],S--;1<S?P[y++]=65533:v<65536?P[y++]=v:(v-=65536,P[y++]=55296|v>>10&1023,P[y++]=56320|1023&v)}return P.length!==y&&(P.subarray?P=P.subarray(0,y):P.length=y),s.applyFromCharCode(P)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(u,l),u.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var y=function(S,k){var P;for((k=k||S.length)>S.length&&(k=S.length),P=k-1;0<=P&&(192&S[P])==128;)P--;return P<0||P===0?k:P+c[S[P]]>k?P:k}(p),v=p;y!==p.length&&(o.uint8array?(v=p.subarray(0,y),this.leftOver=p.subarray(y,p.length)):(v=p.slice(0,y),this.leftOver=p.slice(y,p.length))),this.push({data:n.utf8decode(v),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,n){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function c(g){return g}function h(g,y){for(var v=0;v<g.length;++v)y[v]=255&g.charCodeAt(v);return y}t("setimmediate"),n.newBlob=function(g,y){n.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(g,y,v){var S=[],k=0,P=g.length;if(P<=v)return String.fromCharCode.apply(null,g);for(;k<P;)y==="array"||y==="nodebuffer"?S.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+v,P)))):S.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+v,P)))),k+=v;return S.join("")},stringifyByChar:function(g){for(var y="",v=0;v<g.length;v++)y+=String.fromCharCode(g[v]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var y=65536,v=n.getTypeOf(g),S=!0;if(v==="uint8array"?S=u.applyCanBeUsed.uint8array:v==="nodebuffer"&&(S=u.applyCanBeUsed.nodebuffer),S)for(;1<y;)try{return u.stringifyByChunk(g,v,y)}catch{y=Math.floor(y/2)}return u.stringifyByChar(g)}function d(g,y){for(var v=0;v<g.length;v++)y[v]=g[v];return y}n.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:function(g){return h(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},n.transformTo=function(g,y){if(y=y||"",!g)return y;n.checkSupport(g);var v=n.getTypeOf(y);return p[v][g](y)},n.resolve=function(g){for(var y=g.split("/"),v=[],S=0;S<y.length;S++){var k=y[S];k==="."||k===""&&S!==0&&S!==y.length-1||(k===".."?v.pop():v.push(k))}return v.join("/")},n.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(g){var y,v,S="";for(v=0;v<(g||"").length;v++)S+="\\x"+((y=g.charCodeAt(v))<16?"0":"")+y.toString(16).toUpperCase();return S},n.delay=function(g,y,v){setImmediate(function(){g.apply(v||null,y||[])})},n.inherits=function(g,y){function v(){}v.prototype=y.prototype,g.prototype=new v},n.extend=function(){var g,y,v={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&v[y]===void 0&&(v[y]=arguments[g][y]);return v},n.prepareContent=function(g,y,v,S,k){return l.Promise.resolve(y).then(function(P){return s.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,R){var D=new FileReader;D.onload=function(j){T(j.target.result)},D.onerror=function(j){R(j.target.error)},D.readAsArrayBuffer(P)}):P}).then(function(P){var T=n.getTypeOf(P);return T?(T==="arraybuffer"?P=n.transformTo("uint8array",P):T==="string"&&(k?P=o.decode(P):v&&S!==!0&&(P=function(R){return h(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))}(P))),P):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),c=t("./support");function h(u){this.files=[],this.loadOptions=u}h.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(u)+")")}},isSignature:function(u,f){var d=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,f,d,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[u]={id:u,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,f;for(u=0;u<this.files.length;u++)f=this.files[u],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var f=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),h=t("./compressions"),u=t("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(y){for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)&&h[v].magic===y)return h[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,y,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),y=d.readData(g),this.extraFields[p]={id:p,length:g,value:y};d.setIndex(v)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var v=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,n){function s(p,g,y){this.name=p,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,y="string";try{if(!p)throw new Error("No output type specified.");var v=(y=p.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var S=!this._dataBinary;S&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!S&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(k){(g=new h("error")).error(k)}return new o(g,y,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)s.prototype[u[d]]=f;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,n){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,h=new l(p),u=s.document.createTextNode("");h.observe(u,{characterData:!0}),o=function(){u.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,y;a=!0;for(var v=d.length;v;){for(y=d,d=[],g=-1;++g<v;)y[g]();v=d.length}a=!1}r.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,n){var s=t("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];function u(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,v!==o&&g(this,v)}function f(v,S,k){this.promise=v,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function d(v,S,k){s(function(){var P;try{P=S(k)}catch(T){return a.reject(v,T)}P===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,P)})}function p(v){var S=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof S=="function")return function(){S.apply(v,arguments)}}function g(v,S){var k=!1;function P(D){k||(k=!0,a.reject(v,D))}function T(D){k||(k=!0,a.resolve(v,D))}var R=y(function(){S(T,P)});R.status==="error"&&P(R.value)}function y(v,S){var k={};try{k.value=v(S),k.status="success"}catch(P){k.status="error",k.value=P}return k}(r.exports=u).prototype.finally=function(v){if(typeof v!="function")return this;var S=this.constructor;return this.then(function(k){return S.resolve(v()).then(function(){return k})},function(k){return S.resolve(v()).then(function(){throw k})})},u.prototype.catch=function(v){return this.then(null,v)},u.prototype.then=function(v,S){if(typeof v!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var k=new this.constructor(o);return this.state!==h?d(k,this.state===c?v:S,this.outcome):this.queue.push(new f(k,v,S)),k},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},a.resolve=function(v,S){var k=y(p,S);if(k.status==="error")return a.reject(v,k.value);var P=k.value;if(P)g(v,P);else{v.state=c,v.outcome=S;for(var T=-1,R=v.queue.length;++T<R;)v.queue[T].callFulfilled(S)}return v},a.reject=function(v,S){v.state=l,v.outcome=S;for(var k=-1,P=v.queue.length;++k<P;)v.queue[k].callRejected(S);return v},u.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},u.reject=function(v){var S=new this(o);return a.reject(S,v)},u.all=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,P=!1;if(!k)return this.resolve([]);for(var T=new Array(k),R=0,D=-1,j=new this(o);++D<k;)M(v[D],D);return j;function M(G,re){S.resolve(G).then(function(w){T[re]=w,++R!==k||P||(P=!0,a.resolve(j,T))},function(w){P||(P=!0,a.reject(j,w))})}},u.race=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,P=!1;if(!k)return this.resolve([]);for(var T=-1,R=new this(o);++T<k;)D=v[T],S.resolve(D).then(function(j){P||(P=!0,a.resolve(R,j))},function(j){P||(P=!0,a.reject(R,j))});var D;return R}},{immediate:36}],38:[function(t,r,n){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,n){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),h=Object.prototype.toString,u=0,f=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(k!==u)throw new Error(l[k]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var P;if(P=typeof S.dictionary=="string"?a.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(k=s.deflateSetDictionary(this.strm,P))!==u)throw new Error(l[k]);this._dict_set=!0}}function y(v,S){var k=new g(S);if(k.push(v,!0),k.err)throw k.msg||l[k.err];return k.result}g.prototype.push=function(v,S){var k,P,T=this.strm,R=this.options.chunkSize;if(this.ended)return!1;P=S===~~S?S:S===!0?4:0,typeof v=="string"?T.input=a.string2buf(v):h.call(v)==="[object ArrayBuffer]"?T.input=new Uint8Array(v):T.input=v,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(R),T.next_out=0,T.avail_out=R),(k=s.deflate(T,P))!==1&&k!==u)return this.onEnd(k),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(T.output,T.next_out))):this.onData(o.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&k!==1);return P===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===u):P!==2||(this.onEnd(u),!(T.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},n.Deflate=g,n.deflate=y,n.deflateRaw=function(v,S){return(S=S||{}).raw=!0,y(v,S)},n.gzip=function(v,S){return(S=S||{}).gzip=!0,y(v,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,n){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),h=t("./zlib/zstream"),u=t("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,y.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function p(g,y){var v=new d(y);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(g,y){var v,S,k,P,T,R,D=this.strm,j=this.options.chunkSize,M=this.options.dictionary,G=!1;if(this.ended)return!1;S=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(j),D.next_out=0,D.avail_out=j),(v=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&M&&(R=typeof M=="string"?a.string2buf(M):f.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,v=s.inflateSetDictionary(this.strm,R)),v===l.Z_BUF_ERROR&&G===!0&&(v=l.Z_OK,G=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&v!==l.Z_STREAM_END&&(D.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(D.output,D.next_out),P=D.next_out-k,T=a.buf2string(D.output,k),D.next_out=P,D.avail_out=j-P,P&&o.arraySet(D.output,D.output,k,P,0),this.onData(T)):this.onData(o.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(G=!0)}while((0<D.avail_in||D.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},n.Inflate=d,n.inflate=p,n.inflateRaw=function(g,y){return(y=y||{}).raw=!0,p(g,y)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var u in h)h.hasOwnProperty(u)&&(l[u]=h[u])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,h,u,f){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+u),f);else for(var d=0;d<u;d++)l[f+d]=c[h+d]},flattenChunks:function(l){var c,h,u,f,d,p;for(c=u=0,h=l.length;c<h;c++)u+=l[c].length;for(p=new Uint8Array(u),c=f=0,h=l.length;c<h;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,h,u,f){for(var d=0;d<u;d++)l[f+d]=c[h+d]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(s)},{}],42:[function(t,r,n){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(u,f){if(f<65537&&(u.subarray&&a||!u.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(u,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(u[p]);return d}l[254]=l[254]=1,n.string2buf=function(u){var f,d,p,g,y,v=u.length,S=0;for(g=0;g<v;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),S+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(S),g=y=0;y<S;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[y++]=d:(d<2048?f[y++]=192|d>>>6:(d<65536?f[y++]=224|d>>>12:(f[y++]=240|d>>>18,f[y++]=128|d>>>12&63),f[y++]=128|d>>>6&63),f[y++]=128|63&d);return f},n.buf2binstring=function(u){return h(u,u.length)},n.binstring2buf=function(u){for(var f=new s.Buf8(u.length),d=0,p=f.length;d<p;d++)f[d]=u.charCodeAt(d);return f},n.buf2string=function(u,f){var d,p,g,y,v=f||u.length,S=new Array(2*v);for(d=p=0;d<v;)if((g=u[d++])<128)S[p++]=g;else if(4<(y=l[g]))S[p++]=65533,d+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&d<v;)g=g<<6|63&u[d++],y--;1<y?S[p++]=65533:g<65536?S[p++]=g:(g-=65536,S[p++]=55296|g>>10&1023,S[p++]=56320|1023&g)}return h(S,p)},n.utf8border=function(u,f){var d;for((f=f||u.length)>u.length&&(f=u.length),d=f-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?f:d+l[u[d]]>f?d:f}},{"./common":41}],43:[function(t,r,n){r.exports=function(s,o,a,l){for(var c=65535&s|0,h=s>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;h=h+(c=c+o[l++]|0)|0,--u;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(t,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,n){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var h=s,u=c+l;o^=-1;for(var f=c;f<u;f++)o=o>>>8^h[255&(o^a[f])];return-1^o}},{}],46:[function(t,r,n){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),c=t("./crc32"),h=t("./messages"),u=0,f=4,d=0,p=-2,g=-1,y=4,v=2,S=8,k=9,P=286,T=30,R=19,D=2*P+1,j=15,M=3,G=258,re=G+M+1,w=42,C=113,m=1,L=2,Y=3,X=4;function ie(b,q){return b.msg=h[q],q}function H(b){return(b<<1)-(4<b?9:0)}function te(b){for(var q=b.length;0<=--q;)b[q]=0}function z(b){var q=b.state,U=q.pending;U>b.avail_out&&(U=b.avail_out),U!==0&&(o.arraySet(b.output,q.pending_buf,q.pending_out,U,b.next_out),b.next_out+=U,q.pending_out+=U,b.total_out+=U,b.avail_out-=U,q.pending-=U,q.pending===0&&(q.pending_out=0))}function B(b,q){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,q),b.block_start=b.strstart,z(b.strm)}function ue(b,q){b.pending_buf[b.pending++]=q}function ae(b,q){b.pending_buf[b.pending++]=q>>>8&255,b.pending_buf[b.pending++]=255&q}function oe(b,q){var U,E,_=b.max_chain_length,N=b.strstart,ee=b.prev_length,Z=b.nice_match,W=b.strstart>b.w_size-re?b.strstart-(b.w_size-re):0,se=b.window,fe=b.w_mask,le=b.prev,me=b.strstart+G,$e=se[N+ee-1],ke=se[N+ee];b.prev_length>=b.good_match&&(_>>=2),Z>b.lookahead&&(Z=b.lookahead);do if(se[(U=q)+ee]===ke&&se[U+ee-1]===$e&&se[U]===se[N]&&se[++U]===se[N+1]){N+=2,U++;do;while(se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&N<me);if(E=G-(me-N),N=me-G,ee<E){if(b.match_start=q,Z<=(ee=E))break;$e=se[N+ee-1],ke=se[N+ee]}}while((q=le[q&fe])>W&&--_!=0);return ee<=b.lookahead?ee:b.lookahead}function Ie(b){var q,U,E,_,N,ee,Z,W,se,fe,le=b.w_size;do{if(_=b.window_size-b.lookahead-b.strstart,b.strstart>=le+(le-re)){for(o.arraySet(b.window,b.window,le,le,0),b.match_start-=le,b.strstart-=le,b.block_start-=le,q=U=b.hash_size;E=b.head[--q],b.head[q]=le<=E?E-le:0,--U;);for(q=U=le;E=b.prev[--q],b.prev[q]=le<=E?E-le:0,--U;);_+=le}if(b.strm.avail_in===0)break;if(ee=b.strm,Z=b.window,W=b.strstart+b.lookahead,se=_,fe=void 0,fe=ee.avail_in,se<fe&&(fe=se),U=fe===0?0:(ee.avail_in-=fe,o.arraySet(Z,ee.input,ee.next_in,fe,W),ee.state.wrap===1?ee.adler=l(ee.adler,Z,fe,W):ee.state.wrap===2&&(ee.adler=c(ee.adler,Z,fe,W)),ee.next_in+=fe,ee.total_in+=fe,fe),b.lookahead+=U,b.lookahead+b.insert>=M)for(N=b.strstart-b.insert,b.ins_h=b.window[N],b.ins_h=(b.ins_h<<b.hash_shift^b.window[N+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[N+M-1])&b.hash_mask,b.prev[N&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=N,N++,b.insert--,!(b.lookahead+b.insert<M)););}while(b.lookahead<re&&b.strm.avail_in!==0)}function we(b,q){for(var U,E;;){if(b.lookahead<re){if(Ie(b),b.lookahead<re&&q===u)return m;if(b.lookahead===0)break}if(U=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),U!==0&&b.strstart-U<=b.w_size-re&&(b.match_length=oe(b,U)),b.match_length>=M)if(E=a._tr_tally(b,b.strstart-b.match_start,b.match_length-M),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=M){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else E=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(E&&(B(b,!1),b.strm.avail_out===0))return m}return b.insert=b.strstart<M-1?b.strstart:M-1,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?m:L}function be(b,q){for(var U,E,_;;){if(b.lookahead<re){if(Ie(b),b.lookahead<re&&q===u)return m;if(b.lookahead===0)break}if(U=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=M-1,U!==0&&b.prev_length<b.max_lazy_match&&b.strstart-U<=b.w_size-re&&(b.match_length=oe(b,U),b.match_length<=5&&(b.strategy===1||b.match_length===M&&4096<b.strstart-b.match_start)&&(b.match_length=M-1)),b.prev_length>=M&&b.match_length<=b.prev_length){for(_=b.strstart+b.lookahead-M,E=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-M),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=_&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=M-1,b.strstart++,E&&(B(b,!1),b.strm.avail_out===0))return m}else if(b.match_available){if((E=a._tr_tally(b,0,b.window[b.strstart-1]))&&B(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return m}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(E=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<M-1?b.strstart:M-1,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?m:L}function ge(b,q,U,E,_){this.good_length=b,this.max_lazy=q,this.nice_length=U,this.max_chain=E,this.func=_}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*D),this.dyn_dtree=new o.Buf16(2*(2*T+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*P+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*P+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function He(b){var q;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=v,(q=b.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?w:C,b.adler=q.wrap===2?0:1,q.last_flush=u,a._tr_init(q),d):ie(b,p)}function Ct(b){var q=He(b);return q===d&&function(U){U.window_size=2*U.w_size,te(U.head),U.max_lazy_match=s[U.level].max_lazy,U.good_match=s[U.level].good_length,U.nice_match=s[U.level].nice_length,U.max_chain_length=s[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=M-1,U.match_available=0,U.ins_h=0}(b.state),q}function gt(b,q,U,E,_,N){if(!b)return p;var ee=1;if(q===g&&(q=6),E<0?(ee=0,E=-E):15<E&&(ee=2,E-=16),_<1||k<_||U!==S||E<8||15<E||q<0||9<q||N<0||y<N)return ie(b,p);E===8&&(E=9);var Z=new Te;return(b.state=Z).strm=b,Z.wrap=ee,Z.gzhead=null,Z.w_bits=E,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=_+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+M-1)/M),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<_+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=q,Z.strategy=N,Z.method=U,Ct(b)}s=[new ge(0,0,0,0,function(b,q){var U=65535;for(U>b.pending_buf_size-5&&(U=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Ie(b),b.lookahead===0&&q===u)return m;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var E=b.block_start+U;if((b.strstart===0||b.strstart>=E)&&(b.lookahead=b.strstart-E,b.strstart=E,B(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-re&&(B(b,!1),b.strm.avail_out===0))return m}return b.insert=0,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):(b.strstart>b.block_start&&(B(b,!1),b.strm.avail_out),m)}),new ge(4,4,8,4,we),new ge(4,5,16,8,we),new ge(4,6,32,32,we),new ge(4,4,16,16,be),new ge(8,16,32,32,be),new ge(8,16,128,128,be),new ge(8,32,128,256,be),new ge(32,128,258,1024,be),new ge(32,258,258,4096,be)],n.deflateInit=function(b,q){return gt(b,q,S,15,8,0)},n.deflateInit2=gt,n.deflateReset=Ct,n.deflateResetKeep=He,n.deflateSetHeader=function(b,q){return b&&b.state?b.state.wrap!==2?p:(b.state.gzhead=q,d):p},n.deflate=function(b,q){var U,E,_,N;if(!b||!b.state||5<q||q<0)return b?ie(b,p):p;if(E=b.state,!b.output||!b.input&&b.avail_in!==0||E.status===666&&q!==f)return ie(b,b.avail_out===0?-5:p);if(E.strm=b,U=E.last_flush,E.last_flush=q,E.status===w)if(E.wrap===2)b.adler=0,ue(E,31),ue(E,139),ue(E,8),E.gzhead?(ue(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),ue(E,255&E.gzhead.time),ue(E,E.gzhead.time>>8&255),ue(E,E.gzhead.time>>16&255),ue(E,E.gzhead.time>>24&255),ue(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ue(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(ue(E,255&E.gzhead.extra.length),ue(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(b.adler=c(b.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(ue(E,0),ue(E,0),ue(E,0),ue(E,0),ue(E,0),ue(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ue(E,3),E.status=C);else{var ee=S+(E.w_bits-8<<4)<<8;ee|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(ee|=32),ee+=31-ee%31,E.status=C,ae(E,ee),E.strstart!==0&&(ae(E,b.adler>>>16),ae(E,65535&b.adler)),b.adler=1}if(E.status===69)if(E.gzhead.extra){for(_=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),z(b),_=E.pending,E.pending!==E.pending_buf_size));)ue(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){_=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),z(b),_=E.pending,E.pending===E.pending_buf_size)){N=1;break}N=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,ue(E,N)}while(N!==0);E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),N===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){_=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),z(b),_=E.pending,E.pending===E.pending_buf_size)){N=1;break}N=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,ue(E,N)}while(N!==0);E.gzhead.hcrc&&E.pending>_&&(b.adler=c(b.adler,E.pending_buf,E.pending-_,_)),N===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&z(b),E.pending+2<=E.pending_buf_size&&(ue(E,255&b.adler),ue(E,b.adler>>8&255),b.adler=0,E.status=C)):E.status=C),E.pending!==0){if(z(b),b.avail_out===0)return E.last_flush=-1,d}else if(b.avail_in===0&&H(q)<=H(U)&&q!==f)return ie(b,-5);if(E.status===666&&b.avail_in!==0)return ie(b,-5);if(b.avail_in!==0||E.lookahead!==0||q!==u&&E.status!==666){var Z=E.strategy===2?function(W,se){for(var fe;;){if(W.lookahead===0&&(Ie(W),W.lookahead===0)){if(se===u)return m;break}if(W.match_length=0,fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,fe&&(B(W,!1),W.strm.avail_out===0))return m}return W.insert=0,se===f?(B(W,!0),W.strm.avail_out===0?Y:X):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?m:L}(E,q):E.strategy===3?function(W,se){for(var fe,le,me,$e,ke=W.window;;){if(W.lookahead<=G){if(Ie(W),W.lookahead<=G&&se===u)return m;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=M&&0<W.strstart&&(le=ke[me=W.strstart-1])===ke[++me]&&le===ke[++me]&&le===ke[++me]){$e=W.strstart+G;do;while(le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&me<$e);W.match_length=G-($e-me),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=M?(fe=a._tr_tally(W,1,W.match_length-M),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),fe&&(B(W,!1),W.strm.avail_out===0))return m}return W.insert=0,se===f?(B(W,!0),W.strm.avail_out===0?Y:X):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?m:L}(E,q):s[E.level].func(E,q);if(Z!==Y&&Z!==X||(E.status=666),Z===m||Z===Y)return b.avail_out===0&&(E.last_flush=-1),d;if(Z===L&&(q===1?a._tr_align(E):q!==5&&(a._tr_stored_block(E,0,0,!1),q===3&&(te(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),z(b),b.avail_out===0))return E.last_flush=-1,d}return q!==f?d:E.wrap<=0?1:(E.wrap===2?(ue(E,255&b.adler),ue(E,b.adler>>8&255),ue(E,b.adler>>16&255),ue(E,b.adler>>24&255),ue(E,255&b.total_in),ue(E,b.total_in>>8&255),ue(E,b.total_in>>16&255),ue(E,b.total_in>>24&255)):(ae(E,b.adler>>>16),ae(E,65535&b.adler)),z(b),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?d:1)},n.deflateEnd=function(b){var q;return b&&b.state?(q=b.state.status)!==w&&q!==69&&q!==73&&q!==91&&q!==103&&q!==C&&q!==666?ie(b,p):(b.state=null,q===C?ie(b,-3):d):p},n.deflateSetDictionary=function(b,q){var U,E,_,N,ee,Z,W,se,fe=q.length;if(!b||!b.state||(N=(U=b.state).wrap)===2||N===1&&U.status!==w||U.lookahead)return p;for(N===1&&(b.adler=l(b.adler,q,fe,0)),U.wrap=0,fe>=U.w_size&&(N===0&&(te(U.head),U.strstart=0,U.block_start=0,U.insert=0),se=new o.Buf8(U.w_size),o.arraySet(se,q,fe-U.w_size,U.w_size,0),q=se,fe=U.w_size),ee=b.avail_in,Z=b.next_in,W=b.input,b.avail_in=fe,b.next_in=0,b.input=q,Ie(U);U.lookahead>=M;){for(E=U.strstart,_=U.lookahead-(M-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[E+M-1])&U.hash_mask,U.prev[E&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=E,E++,--_;);U.strstart=E,U.lookahead=M-1,Ie(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=M-1,U.match_available=0,b.next_in=Z,b.input=W,b.avail_in=ee,U.wrap=N,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,n){r.exports=function(s,o){var a,l,c,h,u,f,d,p,g,y,v,S,k,P,T,R,D,j,M,G,re,w,C,m,L;a=s.state,l=s.next_in,m=s.input,c=l+(s.avail_in-5),h=s.next_out,L=s.output,u=h-(o-s.avail_out),f=h+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,y=a.wnext,v=a.window,S=a.hold,k=a.bits,P=a.lencode,T=a.distcode,R=(1<<a.lenbits)-1,D=(1<<a.distbits)-1;e:do{k<15&&(S+=m[l++]<<k,k+=8,S+=m[l++]<<k,k+=8),j=P[S&R];t:for(;;){if(S>>>=M=j>>>24,k-=M,(M=j>>>16&255)===0)L[h++]=65535&j;else{if(!(16&M)){if(!(64&M)){j=P[(65535&j)+(S&(1<<M)-1)];continue t}if(32&M){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}G=65535&j,(M&=15)&&(k<M&&(S+=m[l++]<<k,k+=8),G+=S&(1<<M)-1,S>>>=M,k-=M),k<15&&(S+=m[l++]<<k,k+=8,S+=m[l++]<<k,k+=8),j=T[S&D];i:for(;;){if(S>>>=M=j>>>24,k-=M,!(16&(M=j>>>16&255))){if(!(64&M)){j=T[(65535&j)+(S&(1<<M)-1)];continue i}s.msg="invalid distance code",a.mode=30;break e}if(re=65535&j,k<(M&=15)&&(S+=m[l++]<<k,(k+=8)<M&&(S+=m[l++]<<k,k+=8)),d<(re+=S&(1<<M)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=M,k-=M,(M=h-u)<re){if(g<(M=re-M)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(C=v,(w=0)===y){if(w+=p-M,M<G){for(G-=M;L[h++]=v[w++],--M;);w=h-re,C=L}}else if(y<M){if(w+=p+y-M,(M-=y)<G){for(G-=M;L[h++]=v[w++],--M;);if(w=0,y<G){for(G-=M=y;L[h++]=v[w++],--M;);w=h-re,C=L}}}else if(w+=y-M,M<G){for(G-=M;L[h++]=v[w++],--M;);w=h-re,C=L}for(;2<G;)L[h++]=C[w++],L[h++]=C[w++],L[h++]=C[w++],G-=3;G&&(L[h++]=C[w++],1<G&&(L[h++]=C[w++]))}else{for(w=h-re;L[h++]=L[w++],L[h++]=L[w++],L[h++]=L[w++],2<(G-=3););G&&(L[h++]=L[w++],1<G&&(L[h++]=L[w++]))}break}}break}}while(l<c&&h<f);l-=G=k>>3,S&=(1<<(k-=G<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=h<f?f-h+257:257-(h-f),a.hold=S,a.bits=k}},{}],49:[function(t,r,n){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),h=1,u=2,f=0,d=-2,p=1,g=852,y=592;function v(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(w){var C;return w&&w.state?(C=w.state,w.total_in=w.total_out=C.total=0,w.msg="",C.wrap&&(w.adler=1&C.wrap),C.mode=p,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new s.Buf32(g),C.distcode=C.distdyn=new s.Buf32(y),C.sane=1,C.back=-1,f):d}function P(w){var C;return w&&w.state?((C=w.state).wsize=0,C.whave=0,C.wnext=0,k(w)):d}function T(w,C){var m,L;return w&&w.state?(L=w.state,C<0?(m=0,C=-C):(m=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?d:(L.window!==null&&L.wbits!==C&&(L.window=null),L.wrap=m,L.wbits=C,P(w))):d}function R(w,C){var m,L;return w?(L=new S,(w.state=L).window=null,(m=T(w,C))!==f&&(w.state=null),m):d}var D,j,M=!0;function G(w){if(M){var C;for(D=new s.Buf32(512),j=new s.Buf32(32),C=0;C<144;)w.lens[C++]=8;for(;C<256;)w.lens[C++]=9;for(;C<280;)w.lens[C++]=7;for(;C<288;)w.lens[C++]=8;for(c(h,w.lens,0,288,D,0,w.work,{bits:9}),C=0;C<32;)w.lens[C++]=5;c(u,w.lens,0,32,j,0,w.work,{bits:5}),M=!1}w.lencode=D,w.lenbits=9,w.distcode=j,w.distbits=5}function re(w,C,m,L){var Y,X=w.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),L>=X.wsize?(s.arraySet(X.window,C,m-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(L<(Y=X.wsize-X.wnext)&&(Y=L),s.arraySet(X.window,C,m-L,Y,X.wnext),(L-=Y)?(s.arraySet(X.window,C,m-L,L,0),X.wnext=L,X.whave=X.wsize):(X.wnext+=Y,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=Y))),0}n.inflateReset=P,n.inflateReset2=T,n.inflateResetKeep=k,n.inflateInit=function(w){return R(w,15)},n.inflateInit2=R,n.inflate=function(w,C){var m,L,Y,X,ie,H,te,z,B,ue,ae,oe,Ie,we,be,ge,Te,He,Ct,gt,b,q,U,E,_=0,N=new s.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return d;(m=w.state).mode===12&&(m.mode=13),ie=w.next_out,Y=w.output,te=w.avail_out,X=w.next_in,L=w.input,H=w.avail_in,z=m.hold,B=m.bits,ue=H,ae=te,q=f;e:for(;;)switch(m.mode){case p:if(m.wrap===0){m.mode=13;break}for(;B<16;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(2&m.wrap&&z===35615){N[m.check=0]=255&z,N[1]=z>>>8&255,m.check=a(m.check,N,2,0),B=z=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&z)<<8)+(z>>8))%31){w.msg="incorrect header check",m.mode=30;break}if((15&z)!=8){w.msg="unknown compression method",m.mode=30;break}if(B-=4,b=8+(15&(z>>>=4)),m.wbits===0)m.wbits=b;else if(b>m.wbits){w.msg="invalid window size",m.mode=30;break}m.dmax=1<<b,w.adler=m.check=1,m.mode=512&z?10:12,B=z=0;break;case 2:for(;B<16;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(m.flags=z,(255&m.flags)!=8){w.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){w.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=z>>8&1),512&m.flags&&(N[0]=255&z,N[1]=z>>>8&255,m.check=a(m.check,N,2,0)),B=z=0,m.mode=3;case 3:for(;B<32;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.head&&(m.head.time=z),512&m.flags&&(N[0]=255&z,N[1]=z>>>8&255,N[2]=z>>>16&255,N[3]=z>>>24&255,m.check=a(m.check,N,4,0)),B=z=0,m.mode=4;case 4:for(;B<16;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.head&&(m.head.xflags=255&z,m.head.os=z>>8),512&m.flags&&(N[0]=255&z,N[1]=z>>>8&255,m.check=a(m.check,N,2,0)),B=z=0,m.mode=5;case 5:if(1024&m.flags){for(;B<16;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.length=z,m.head&&(m.head.extra_len=z),512&m.flags&&(N[0]=255&z,N[1]=z>>>8&255,m.check=a(m.check,N,2,0)),B=z=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(H<(oe=m.length)&&(oe=H),oe&&(m.head&&(b=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),s.arraySet(m.head.extra,L,X,oe,b)),512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,m.length-=oe),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(H===0)break e;for(oe=0;b=L[X+oe++],m.head&&b&&m.length<65536&&(m.head.name+=String.fromCharCode(b)),b&&oe<H;);if(512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,b)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(H===0)break e;for(oe=0;b=L[X+oe++],m.head&&b&&m.length<65536&&(m.head.comment+=String.fromCharCode(b)),b&&oe<H;);if(512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,b)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;B<16;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(z!==(65535&m.check)){w.msg="header crc mismatch",m.mode=30;break}B=z=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),w.adler=m.check=0,m.mode=12;break;case 10:for(;B<32;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}w.adler=m.check=v(z),B=z=0,m.mode=11;case 11:if(m.havedict===0)return w.next_out=ie,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=z,m.bits=B,2;w.adler=m.check=1,m.mode=12;case 12:if(C===5||C===6)break e;case 13:if(m.last){z>>>=7&B,B-=7&B,m.mode=27;break}for(;B<3;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}switch(m.last=1&z,B-=1,3&(z>>>=1)){case 0:m.mode=14;break;case 1:if(G(m),m.mode=20,C!==6)break;z>>>=2,B-=2;break e;case 2:m.mode=17;break;case 3:w.msg="invalid block type",m.mode=30}z>>>=2,B-=2;break;case 14:for(z>>>=7&B,B-=7&B;B<32;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if((65535&z)!=(z>>>16^65535)){w.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&z,B=z=0,m.mode=15,C===6)break e;case 15:m.mode=16;case 16:if(oe=m.length){if(H<oe&&(oe=H),te<oe&&(oe=te),oe===0)break e;s.arraySet(Y,L,X,oe,ie),H-=oe,X+=oe,te-=oe,ie+=oe,m.length-=oe;break}m.mode=12;break;case 17:for(;B<14;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(m.nlen=257+(31&z),z>>>=5,B-=5,m.ndist=1+(31&z),z>>>=5,B-=5,m.ncode=4+(15&z),z>>>=4,B-=4,286<m.nlen||30<m.ndist){w.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;B<3;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.lens[ee[m.have++]]=7&z,z>>>=3,B-=3}for(;m.have<19;)m.lens[ee[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,U={bits:m.lenbits},q=c(0,m.lens,0,19,m.lencode,0,m.work,U),m.lenbits=U.bits,q){w.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;ge=(_=m.lencode[z&(1<<m.lenbits)-1])>>>16&255,Te=65535&_,!((be=_>>>24)<=B);){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(Te<16)z>>>=be,B-=be,m.lens[m.have++]=Te;else{if(Te===16){for(E=be+2;B<E;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(z>>>=be,B-=be,m.have===0){w.msg="invalid bit length repeat",m.mode=30;break}b=m.lens[m.have-1],oe=3+(3&z),z>>>=2,B-=2}else if(Te===17){for(E=be+3;B<E;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}B-=be,b=0,oe=3+(7&(z>>>=be)),z>>>=3,B-=3}else{for(E=be+7;B<E;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}B-=be,b=0,oe=11+(127&(z>>>=be)),z>>>=7,B-=7}if(m.have+oe>m.nlen+m.ndist){w.msg="invalid bit length repeat",m.mode=30;break}for(;oe--;)m.lens[m.have++]=b}}if(m.mode===30)break;if(m.lens[256]===0){w.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,U={bits:m.lenbits},q=c(h,m.lens,0,m.nlen,m.lencode,0,m.work,U),m.lenbits=U.bits,q){w.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,U={bits:m.distbits},q=c(u,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,U),m.distbits=U.bits,q){w.msg="invalid distances set",m.mode=30;break}if(m.mode=20,C===6)break e;case 20:m.mode=21;case 21:if(6<=H&&258<=te){w.next_out=ie,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=z,m.bits=B,l(w,ae),ie=w.next_out,Y=w.output,te=w.avail_out,X=w.next_in,L=w.input,H=w.avail_in,z=m.hold,B=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;ge=(_=m.lencode[z&(1<<m.lenbits)-1])>>>16&255,Te=65535&_,!((be=_>>>24)<=B);){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(ge&&!(240&ge)){for(He=be,Ct=ge,gt=Te;ge=(_=m.lencode[gt+((z&(1<<He+Ct)-1)>>He)])>>>16&255,Te=65535&_,!(He+(be=_>>>24)<=B);){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}z>>>=He,B-=He,m.back+=He}if(z>>>=be,B-=be,m.back+=be,m.length=Te,ge===0){m.mode=26;break}if(32&ge){m.back=-1,m.mode=12;break}if(64&ge){w.msg="invalid literal/length code",m.mode=30;break}m.extra=15&ge,m.mode=22;case 22:if(m.extra){for(E=m.extra;B<E;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.length+=z&(1<<m.extra)-1,z>>>=m.extra,B-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;ge=(_=m.distcode[z&(1<<m.distbits)-1])>>>16&255,Te=65535&_,!((be=_>>>24)<=B);){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(!(240&ge)){for(He=be,Ct=ge,gt=Te;ge=(_=m.distcode[gt+((z&(1<<He+Ct)-1)>>He)])>>>16&255,Te=65535&_,!(He+(be=_>>>24)<=B);){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}z>>>=He,B-=He,m.back+=He}if(z>>>=be,B-=be,m.back+=be,64&ge){w.msg="invalid distance code",m.mode=30;break}m.offset=Te,m.extra=15&ge,m.mode=24;case 24:if(m.extra){for(E=m.extra;B<E;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}m.offset+=z&(1<<m.extra)-1,z>>>=m.extra,B-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){w.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(te===0)break e;if(oe=ae-te,m.offset>oe){if((oe=m.offset-oe)>m.whave&&m.sane){w.msg="invalid distance too far back",m.mode=30;break}Ie=oe>m.wnext?(oe-=m.wnext,m.wsize-oe):m.wnext-oe,oe>m.length&&(oe=m.length),we=m.window}else we=Y,Ie=ie-m.offset,oe=m.length;for(te<oe&&(oe=te),te-=oe,m.length-=oe;Y[ie++]=we[Ie++],--oe;);m.length===0&&(m.mode=21);break;case 26:if(te===0)break e;Y[ie++]=m.length,te--,m.mode=21;break;case 27:if(m.wrap){for(;B<32;){if(H===0)break e;H--,z|=L[X++]<<B,B+=8}if(ae-=te,w.total_out+=ae,m.total+=ae,ae&&(w.adler=m.check=m.flags?a(m.check,Y,ae,ie-ae):o(m.check,Y,ae,ie-ae)),ae=te,(m.flags?z:v(z))!==m.check){w.msg="incorrect data check",m.mode=30;break}B=z=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;B<32;){if(H===0)break e;H--,z+=L[X++]<<B,B+=8}if(z!==(4294967295&m.total)){w.msg="incorrect length check",m.mode=30;break}B=z=0}m.mode=29;case 29:q=1;break e;case 30:q=-3;break e;case 31:return-4;case 32:default:return d}return w.next_out=ie,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=z,m.bits=B,(m.wsize||ae!==w.avail_out&&m.mode<30&&(m.mode<27||C!==4))&&re(w,w.output,w.next_out,ae-w.avail_out)?(m.mode=31,-4):(ue-=w.avail_in,ae-=w.avail_out,w.total_in+=ue,w.total_out+=ae,m.total+=ae,m.wrap&&ae&&(w.adler=m.check=m.flags?a(m.check,Y,ae,w.next_out-ae):o(m.check,Y,ae,w.next_out-ae)),w.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(ue==0&&ae===0||C===4)&&q===f&&(q=-5),q)},n.inflateEnd=function(w){if(!w||!w.state)return d;var C=w.state;return C.window&&(C.window=null),w.state=null,f},n.inflateGetHeader=function(w,C){var m;return w&&w.state&&2&(m=w.state).wrap?((m.head=C).done=!1,f):d},n.inflateSetDictionary=function(w,C){var m,L=C.length;return w&&w.state?(m=w.state).wrap!==0&&m.mode!==11?d:m.mode===11&&o(1,C,L,0)!==m.check?-3:re(w,C,L,L)?(m.mode=31,-4):(m.havedict=1,f):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,n){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,u,f,d,p,g,y,v){var S,k,P,T,R,D,j,M,G,re=v.bits,w=0,C=0,m=0,L=0,Y=0,X=0,ie=0,H=0,te=0,z=0,B=null,ue=0,ae=new s.Buf16(16),oe=new s.Buf16(16),Ie=null,we=0;for(w=0;w<=15;w++)ae[w]=0;for(C=0;C<d;C++)ae[u[f+C]]++;for(Y=re,L=15;1<=L&&ae[L]===0;L--);if(L<Y&&(Y=L),L===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(m=1;m<L&&ae[m]===0;m++);for(Y<m&&(Y=m),w=H=1;w<=15;w++)if(H<<=1,(H-=ae[w])<0)return-1;if(0<H&&(h===0||L!==1))return-1;for(oe[1]=0,w=1;w<15;w++)oe[w+1]=oe[w]+ae[w];for(C=0;C<d;C++)u[f+C]!==0&&(y[oe[u[f+C]]++]=C);if(D=h===0?(B=Ie=y,19):h===1?(B=o,ue-=257,Ie=a,we-=257,256):(B=l,Ie=c,-1),w=m,R=g,ie=C=z=0,P=-1,T=(te=1<<(X=Y))-1,h===1&&852<te||h===2&&592<te)return 1;for(;;){for(j=w-ie,G=y[C]<D?(M=0,y[C]):y[C]>D?(M=Ie[we+y[C]],B[ue+y[C]]):(M=96,0),S=1<<w-ie,m=k=1<<X;p[R+(z>>ie)+(k-=S)]=j<<24|M<<16|G|0,k!==0;);for(S=1<<w-1;z&S;)S>>=1;if(S!==0?(z&=S-1,z+=S):z=0,C++,--ae[w]==0){if(w===L)break;w=u[f+y[C]]}if(Y<w&&(z&T)!==P){for(ie===0&&(ie=Y),R+=m,H=1<<(X=w-ie);X+ie<L&&!((H-=ae[X+ie])<=0);)X++,H<<=1;if(te+=1<<X,h===1&&852<te||h===2&&592<te)return 1;p[P=z&T]=Y<<24|X<<16|R-g|0}}return z!==0&&(p[R+z]=w-ie<<24|64<<16|0),v.bits=Y,0}},{"../utils/common":41}],51:[function(t,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,n){var s=t("../utils/common"),o=0,a=1;function l(_){for(var N=_.length;0<=--N;)_[N]=0}var c=0,h=29,u=256,f=u+1+h,d=30,p=19,g=2*f+1,y=15,v=16,S=7,k=256,P=16,T=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(f+2));l(re);var w=new Array(2*d);l(w);var C=new Array(512);l(C);var m=new Array(256);l(m);var L=new Array(h);l(L);var Y,X,ie,H=new Array(d);function te(_,N,ee,Z,W){this.static_tree=_,this.extra_bits=N,this.extra_base=ee,this.elems=Z,this.max_length=W,this.has_stree=_&&_.length}function z(_,N){this.dyn_tree=_,this.max_code=0,this.stat_desc=N}function B(_){return _<256?C[_]:C[256+(_>>>7)]}function ue(_,N){_.pending_buf[_.pending++]=255&N,_.pending_buf[_.pending++]=N>>>8&255}function ae(_,N,ee){_.bi_valid>v-ee?(_.bi_buf|=N<<_.bi_valid&65535,ue(_,_.bi_buf),_.bi_buf=N>>v-_.bi_valid,_.bi_valid+=ee-v):(_.bi_buf|=N<<_.bi_valid&65535,_.bi_valid+=ee)}function oe(_,N,ee){ae(_,ee[2*N],ee[2*N+1])}function Ie(_,N){for(var ee=0;ee|=1&_,_>>>=1,ee<<=1,0<--N;);return ee>>>1}function we(_,N,ee){var Z,W,se=new Array(y+1),fe=0;for(Z=1;Z<=y;Z++)se[Z]=fe=fe+ee[Z-1]<<1;for(W=0;W<=N;W++){var le=_[2*W+1];le!==0&&(_[2*W]=Ie(se[le]++,le))}}function be(_){var N;for(N=0;N<f;N++)_.dyn_ltree[2*N]=0;for(N=0;N<d;N++)_.dyn_dtree[2*N]=0;for(N=0;N<p;N++)_.bl_tree[2*N]=0;_.dyn_ltree[2*k]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ge(_){8<_.bi_valid?ue(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Te(_,N,ee,Z){var W=2*N,se=2*ee;return _[W]<_[se]||_[W]===_[se]&&Z[N]<=Z[ee]}function He(_,N,ee){for(var Z=_.heap[ee],W=ee<<1;W<=_.heap_len&&(W<_.heap_len&&Te(N,_.heap[W+1],_.heap[W],_.depth)&&W++,!Te(N,Z,_.heap[W],_.depth));)_.heap[ee]=_.heap[W],ee=W,W<<=1;_.heap[ee]=Z}function Ct(_,N,ee){var Z,W,se,fe,le=0;if(_.last_lit!==0)for(;Z=_.pending_buf[_.d_buf+2*le]<<8|_.pending_buf[_.d_buf+2*le+1],W=_.pending_buf[_.l_buf+le],le++,Z===0?oe(_,W,N):(oe(_,(se=m[W])+u+1,N),(fe=D[se])!==0&&ae(_,W-=L[se],fe),oe(_,se=B(--Z),ee),(fe=j[se])!==0&&ae(_,Z-=H[se],fe)),le<_.last_lit;);oe(_,k,N)}function gt(_,N){var ee,Z,W,se=N.dyn_tree,fe=N.stat_desc.static_tree,le=N.stat_desc.has_stree,me=N.stat_desc.elems,$e=-1;for(_.heap_len=0,_.heap_max=g,ee=0;ee<me;ee++)se[2*ee]!==0?(_.heap[++_.heap_len]=$e=ee,_.depth[ee]=0):se[2*ee+1]=0;for(;_.heap_len<2;)se[2*(W=_.heap[++_.heap_len]=$e<2?++$e:0)]=1,_.depth[W]=0,_.opt_len--,le&&(_.static_len-=fe[2*W+1]);for(N.max_code=$e,ee=_.heap_len>>1;1<=ee;ee--)He(_,se,ee);for(W=me;ee=_.heap[1],_.heap[1]=_.heap[_.heap_len--],He(_,se,1),Z=_.heap[1],_.heap[--_.heap_max]=ee,_.heap[--_.heap_max]=Z,se[2*W]=se[2*ee]+se[2*Z],_.depth[W]=(_.depth[ee]>=_.depth[Z]?_.depth[ee]:_.depth[Z])+1,se[2*ee+1]=se[2*Z+1]=W,_.heap[1]=W++,He(_,se,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(ke,Et){var Fr,Tt,rr,qe,ds,wo,gi=Et.dyn_tree,nc=Et.max_code,ps=Et.stat_desc.static_tree,ed=Et.stat_desc.has_stree,td=Et.stat_desc.extra_bits,So=Et.stat_desc.extra_base,Hr=Et.stat_desc.max_length,Wr=0;for(qe=0;qe<=y;qe++)ke.bl_count[qe]=0;for(gi[2*ke.heap[ke.heap_max]+1]=0,Fr=ke.heap_max+1;Fr<g;Fr++)Hr<(qe=gi[2*gi[2*(Tt=ke.heap[Fr])+1]+1]+1)&&(qe=Hr,Wr++),gi[2*Tt+1]=qe,nc<Tt||(ke.bl_count[qe]++,ds=0,So<=Tt&&(ds=td[Tt-So]),wo=gi[2*Tt],ke.opt_len+=wo*(qe+ds),ed&&(ke.static_len+=wo*(ps[2*Tt+1]+ds)));if(Wr!==0){do{for(qe=Hr-1;ke.bl_count[qe]===0;)qe--;ke.bl_count[qe]--,ke.bl_count[qe+1]+=2,ke.bl_count[Hr]--,Wr-=2}while(0<Wr);for(qe=Hr;qe!==0;qe--)for(Tt=ke.bl_count[qe];Tt!==0;)nc<(rr=ke.heap[--Fr])||(gi[2*rr+1]!==qe&&(ke.opt_len+=(qe-gi[2*rr+1])*gi[2*rr],gi[2*rr+1]=qe),Tt--)}}(_,N),we(se,$e,_.bl_count)}function b(_,N,ee){var Z,W,se=-1,fe=N[1],le=0,me=7,$e=4;for(fe===0&&(me=138,$e=3),N[2*(ee+1)+1]=65535,Z=0;Z<=ee;Z++)W=fe,fe=N[2*(Z+1)+1],++le<me&&W===fe||(le<$e?_.bl_tree[2*W]+=le:W!==0?(W!==se&&_.bl_tree[2*W]++,_.bl_tree[2*P]++):le<=10?_.bl_tree[2*T]++:_.bl_tree[2*R]++,se=W,$e=(le=0)===fe?(me=138,3):W===fe?(me=6,3):(me=7,4))}function q(_,N,ee){var Z,W,se=-1,fe=N[1],le=0,me=7,$e=4;for(fe===0&&(me=138,$e=3),Z=0;Z<=ee;Z++)if(W=fe,fe=N[2*(Z+1)+1],!(++le<me&&W===fe)){if(le<$e)for(;oe(_,W,_.bl_tree),--le!=0;);else W!==0?(W!==se&&(oe(_,W,_.bl_tree),le--),oe(_,P,_.bl_tree),ae(_,le-3,2)):le<=10?(oe(_,T,_.bl_tree),ae(_,le-3,3)):(oe(_,R,_.bl_tree),ae(_,le-11,7));se=W,$e=(le=0)===fe?(me=138,3):W===fe?(me=6,3):(me=7,4)}}l(H);var U=!1;function E(_,N,ee,Z){ae(_,(c<<1)+(Z?1:0),3),function(W,se,fe,le){ge(W),le&&(ue(W,fe),ue(W,~fe)),s.arraySet(W.pending_buf,W.window,se,fe,W.pending),W.pending+=fe}(_,N,ee,!0)}n._tr_init=function(_){U||(function(){var N,ee,Z,W,se,fe=new Array(y+1);for(W=Z=0;W<h-1;W++)for(L[W]=Z,N=0;N<1<<D[W];N++)m[Z++]=W;for(m[Z-1]=W,W=se=0;W<16;W++)for(H[W]=se,N=0;N<1<<j[W];N++)C[se++]=W;for(se>>=7;W<d;W++)for(H[W]=se<<7,N=0;N<1<<j[W]-7;N++)C[256+se++]=W;for(ee=0;ee<=y;ee++)fe[ee]=0;for(N=0;N<=143;)re[2*N+1]=8,N++,fe[8]++;for(;N<=255;)re[2*N+1]=9,N++,fe[9]++;for(;N<=279;)re[2*N+1]=7,N++,fe[7]++;for(;N<=287;)re[2*N+1]=8,N++,fe[8]++;for(we(re,f+1,fe),N=0;N<d;N++)w[2*N+1]=5,w[2*N]=Ie(N,5);Y=new te(re,D,u+1,f,y),X=new te(w,j,0,d,y),ie=new te(new Array(0),M,0,p,S)}(),U=!0),_.l_desc=new z(_.dyn_ltree,Y),_.d_desc=new z(_.dyn_dtree,X),_.bl_desc=new z(_.bl_tree,ie),_.bi_buf=0,_.bi_valid=0,be(_)},n._tr_stored_block=E,n._tr_flush_block=function(_,N,ee,Z){var W,se,fe=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(le){var me,$e=4093624447;for(me=0;me<=31;me++,$e>>>=1)if(1&$e&&le.dyn_ltree[2*me]!==0)return o;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return a;for(me=32;me<u;me++)if(le.dyn_ltree[2*me]!==0)return a;return o}(_)),gt(_,_.l_desc),gt(_,_.d_desc),fe=function(le){var me;for(b(le,le.dyn_ltree,le.l_desc.max_code),b(le,le.dyn_dtree,le.d_desc.max_code),gt(le,le.bl_desc),me=p-1;3<=me&&le.bl_tree[2*G[me]+1]===0;me--);return le.opt_len+=3*(me+1)+5+5+4,me}(_),W=_.opt_len+3+7>>>3,(se=_.static_len+3+7>>>3)<=W&&(W=se)):W=se=ee+5,ee+4<=W&&N!==-1?E(_,N,ee,Z):_.strategy===4||se===W?(ae(_,2+(Z?1:0),3),Ct(_,re,w)):(ae(_,4+(Z?1:0),3),function(le,me,$e,ke){var Et;for(ae(le,me-257,5),ae(le,$e-1,5),ae(le,ke-4,4),Et=0;Et<ke;Et++)ae(le,le.bl_tree[2*G[Et]+1],3);q(le,le.dyn_ltree,me-1),q(le,le.dyn_dtree,$e-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,fe+1),Ct(_,_.dyn_ltree,_.dyn_dtree)),be(_),Z&&ge(_)},n._tr_tally=function(_,N,ee){return _.pending_buf[_.d_buf+2*_.last_lit]=N>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&N,_.pending_buf[_.l_buf+_.last_lit]=255&ee,_.last_lit++,N===0?_.dyn_ltree[2*ee]++:(_.matches++,N--,_.dyn_ltree[2*(m[ee]+u+1)]++,_.dyn_dtree[2*B(N)]++),_.last_lit===_.lit_bufsize-1},n._tr_align=function(_){ae(_,2,3),oe(_,k,re),function(N){N.bi_valid===16?(ue(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(t,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,n){(function(s){(function(o,a){if(!o.setImmediate){var l,c,h,u,f=1,d={},p=!1,g=o.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(o);y=y&&y.setTimeout?y:o,l={}.toString.call(o.process)==="[object process]"?function(P){process.nextTick(function(){S(P)})}:function(){if(o.postMessage&&!o.importScripts){var P=!0,T=o.onmessage;return o.onmessage=function(){P=!1},o.postMessage("","*"),o.onmessage=T,P}}()?(u="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(P){o.postMessage(u+P,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(P){S(P.data)},function(P){h.port2.postMessage(P)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(P){var T=g.createElement("script");T.onreadystatechange=function(){S(P),T.onreadystatechange=null,c.removeChild(T),T=null},c.appendChild(T)}):function(P){setTimeout(S,0,P)},y.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var D={callback:P,args:T};return d[f]=D,l(f),f++},y.clearImmediate=v}function v(P){delete d[P]}function S(P){if(p)setTimeout(S,0,P);else{var T=d[P];if(T){p=!0;try{(function(R){var D=R.callback,j=R.args;switch(j.length){case 0:D();break;case 1:D(j[0]);break;case 2:D(j[0],j[1]);break;case 3:D(j[0],j[1],j[2]);break;default:D.apply(a,j)}})(T)}finally{v(P),p=!1}}}}function k(P){P.source===o&&typeof P.data=="string"&&P.data.indexOf(u)===0&&S(+P.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ZT);const JT=Rt({__proto__:null,default:fl},[fl]);class eI{constructor(){A(this,"zoomValues",[25,50,75,100,150,200,250,300,400]);A(this,"zoomToolbarButton",$("<div id='zoom-toolbar-button'><div class='caret'></div></div>"));A(this,"zoomToolbarValue",$("<div id='zoom-value'></div>"));A(this,"zoomPopupContainer",$("<div id='zoom-popup-container'></div>"));A(this,"eventHub",new Eo);for(const t of this.zoomValues){const r=$(`<div class="zoom-value">${this.getPercent(t)}</div>`);r.on("click",()=>{this.eventHub.trigger("changeZoom",{value:t}),this.closePopup()}),this.zoomPopupContainer.append(r)}$("#popupContainer").append(this.zoomPopupContainer),this.zoomToolbarButton.prepend(this.zoomToolbarValue),this.zoomToolbarButton.on("click",()=>this.showPopup());const e=$("<div class='zoom-toolbar-button-container'></div>");e.append(this.zoomToolbarButton),$("#inspectControlFrameHeaderContainer").before(e)}getPercent(e){return`${Math.round(e)}%`}showPopup(){this.zoomToolbarButton.addClass("selected"),this.zoomPopupContainer.addClass("popup"),this.zoomPopupContainer.show(),$("<div class='splitterMask'></div>").insertAfter(this.zoomPopupContainer),$("div.splitterMask").on("click",()=>this.closePopup())}closePopup(){this.zoomToolbarButton.removeClass("selected"),this.zoomPopupContainer.hide(),$("div.splitterMask").off("click",()=>this.closePopup()),$("div.splitterMask").remove()}setZoom(e){this.zoomToolbarValue.text(this.getPercent(e))}subscribe(e){this.eventHub.subscribe(e)}hide(){this.zoomToolbarButton.hide()}show(){this.zoomToolbarButton.show()}}class tI{constructor(e,t){A(this,"id");A(this,"src");A(this,"viewerPageClass","handoff-viewer-page");A(this,"screenImageClass","handoff-screen-image");A(this,"page",$(`
<div class="${this.viewerPageClass}">
  <img class='${this.screenImageClass}' />
</div>
`));A(this,"pageImage",this.page.find(`.${this.screenImageClass}`));A(this,"visible",!1);const r={id:pc(),src:"",visible:!1,...e};this.id=r.id,this.src=r.src,this.Visible=r.visible,this.setAttrs(),t&&this.mount(t)}get Visible(){return this.visible}set Visible(e){this.visible=e,e?this.page.css("visibility","").show():this.page.css("visibility","hidden").hide()}mount(e){this.page.appendTo(e)}remove(){this.page.remove()}show(){this.Visible=!0}hide(){this.Visible=!1}addClass(e){this.page.addClass(e)}removeClass(e){this.page.removeClass(e)}update(e){this.id=e.id,this.src=e.src,this.Visible=e.visible,this.setAttrs()}setAttrs(){this.page.attr("artboardId",this.id),this.pageImage.attr("src",this.src)}}class iI{constructor(e,t){A(this,"pages",{});A(this,"pagesWrapperId","handoff-pages-wrapper");A(this,"pagesWrapper",$(`<div id="${this.pagesWrapperId}">`));A(this,"handlers");A(this,"handlersAttached",!1);this.state=e,this.handlers={onClick:r=>this.inspect(r),onHover:xs(r=>this.inspectHover(r),1e3/60,{leading:!1}),onMouseLeave:xs(()=>this.state.trigger(J.InspectClearHover),1e3/60,{leading:!1})},this.subscribeToEvents(),t&&this.mount(t)}get Element(){return this.pagesWrapper}mount(e){return this.pagesWrapper.appendTo(e)}get totalPages(){return Object.keys(this.pages).length}add({id:e,src:t,name:r}){let n;const s=this.state.CurrentPage?this.state.CurrentPage===e:this.totalPages<1,o={id:e,src:t,name:r,visible:s};if(e&&(n=this.pages[e]),n)n.update(o);else{const a=new tI(o,this.pagesWrapper);this.pages[a.id]=a}}remove(e){const t=this.pages[e];t&&(t.remove(),delete this.pages[e])}setCurrent(e){const t=this.pages[e];t&&(this.hideAllPages(),t.show())}setWidth(e){this.pagesWrapper.css("width",`${e}px`)}hideAllPages(){for(const e in this.pages)if(Object.prototype.hasOwnProperty.call(this.pages,e)){const t=this.pages[e];t&&t.hide()}}attachInspectHandlers(){if(this.handlersAttached)return;const{onClick:e,onHover:t,onMouseLeave:r}=this.handlers;this.pagesWrapper.on("click",e),this.pagesWrapper.on("mousemove",t),this.pagesWrapper.on("mouseleave",r),this.handlersAttached=!0}detachInspectHandlers(){const{onClick:e,onHover:t,onMouseLeave:r}=this.handlers;this.pagesWrapper.off("click",e),this.pagesWrapper.off("mousemove",t),this.pagesWrapper.off("mouseleave",r),this.handlersAttached=!1}inspect(e){this.state.trigger(J.InspectGet,{type:"click",location:r0(e),originalRect:{width:e.currentTarget.offsetWidth,height:e.currentTarget.offsetHeight},clientRect:e.currentTarget.getBoundingClientRect(),iterateLayers:!0})}inspectHover(e){this.state.trigger(J.InspectHoverGet,{type:"hover",location:r0(e),originalRect:{width:e.currentTarget.offsetWidth,height:e.currentTarget.offsetHeight},clientRect:e.currentTarget.getBoundingClientRect(),iterateLayers:!1})}subscribeToEvents(){this.state.subscribe({[J.InspectorEnabled]:()=>this.attachInspectHandlers(),[J.InspectorDisabled]:()=>this.detachInspectHandlers()})}}function r0(i){const e=$(i.currentTarget).offset(),{pageX:t,pageY:r}=i;if(t===void 0||r===void 0)return{x:0,y:0};const n={x:t,y:r};if(e){const{left:s,top:o}=e;n.x-=s,n.y-=o}return n}class rI{constructor(e,t){A(this,"mainPanel",$("#mainPanel"));A(this,"viewerContainerId","handoff-viewer-container");A(this,"screenContainerId","handoff-screen-container");A(this,"pagesWrapperId","handoff-pages-wrapper");A(this,"viewer",$(`
<div id="${this.viewerContainerId}">
  <div id="${this.screenContainerId}"></div>
</div>`).hide());A(this,"zoomValues",[25,50,75,100,150,200,250,300,400]);A(this,"viewerContainer",this.viewer);A(this,"screenContainer",this.viewer.find(`#${this.screenContainerId}`));A(this,"container");A(this,"zoomButton");A(this,"pages");A(this,"guides");A(this,"deltaWheelFactor");A(this,"zoom",100);A(this,"gestureStartZoom",0);A(this,"isDragModeEnabled",!1);A(this,"screenContainerLeft",0);A(this,"screenContainerTop",0);A(this,"pagePosition",{x:0,y:0});A(this,"isInspect",!1);A(this,"isCloud",!!window.$axure.player.isCloud);this.state=e,this.subscribeToEvents(),this.pages=new iI(this.state,this.screenContainer),this.guides=new e0(e,"relative"),this.guides.mount(this.pages.Element),this.deltaWheelFactor=this.getDeltaWheelFactor(),this.setZoom(100),t&&this.mount(t)}mount(e){return this.attachEvents(),this.container=e,this.viewer.appendTo(e)}addPage(e){this.pages.add(e)}removePage(e){this.pages.remove(e)}setCurrentPage(e){this.pages.setCurrent(e),this.resetPagePosition(),this.viewer.find(`#${this.screenContainerId}`).find(`[artboardid="${e}"]`).find("img").one("load",()=>{this.resetPagePosition()})}setZoom(e){var t;this.screenContainer.attr("data-scale",e/100),this.reportScaleChanged(e/100),this.zoom=e,(t=this.zoomButton)==null||t.setZoom(e),this.resize()}toggleDragMode(e){this.isDragModeEnabled!==e&&(this.viewer.toggleClass("handoff-dragging",e),e?this.viewer.on("mousedown.drag",t=>this.startDrag(t)):(this.isDragModeEnabled&&this.stopDrag(),this.viewer.off("mousedown.drag")),this.isDragModeEnabled=e)}setScale(e,t,r){}hide(){this.viewer.hide()}show(){this.viewer.show()}getContainer(){const e=this.container&&this.container[0];return e&&e.ownerDocument&&e.ownerDocument.head||document.head}roundValueByArrayOfSteps(e,t,r=!1){let n=0;for(let s=0;s<t.length;s++)if(t[s]<e){const o=t[s+1];if(o){if(o<e)continue;if(o===e){n=s+1;break}else if(r){n=s;break}else n=s+1}else{n=s;break}}else if(s===0)break;return t[n]}roundZoomValue(e){let t=Math.round(e);return t<this.zoomValues[0]?[t]=this.zoomValues:t>this.zoomValues[this.zoomValues.length-1]&&(t=this.zoomValues[this.zoomValues.length-1]),t}zoomIn(e){const t=this.getNextStepOfZoom(1);this.zoomPage(t,e)}zoomOut(e){const t=this.getNextStepOfZoom(-1);this.zoomPage(t,e)}getNextStepOfZoom(e){const t=this.roundValueByArrayOfSteps(this.zoom,this.zoomValues,e<0);let r=e;this.zoom!==t&&(r+=r>0?-1:1);const s=(this.zoomValues.findIndex(a=>a===t)||0)+r;let o=this.zoom;return this.zoomValues[s]&&(o=this.zoomValues[s]),o}zoomPage(e,t){const r=this.zoom,n=e,s={height:this.viewerContainer.height()||0,width:this.viewerContainer.width()||0},o=this.getPageSize();let a=0,l=0;if(s.width<=o.width*n/r||s.height<=o.height*n/r){const h=t?t.x:s.width/2,u=t?t.y:s.height/2,f=this.getPagePosition();let d=h-s.width/2-f.x,p=u-s.height/2-f.y;(Math.abs(d)>o.width/2||Math.abs(p)>o.height/2)&&(d=-f.x,p=-f.y);const g=d*n/r,y=p*n/r;a=f.x-(g-d),l=f.y-(y-p)}this.setZoom(n);const c=this.normalizePagePosition({x:a,y:l});this.setPagePosition(c)}resize(){const e=this.width();this.screenContainer.css("width",`${e}px`),this.pages.setWidth(e);const t=this.getPageSize();this.screenContainer.attr({"data-width":t.width,"data-height":t.height}),this.reportSizeChanged({width:t.width,height:t.height})}width(){const{width:e}=this.state.Size;return this.zoom/100*e}height(){const{height:e}=this.state.Size;return this.zoom/100*e}attachEvents(){this.attachKeyboardEvents(),this.zoomable(),this.scrollable(),window.addEventListener("gesturestart",e=>e.preventDefault()),window.addEventListener("gesturechange",e=>e.preventDefault()),window.addEventListener("gestureend",e=>e.preventDefault())}attachKeyboardEvents(){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=$(e.document);t.on("keyup",r=>{switch(r.which){case 188:this.state.trigger(J.OpenPreviousPage);break;case 190:this.state.trigger(J.OpenNextPage);break;case 27:this.state.trigger(J.ExitCommentMode);break;case 67:this.state.trigger(J.ToogleCommentMode);break}}),t.on("keydown",r=>this.onKeyDown(r)).on("keyup",r=>this.onKeyUp(r))}onKeyDown(e){const{which:t}=e;if(t===32&&this.toggleDragMode(!0),this.isInspect&&(e.ctrlKey||e.metaKey))switch(t){case 107:case 187:e.preventDefault(),this.zoomIn();break;case 109:case 189:e.preventDefault(),this.zoomOut();break;case 48:case 96:e.preventDefault(),this.zoomPage(100);break}}onKeyUp(e){const{which:t}=e;t===32&&this.toggleDragMode(!1)}startDrag(e){if(e.preventDefault(),e.pageX===void 0||e.pageY===void 0)return;let t=e.pageX,r=e.pageY;const n=({pageX:s,pageY:o})=>{if(s===void 0||o===void 0)return;const a=s-t,l=o-r;let c=this.getPagePosition();c.x+=a,c.y+=l,c=this.normalizePagePosition(c),this.setPagePosition({x:c.x,y:c.y}),t=s,r=o};this.viewer.toggleClass("handoff-dragging__start",!0),this.viewer.on("mouseup.drag",()=>this.stopDrag()),this.viewer.on("mouseout.drag mousemove.drag",s=>n(s))}stopDrag(){this.viewer.toggleClass("handoff-dragging__start",!1),this.viewer.off("mouseup.drag"),this.viewer.off("mouseout.drag mousemove.drag")}zoomable(){this.viewerContainer.on("wheel",t=>{if(t.ctrlKey||t.metaKey){t.preventDefault();const r=t.originalEvent;if(r){const{deltaY:n}=r,s=this.deltaWheelFactor,o=25,a=this.roundZoomValue(this.zoom+-n*o*s),l={x:r.x,y:r.y};this.zoomPage(a,l)}}});const{contentWindow:e}=this.mainPanel.find("iframe")[0];e&&(e.addEventListener("gesturestart",t=>{t.preventDefault(),this.gestureStartZoom=this.zoom}),e.addEventListener("gesturechange",t=>{t.preventDefault();const r=this.roundZoomValue(this.gestureStartZoom*t.scale),n={x:t.pageX,y:t.pageY};this.zoomPage(r,n)}),e.addEventListener("gestureend",t=>{t.preventDefault()}))}scrollable(){this.viewerContainer.on("wheel",e=>{if(!e.ctrlKey){e.preventDefault();const t=e.originalEvent;if(t){const n=this.deltaWheelFactor;let s=t.deltaY?-t.deltaY*n*50:0,o=t.deltaX?-t.deltaX*n*50:0;if(t.shiftKey){const h=o;o=s,s=h}const a=o/this.zoom*100,l=s/this.zoom*100;let c=this.getPagePosition();c.x+=a,c.y+=l,c=this.normalizePagePosition(c),this.setPagePosition({x:c.x,y:c.y})}}})}getDeltaWheelFactor(){let e=.01;return/(Win)/i.test(navigator.platform)?/(Firefox)/i.test(navigator.userAgent)&&(e*=1.85):e*=8,e}setScreenContainerPosition(e,t){this.screenContainer.css({left:e,top:t}),this.screenContainerLeft=e,this.screenContainerTop=t,this.screenContainer.attr({"data-x":e,"data-y":t}),this.reportPositionChanged({x:e,y:t})}getPageSize(){const e=this.viewer.find(`#${this.pagesWrapperId}`);return{width:e.width()||this.width(),height:e.height()||this.height()}}getPagePosition(){const e={height:this.viewer.height()||0,width:this.viewer.width()||0},t=this.getPageSize(),r=this.screenContainerLeft-e.width/2+t.width/2,n=this.screenContainerTop-e.height/2+t.height/2;return{x:r,y:n}}setPagePosition(e){this.pagePosition=e;const t={height:this.viewer.height()||0,width:this.viewer.width()||0},r=this.getPageSize(),n=e.x+t.width/2-r.width/2,s=e.y+t.height/2-r.height/2;this.setScreenContainerPosition(n,s)}resetPagePosition(){let e=0,t=0;const r={height:this.viewerContainer.height()||0,width:this.viewerContainer.width()||0},n=this.getPageSize();n.height>r.height&&(t=n.height/2-r.height/2),n.width>r.width&&(e=n.width/2-r.width/2),this.setPagePosition({x:e,y:t})}normalizePagePosition(e){let r=0,n=0;const s={height:this.viewer.height()||0,width:this.viewer.width()||0},o=this.getPageSize();if(o.width>s.width){let a=e.x+s.width/2-o.width/2;const l=-1*(o.width-(s.width-100));a>100&&a<l||(a>100?a=100:a<l&&(a=l)),r=a-s.width/2+o.width/2}if(o.height>s.height){let a=e.y+s.height/2-o.height/2;const l=-1*(o.height-(s.height-100));a>100&&a<l||(a>100?a=100:a<l&&(a=l)),n=a-s.height/2+o.height/2}return{x:r,y:n}}viewerResized(){const e=this.normalizePagePosition(this.pagePosition);this.setPagePosition(e)}scrollToPosition(e){const t={x:e.x*this.zoom/100,y:e.y*this.zoom/100},r=this.getPageSize(),n={x:r.width/2-t.x,y:r.height/2-t.y},s=this.normalizePagePosition(n);this.setPagePosition(s)}reportScaleChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPageScale",{scale:e})}reportPositionChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPagePosition",{x:e.x,y:e.y})}reportSizeChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPageSize",{width:e.width,height:e.height})}refreshPageProperties(){this.setZoom(this.zoom),this.setScreenContainerPosition(this.screenContainerLeft,this.screenContainerTop)}messageCenterEvent(e){if(e.message==="getScale")this.viewerResized();else if(e.message==="cloud_RefreshPageProperties")this.refreshPageProperties();else if(e.message==="cloud_ScrollToPin"){const t=e.data;t&&t.position&&this.scrollToPosition(t.position)}}inspectorEnabled(){this.isInspect=!0,this.isCloud||(this.zoomButton?this.zoomButton.show():(this.zoomButton=new eI,this.zoomButton.subscribe({changeZoom:e=>{this.zoomPage(e.value)}}))),this.refreshPageProperties()}inspectorDisabled(){this.isInspect=!1,!this.isCloud&&this.zoomButton&&this.zoomButton.hide(),this.refreshPageProperties()}subscribeToEvents(){this.state.subscribe({[J.Resized]:this.resize.bind(this),[J.PageAdded]:this.addPage.bind(this),[J.PageRemoved]:this.removePage.bind(this),[J.PageDidChange]:this.setCurrentPage.bind(this),[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.InspectorEnabled]:this.inspectorEnabled.bind(this),[J.InspectorDisabled]:this.inspectorDisabled.bind(this)}),this.state.subscribeToBridge({[Be.keyboardEvent]:e=>{switch(e){case Hi.spaceBarDown:this.toggleDragMode(!0);break;case Hi.spaceBarUp:this.toggleDragMode(!1);break;case Hi.ctrlOrCmdPlus:this.zoomIn();break;case Hi.ctrlOrCmdMinus:this.zoomOut();break;case Hi.ctrlOrCmdZero:this.zoomPage(100);break}}})}}function nI(i){return yn(i)?"My Expo Project":i.trim()}function sI(i,e){switch(i.Setting.Interaction.Type){case rt.Click:return{onClick:{description:"OnClick",cases:[e]}};case rt.DoubleClick:return{onDoubleClick:{description:"OnDoubleClick",cases:[e]}};case rt.SwipeRight:return{onSwipeRight:{description:"OnSwipeRight",cases:[e]}};case rt.SwipeLeft:return{onSwipeLeft:{description:"OnSwipeLeft",cases:[e]}};case rt.SwipeUp:return{onSwipeUp:{description:"OnSwipeUp",cases:[e]}};case rt.SwipeDown:return{onSwipeDown:{description:"OnSwipeDown",cases:[e]}};default:return null}}function oI(i){switch(i.Type){case Me.PreviousHistoryScreen:case Me.PreviousScreen:case Me.NextScreen:case Me.SetPanelState:return"setPanelState";case Me.PointOnScreen:return"pointOnScreen";case Me.ExternalUrl:return"externalUrl";default:return"none"}}function zu(i,e=!0){switch(i.Easing){case Le.Fade:return"fade";case Le.PushLeft:return e?"slideLeft":"push left";case Le.PushRight:return e?"slideRight":"push right";case Le.SlideLeft:return e?"slideLeft":"slide left";case Le.SlideRight:return e?"slideRight":"slide right";case Le.SlideUp:return e?"slideUp":"slide up";case Le.SlideDown:return e?"slideDown":"slide down";case Le.FlipLeft:return e?"flipLeft":"flip left";case Le.FlipRight:return e?"flipRight":"flip right";case Le.FlipUp:return e?"flipUp":"flip up";case Le.FlipDown:return e?"flipDown":"flip down";case Le.None:default:return"none"}}function aI(i){switch(i.Animation){case Vi.Swing:return"swing";case Vi.Linear:return"linear";case Vi.EaseInCubic:return"easeInCubic";case Vi.EaseOutCubic:return"easeOutCubic";case Vi.EaseInOutCubic:return"easeInOutCubic";case Vi.Bounce:return"bounce";case Vi.Elastic:return"elastic";case Vi.None:default:return"none"}}function lI(i){const e=i.Setting,t=`${zu(e.Interaction.Animation.Out,!1)} out ${e.Interaction.Animation.Out.Duration} ms`,r=`${zu(e.Interaction.Animation.In,!1)} out ${e.Interaction.Animation.Out.Duration} ms`;return`${t} ${r}`}function n0(i){return{easing:zu(i),animation:aI(i),duration:i.Duration}}function cI(i,e,t){if(t.Type===Me.SetPanelState)return t.Setting.TargetArtboardId;switch(t.Type){case Me.PreviousScreen:{const r=Object.values(i).filter(n=>n.NextArtboardId===e.Id);return r.length===0?e.Id:r[0].Id}case Me.NextScreen:return e.NextArtboardId===null||e.NextArtboardId===fc?e.Id:e.NextArtboardId;default:return fc}}function hI(i,e){const t=e+1;return{id:Ft(i.Id),stateNumber:t,label:`State ${t}`,type:"Axure:PanelDiagram",objects:[],style:{},adaptiveStyles:{}}}function uI(i,e,t){return{id:`${Ft(i.Id)}_body`,label:`State ${e+1}: Body DP (Scrollable)`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"verticalAsNeeded",fitToContent:!1,propagate:!1,isExpo:!0,headerHeight:i.HasHeader?i.HeaderHeight:0,footerHeight:i.HasFooter?i.FooterHeight:0,diagrams:[]}}function fI(i,e){return{id:`${Ft(i.Id)}_body_pd`,label:`Scroll Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function dI(i,e,t){return{id:`${Ft(i.Id)}_header`,label:`State ${e+1}: Header DP`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]}}function pI(i,e){return{id:`${Ft(i.Id)}_header_pd`,label:`Header Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function gI(i,e,t){return{id:`${Ft(i.Id)}_footer`,label:`State ${e+1}: Footer DP`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]}}function mI(i,e){return{id:`${Ft(i.Id)}_footer_pd`,label:`Footer Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function Fu(i,e,t=""){return{id:Ft(i.Id)+t,label:"",friendlyType:"Image",parentDynamicPanel:e,panelIndex:0,type:"imageBox",styleType:"imageBox",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},images:{"normal~":""}}}function s0(i,e,t,r,n,s,o,a,l=!1){const c=cI(i,e,t);return{id:Ft(l?`${t.Id}_${e.Id}`:t.Id),label:"",friendlyType:"Hot Spot",parentDynamicPanel:r,panelIndex:0,type:"imageMapRegion",styleType:"imageMapRegion",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},interactionMap:vI(e,t,n,s,c===fc?0:o[c],c,a),tabbable:!0}}function vI(i,e,t,r,n,s,o){let a={};switch(e.Type){case Me.ExternalUrl:a=yI(e,i.Id);break;case Me.PointOnScreen:a=bI(e);break;case Me.PreviousHistoryScreen:case Me.SetPanelState:case Me.NextScreen:case Me.PreviousScreen:default:a=wI(e,n,t,i.Id,s,o);break}return sI(e,{description:`Case ${r}`,conditionString:"",isNewIfGroup:!1,caseColorHex:"13DCD8",actions:[a]})}function yI(i,e){const t=i.Setting,r=`${t.Url} in Parent Frame`;return{action:"linkFrame",description:`Open ${r}`,displayName:"Open Link in Frame",actionInfoDescriptions:{[r]:{[r]:`Open ${r}`}},linkType:"parentFrame",target:{targetType:"webUrl",urlLiteral:{exprType:"stringLiteral",value:t.Url,stos:[]},includeVariables:!1,currArtboardId:e}}}function bI(i){const e=i.Setting,t=e.Location,r=`{x: ${t.X}, y: ${t.Y}} ${e.IsSmoothScroll}`;return{action:"scrollToPosition",description:`Scroll to position ${r}`,displayName:"Scroll to position on screen",actionInfoDescriptions:{[r]:{"":`Scroll to position ${r} on screen`}},linkType:"",target:{position:{x:t.X,y:t.Y},isSmoothScroll:e.IsSmoothScroll},includeVariables:!1}}function o0({Easing:i,Duration:e}){return i===Le.None?0:e}function wI(i,e,t,r,n,s){s.push(n);const{In:o,Out:a}=i.Setting.Interaction.Animation;o.Duration=o0(o),a.Duration=o0(a);const l=lI(i);let c=`Setting artboardId: ${r} to ${n} `;switch(i.Type){case Me.SetPanelState:c=[c,n," (State ",e,")"].join("");break;case Me.PreviousScreen:c+="previous screen";break;case Me.NextScreen:c+="next screen";break;case Me.PreviousHistoryScreen:c="Setting screen to previous screen in history";break}let h="diagram";switch(i.Type){case Me.PreviousScreen:h="previous";break;case Me.NextScreen:h="next";break;case Me.PreviousHistoryScreen:h="previous-history";break}const u={action:oI(i),description:`${c} ${l}`,actionInfoDescriptions:{[c]:{[l]:`${c} ${l}`}},panelsToStates:[{panelPath:[t],stateInfo:{setStateType:h,stateNumber:e,originAbId:r,targetAbId:n,stateValue:{exprType:"stringLiteral",value:"1",stos:[]},loop:!1,showWhenSet:!1,options:{animateIn:n0(i.Setting.Interaction.Animation.In),compress:!1}}}]},f=i.Setting.Interaction.Animation.Out.Easing;return(f===Le.PushLeft||f===Le.PushRight)&&(u.panelsToStates[0].stateInfo.options.animateOut=n0(i.Setting.Interaction.Animation.Out)),u}function SI(i,e,t,r,n,s,o,a){function l(p,g){o[p]={scriptId:`u${g}`}}const c={};let h=0;for(const p of r)c[p]=++h;const u={packageId:_S(),type:"Axure:Page",name:"__ExpoDummyRootPage__",notes:{},style:{baseStyle:"627587b6038d43cca051c114ac41ad32",pageAlignment:"near",fill:{fillType:"solid",color:4294967295},image:null,imageHorizontalAlignment:"near",imageVerticalAlignment:"near",imageRepeat:"auto",favicon:null,sketchFactor:"0",colorStyle:"appliedColor",fontName:"Applied Font",borderWidth:"0"},adaptiveStyles:{},interactionMap:{},diagram:{objects:[]}},f={id:Ft(i),label:"Root Panel",friendlyType:"Dynamic Panel",type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]};let d=0;l(f.id,d++),h=0;for(const p in t)if(Object.prototype.hasOwnProperty.call(t,p)){const g=t[p],y=n[g.AssetId],v=hI(g,h),S=uI(g,h,f.id),k=fI(g,h),P=Fu(y,S.id),T=dI(g,h,f.id),R=pI(g,h),D=Fu(y,T.id,"_headerImg"),j=gI(g,h,f.id),M=mI(g,h),G=Fu(y,j.id,"_footerImg");l(S.id,d++),l(P.id,d++),g.HasHeader&&(l(T.id,d++),l(D.id,d++)),g.HasFooter&&(l(j.id,d++),l(G.id,d++)),k.objects.push(P),a[P.id]={children:[],isProcessed:!1},g.HasHeader&&R.objects.push(D),g.HasFooter&&M.objects.push(G);let re=0;for(const w in g.ActionPool.Actions)if(Object.prototype.hasOwnProperty.call(g.ActionPool.Actions,w)){const C=g.ActionPool.Actions[w],m=s0(t,g,C,S.id,f.id,re++,c,a[P.id].children);l(m.id,d++),k.objects.push(m)}for(const w in g.MasterIds)if(Object.prototype.hasOwnProperty.call(g.MasterIds,w)){const C=s[g.MasterIds[w]];for(const m in C.Actions)if(Object.prototype.hasOwnProperty.call(C.Actions,m)){const L=C.Actions[m],Y=s0(t,g,L,S.id,f.id,re++,c,a[P.id].children,!0);l(Y.id,d++),k.objects.push(Y)}}S.diagrams.push(k),g.HasHeader&&T.diagrams.push(R),g.HasFooter&&j.diagrams.push(M),v.objects.push(S),g.HasHeader&&v.objects.push(T),g.HasFooter&&v.objects.push(j),f.diagrams.push(v),++h}return u.diagram.objects.push(f),u}function a0(i,e,t,r,n,s,o,a,l){const c={url:`${nI(e).toLowerCase().replace(/ /g,"_")}.html`,generationDate:new Date,orientation:t.Settings.Orientation,isCanvasEnabled:!1,defaultAdaptiveView:{name:"Base",size:{width:t.Settings.Dimensions.Width,height:t.Settings.Dimensions.Height}},adaptiveViews:[],isAdaptiveEnabled:!1,sketchKeys:{"":"s0"},variables:["OnLoadVariable"],page:SI(i,e,r,n,s,o,a,l),masters:{},objectPaths:{},imgLoadTree:{},isExpo:!0,isExpoWeb:t.Device===cr.Web};return c.objectPaths=a,c.imgLoadTree=l,c}function xI(){return{id:"627587b6038d43cca051c114ac41ad32",fontName:"Ariel",fontWeight:"400",fontStyle:"normal",fontStretch:"5",foreGroundFill:{fillType:"solid",color:4281545523,opacity:1},fontSize:"13px",underline:!1,horizontalAlignment:"center",lineSpacing:"normal",location:{x:0,y:0},size:{height:0,width:0},visible:!0,limbo:!1,baseStyle:"627587b6038d43cca051c114ac41ad32",fill:{fillType:"solid",color:4294967295},borderFill:{fillType:"solid",color:4286151033},borderWidth:"1",linePattern:"solid",opacity:"1",cornerRadius:"0",verticalAlignment:"middle",paddingLeft:"2",paddingTop:"2",paddingRight:"2",paddingBottom:"2",stateStyles:{},rotation:"0",textRotation:"0",outerShadow:{on:!1,offsetX:5,offsetY:5,blurRadius:5,color:{r:0,g:0,b:0,a:.349019607843137}},innerShadow:{on:!1,offsetX:0,offsetY:5,blurRadius:5,color:{r:0,g:0,b:0,a:.349019607843137}},textShadow:{on:!1,offsetX:1,offsetY:1,blurRadius:5,color:{r:0,g:0,b:0,a:.647058823529412}}}}function OI(i,e,t=!0,r=!0){return{showPageNotes:!1,showPageNoteNames:!1,showAnnotations:!1,showAnnotationsSidebar:!1,showConsole:!1,linkStyle:"displayMultipleTargetsOnly",linkFlowsToPages:!0,linkFlowsToPagesNewWindow:!1,hideAddress:!1,preventScroll:!1,useLabels:!1,enabledViewIds:["a"],loadFeedbackPlugin:t,prototypeId:i,isAxshare:!0,isExpo:!0,isMobile:e.Device!==cr.Web,loadSitemap:r,useViews:!0,logoImagePath:"resources/images/axure_logo.png"}}function CI(i){const e=yn(i)?"My Expo Project":i.trim();return{rootNodes:[{pageName:e,type:"Wireframe",url:`${e.toLowerCase().replace(/ /g,"_")}.html`}]}}function kI(){return{onloadvariable:""}}function AI(i){const e=i!=null?i.Settings.Dimensions:{Width:300,Height:600};return{name:"Base",size:{width:e.Width,height:e.Height},condition:"<="}}function _I(){return[{id:"a",name:"Portrait Phone",size:{height:0,width:320},condition:"<="}]}function PI(){return{defaultStyle:xI(),customStyles:{},duplicateStyles:{}}}function l0(i,e,t,r=!0,n=!0){return{configuration:OI(i,t,r,n),sitemap:CI(e),globalVariables:kI(),defaultAdaptiveView:AI(t),adaptiveViews:_I(),stylesheet:PI(),isLoaded:!1}}class EI{constructor(){A(this,"shortcutKey");A(this,"project");A(this,"idMap");A(this,"isLoaded");A(this,"enableLazyLoading");A(this,"generations");A(this,"docObj");A(this,"dataObj");A(this,"objPaths");A(this,"imgProcessedList");A(this,"imgLoadTree");A(this,"stateHistory");this.shortcutKey="",this.project=void 0,this.idMap={},this.isLoaded=!1,this.enableLazyLoading=!0,this.generations=2,this.docObj=null,this.dataObj=null,this.objPaths=null,this.imgProcessedList=[],this.imgLoadTree=null,this.stateHistory=new hp}setPlayerState(e,t){if(e==null||!this.objPaths)return;const r=this.objPaths[Ft(e.AssetId)];if(!r)return;const n=$(t[0].contentDocument),s=`${r.scriptId}_img`;this.processImgSeed(s,n);const o=t.contents().find(".panel_state[artboardid]"),a=o.filter(":visible"),l=o.filter(`[artboardid="${e.Id}"]`);a.css("visibility","hidden").hide(),l.css("visibility","").show(),window.$axure.messageCenter.postMessage("handleExpoStateChange")}pushHistory(e){this.stateHistory.push(e)}popHistory(){if(!this.project)return null;const e=this.stateHistory.pop();return yn(e)?null:e}processImgSeed(e,t){this.processImgSeeds([e],t,this.generations)}processImgSeeds(e,t,r){if(!this.imgProcessedList||!this.imgLoadTree||!this.enableLazyLoading)return;const{imgLoadTree:n}=this,{imgProcessedList:s}=this;$.each(e,(a,l)=>{if(!n||!n[l]||n[l].isProcessed)return;const c=t.find(`#${l}`),h=c.attr("_src");h!==void 0&&!yn(h)&&(c[0].setAttribute("src",h),c.removeAttr("_src"),s.push(l))});let o=r!==void 0?r:this.generations;o--!==0&&$.each(e,(a,l)=>{n&&n&&n[l]&&(this.processImgSeeds(n[l].children,t,o),n[l].isProcessed=!0)})}generatePrototypeAssets(){if(!this.project)return!1;const e={},t={};this.docObj=l0(this.shortcutKey,this.project.name,this.project.platform),this.dataObj=a0(this.project.id,this.project.name,this.project.platform,this.project.artboards,this.project.artboardsOrder,this.project.assets,this.project.masters,e,t),this.objPaths=e,this.imgLoadTree=t,window.$axure&&window.$axure.loadDocument&&(window.$axure.expo||(window.$axure.expo={isExpoPreviewPinsDisabled:WS}),window.$axure.expo.platform=this.project.platform,window.$axure.loadDocument(this.docObj))}previewPrototype(e){if(!this.project)return!1;const t=this.objPaths==null?{}:this.objPaths,r=this.imgLoadTree==null?{}:this.imgLoadTree,n=window.document.getElementById("mainFrame");if(!n)return!1;const s=this.docObj==null?l0(this.shortcutKey,this.project.name,this.project.platform):this.docObj,o=this.dataObj==null?a0(this.project.id,this.project.name,this.project.platform,this.project.artboards,this.project.artboardsOrder,this.project.assets,this.project.masters,t,r):this.dataObj,a="";n&&n.contentDocument&&(n.contentDocument.open(),n.contentDocument.write(""),n.contentDocument.close()),this.processProject(s,o,a,e),this.prepImgTree(r,t,this.project.artboards);const l=this.imgLoadTree,{contentWindow:c}=n;if(l!==null&&Object.keys(l).length&&c){const h=c.document.getElementById("base");this.processImgSeed(Object.keys(l)[0],$(h))}}prepImgTree(e,t,r){const n={};$.each(Object.keys(e),(s,o)=>{const a=`${t[o].scriptId}_img`;n[a]={children:[],isProcessed:!1},$.each(e[o].children,(l,c)=>{!yn(c)&&r[c]&&n[a].children.push(`${t[Ft(r[c].AssetId)].scriptId}_img`)})}),this.imgLoadTree=n,this.imgProcessedList=[]}processProject(e,t,r,n){const s=$("#mainFrame"),o="resources/scripts/",a="resources/css/",l=["jquery-3.2.1.min.js","axure/jquery.nicescroll.min.js","axure/axQuery.js","axure/axQuery.std.js","axure/utils.temp.js","axutils.js","messagecenter.js","axure/visibility.js","axure/repeater.js","axure/adaptive.js","axure/events.js","axure/recording.js","axure/action.js","axure/expr.js","axure/geometry.js","axure/flyout.js","axure/model.js","axure/sto.js","axure/variables.js","axure/doc.js","axure/drag.js","axure/move.js","axure/style.js","axure/tree.js","axure/init.temp.js","axure/legacy.js","axure/viewer.js","axure/math.js"],c=["axure_rp_page.css"];if(s){const{contentDocument:p}=s[0];p!=null&&(p.open(),p.write(r))}else $("#mainFrame").append(r);const h=(s||$("#mainFrame")).contents().find("head");$.each(l,(p,g)=>{$1(o+g,h[0])}),$.each(c,(p,g)=>{Ho(a+g,h[0])});const u=[];if(s){const{contentDocument:p}=s[0];p!=null&&$(p.body).find("#base").find("div, img").each((g,y)=>{u.push(y.id)})}else $("#mainFrame").find("#base").find("div, img").each((p,g)=>{u.push(g.id)});const f=this,d=s?s[0].contentWindow:window;(function p(){if(d!=null&&d.$axure&&d.$axure.loadDoc&&d.$axure.loadDocument&&d.$axure.loadCurrentPage&&d.$axure.initializeObject&&d.$axure.initializeObjectEvents){if(s){const g=s[0].contentDocument;g!==null&&g.close()}d.$axure.loadDoc(e),d.$axure.loadDocument(e),d.$axure.loadCurrentPage(t),d.$axure.initializeObjectEvents(u,null,!0,!0),n!=null&&n(),f.isLoaded=!0}else setTimeout(p,1e3)})()}}/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var Xt=Object.freeze({}),Oe=Array.isArray;function ye(i){return i==null}function Q(i){return i!=null}function Qe(i){return i===!0}function TI(i){return i===!1}function Js(i){return typeof i=="string"||typeof i=="number"||typeof i=="symbol"||typeof i=="boolean"}function Xe(i){return typeof i=="function"}function xt(i){return i!==null&&typeof i=="object"}var dl=Object.prototype.toString;function II(i){return dl.call(i).slice(8,-1)}function Bt(i){return dl.call(i)==="[object Object]"}function RI(i){return dl.call(i)==="[object RegExp]"}function c0(i){var e=parseFloat(String(i));return e>=0&&Math.floor(e)===e&&isFinite(i)}function Hu(i){return Q(i)&&typeof i.then=="function"&&typeof i.catch=="function"}function DI(i){return i==null?"":Array.isArray(i)||Bt(i)&&i.toString===dl?JSON.stringify(i,null,2):String(i)}function eo(i){var e=parseFloat(i);return isNaN(e)?i:e}function ci(i,e){for(var t=Object.create(null),r=i.split(","),n=0;n<r.length;n++)t[r[n]]=!0;return e?function(s){return t[s.toLowerCase()]}:function(s){return t[s]}}ci("slot,component",!0);var LI=ci("key,ref,slot,slot-scope,is");function Er(i,e){var t=i.length;if(t){if(e===i[t-1]){i.length=t-1;return}var r=i.indexOf(e);if(r>-1)return i.splice(r,1)}}var $I=Object.prototype.hasOwnProperty;function Pt(i,e){return $I.call(i,e)}function tn(i){var e=Object.create(null);return function(r){var n=e[r];return n||(e[r]=i(r))}}var MI=/-(\w)/g,rn=tn(function(i){return i.replace(MI,function(e,t){return t?t.toUpperCase():""})}),BI=tn(function(i){return i.charAt(0).toUpperCase()+i.slice(1)}),NI=/\B([A-Z])/g,to=tn(function(i){return i.replace(NI,"-$1").toLowerCase()});function zI(i,e){function t(r){var n=arguments.length;return n?n>1?i.apply(e,arguments):i.call(e,r):i.call(e)}return t._length=i.length,t}function FI(i,e){return i.bind(e)}var h0=Function.prototype.bind?FI:zI;function Wu(i,e){e=e||0;for(var t=i.length-e,r=new Array(t);t--;)r[t]=i[t+e];return r}function Fe(i,e){for(var t in e)i[t]=e[t];return i}function u0(i){for(var e={},t=0;t<i.length;t++)i[t]&&Fe(e,i[t]);return e}function ht(i,e,t){}var pl=function(i,e,t){return!1},f0=function(i){return i};function nn(i,e){if(i===e)return!0;var t=xt(i),r=xt(e);if(t&&r)try{var n=Array.isArray(i),s=Array.isArray(e);if(n&&s)return i.length===e.length&&i.every(function(l,c){return nn(l,e[c])});if(i instanceof Date&&e instanceof Date)return i.getTime()===e.getTime();if(!n&&!s){var o=Object.keys(i),a=Object.keys(e);return o.length===a.length&&o.every(function(l){return nn(i[l],e[l])})}else return!1}catch{return!1}else return!t&&!r?String(i)===String(e):!1}function d0(i,e){for(var t=0;t<i.length;t++)if(nn(i[t],e))return t;return-1}function gl(i){var e=!1;return function(){e||(e=!0,i.apply(this,arguments))}}function HI(i,e){return i===e?i===0&&1/i!==1/e:i===i||e===e}var p0="data-server-rendered",ml=["component","directive","filter"],g0=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Jt={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:pl,isReservedAttr:pl,isUnknownElement:pl,getTagNamespace:ht,parsePlatformTagName:f0,mustUseProp:pl,async:!0,_lifecycleHooks:g0},WI=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function m0(i){var e=(i+"").charCodeAt(0);return e===36||e===95}function Tr(i,e,t,r){Object.defineProperty(i,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var jI=new RegExp("[^".concat(WI.source,".$_\\d]"));function VI(i){if(!jI.test(i)){var e=i.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}var UI="__proto__"in{},Gt=typeof window<"u",ei=Gt&&window.navigator.userAgent.toLowerCase(),Kn=ei&&/msie|trident/.test(ei),Zn=ei&&ei.indexOf("msie 9.0")>0,v0=ei&&ei.indexOf("edge/")>0;ei&&ei.indexOf("android")>0;var XI=ei&&/iphone|ipad|ipod|ios/.test(ei),y0=ei&&ei.match(/firefox\/(\d+)/),ju={}.watch,b0=!1;if(Gt)try{var w0={};Object.defineProperty(w0,"passive",{get:function(){b0=!0}}),window.addEventListener("test-passive",null,w0)}catch{}var vl,io=function(){return vl===void 0&&(!Gt&&typeof global<"u"?vl=global.process&&global.process.env.VUE_ENV==="server":vl=!1),vl},yl=Gt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Jn(i){return typeof i=="function"&&/native code/.test(i.toString())}var ro=typeof Symbol<"u"&&Jn(Symbol)&&typeof Reflect<"u"&&Jn(Reflect.ownKeys),no;typeof Set<"u"&&Jn(Set)?no=Set:no=function(){function i(){this.set=Object.create(null)}return i.prototype.has=function(e){return this.set[e]===!0},i.prototype.add=function(e){this.set[e]=!0},i.prototype.clear=function(){this.set=Object.create(null)},i}();var so=null;function Ir(i){i===void 0&&(i=null),i||so&&so._scope.off(),so=i,i&&i._scope.on()}var Qt=function(){function i(e,t,r,n,s,o,a,l){this.tag=e,this.data=t,this.children=r,this.text=n,this.elm=s,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(i.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),i}(),sn=function(i){i===void 0&&(i="");var e=new Qt;return e.text=i,e.isComment=!0,e};function es(i){return new Qt(void 0,void 0,void 0,String(i))}function Vu(i){var e=new Qt(i.tag,i.data,i.children&&i.children.slice(),i.text,i.elm,i.context,i.componentOptions,i.asyncFactory);return e.ns=i.ns,e.isStatic=i.isStatic,e.key=i.key,e.isComment=i.isComment,e.fnContext=i.fnContext,e.fnOptions=i.fnOptions,e.fnScopeId=i.fnScopeId,e.asyncMeta=i.asyncMeta,e.isCloned=!0,e}var GI=0,bl=[],QI=function(){for(var i=0;i<bl.length;i++){var e=bl[i];e.subs=e.subs.filter(function(t){return t}),e._pending=!1}bl.length=0},Rr=function(){function i(){this._pending=!1,this.id=GI++,this.subs=[]}return i.prototype.addSub=function(e){this.subs.push(e)},i.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,bl.push(this))},i.prototype.depend=function(e){i.target&&i.target.addDep(this)},i.prototype.notify=function(e){for(var t=this.subs.filter(function(o){return o}),r=0,n=t.length;r<n;r++){var s=t[r];s.update()}},i}();Rr.target=null;var wl=[];function ts(i){wl.push(i),Rr.target=i}function is(){wl.pop(),Rr.target=wl[wl.length-1]}var S0=Array.prototype,Sl=Object.create(S0),YI=["push","pop","shift","unshift","splice","sort","reverse"];YI.forEach(function(i){var e=S0[i];Tr(Sl,i,function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r),o=this.__ob__,a;switch(i){case"push":case"unshift":a=r;break;case"splice":a=r.slice(2);break}return a&&o.observeArray(a),o.dep.notify(),s})});var x0=Object.getOwnPropertyNames(Sl),O0={},Uu=!0;function Dr(i){Uu=i}var qI={notify:ht,depend:ht,addSub:ht,removeSub:ht},C0=function(){function i(e,t,r){if(t===void 0&&(t=!1),r===void 0&&(r=!1),this.value=e,this.shallow=t,this.mock=r,this.dep=r?qI:new Rr,this.vmCount=0,Tr(e,"__ob__",this),Oe(e)){if(!r)if(UI)e.__proto__=Sl;else for(var n=0,s=x0.length;n<s;n++){var o=x0[n];Tr(e,o,Sl[o])}t||this.observeArray(e)}else for(var a=Object.keys(e),n=0;n<a.length;n++){var o=a[n];on(e,o,O0,void 0,t,r)}}return i.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)qi(e[t],!1,this.mock)},i}();function qi(i,e,t){if(i&&Pt(i,"__ob__")&&i.__ob__ instanceof C0)return i.__ob__;if(Uu&&(t||!io())&&(Oe(i)||Bt(i))&&Object.isExtensible(i)&&!i.__v_skip&&!$i(i)&&!(i instanceof Qt))return new C0(i,e,t)}function on(i,e,t,r,n,s){var o=new Rr,a=Object.getOwnPropertyDescriptor(i,e);if(!(a&&a.configurable===!1)){var l=a&&a.get,c=a&&a.set;(!l||c)&&(t===O0||arguments.length===2)&&(t=i[e]);var h=!n&&qi(t,!1,s);return Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:function(){var f=l?l.call(i):t;return Rr.target&&(o.depend(),h&&(h.dep.depend(),Oe(f)&&A0(f))),$i(f)&&!n?f.value:f},set:function(f){var d=l?l.call(i):t;if(HI(d,f)){if(c)c.call(i,f);else{if(l)return;if(!n&&$i(d)&&!$i(f)){d.value=f;return}else t=f}h=!n&&qi(f,!1,s),o.notify()}}}),o}}function Xu(i,e,t){if(!Gu(i)){var r=i.__ob__;return Oe(i)&&c0(e)?(i.length=Math.max(i.length,e),i.splice(e,1,t),r&&!r.shallow&&r.mock&&qi(t,!1,!0),t):e in i&&!(e in Object.prototype)?(i[e]=t,t):i._isVue||r&&r.vmCount?t:r?(on(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(i[e]=t,t)}}function k0(i,e){if(Oe(i)&&c0(e)){i.splice(e,1);return}var t=i.__ob__;i._isVue||t&&t.vmCount||Gu(i)||Pt(i,e)&&(delete i[e],t&&t.dep.notify())}function A0(i){for(var e=void 0,t=0,r=i.length;t<r;t++)e=i[t],e&&e.__ob__&&e.__ob__.dep.depend(),Oe(e)&&A0(e)}function _0(i){return KI(i,!0),Tr(i,"__v_isShallow",!0),i}function KI(i,e){Gu(i)||qi(i,e,io())}function Gu(i){return!!(i&&i.__v_isReadonly)}function $i(i){return!!(i&&i.__v_isRef===!0)}function Qu(i,e,t){Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:function(){var r=e[t];if($i(r))return r.value;var n=r&&r.__ob__;return n&&n.dep.depend(),r},set:function(r){var n=e[t];$i(n)&&!$i(r)?n.value=r:e[t]=r}})}var Yt,ZI=function(){function i(e){e===void 0&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Yt,!e&&Yt&&(this.index=(Yt.scopes||(Yt.scopes=[])).push(this)-1)}return i.prototype.run=function(e){if(this.active){var t=Yt;try{return Yt=this,e()}finally{Yt=t}}},i.prototype.on=function(){Yt=this},i.prototype.off=function(){Yt=this.parent},i.prototype.stop=function(e){if(this.active){var t=void 0,r=void 0;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].teardown();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}},i}();function JI(i,e){e===void 0&&(e=Yt),e&&e.active&&e.effects.push(i)}function e2(i){var e=i._provided,t=i.$parent&&i.$parent._provided;return t===e?i._provided=Object.create(t):e}var P0=tn(function(i){var e=i.charAt(0)==="&";i=e?i.slice(1):i;var t=i.charAt(0)==="~";i=t?i.slice(1):i;var r=i.charAt(0)==="!";return i=r?i.slice(1):i,{name:i,once:t,capture:r,passive:e}});function Yu(i,e){function t(){var r=t.fns;if(Oe(r))for(var n=r.slice(),s=0;s<n.length;s++)$r(n[s],null,arguments,e,"v-on handler");else return $r(r,null,arguments,e,"v-on handler")}return t.fns=i,t}function E0(i,e,t,r,n,s){var o,a,l,c;for(o in i)a=i[o],l=e[o],c=P0(o),ye(a)||(ye(l)?(ye(a.fns)&&(a=i[o]=Yu(a,s)),Qe(c.once)&&(a=i[o]=n(c.name,a,c.capture)),t(c.name,a,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,i[o]=l));for(o in e)ye(i[o])&&(c=P0(o),r(c.name,e[o],c.capture))}function Lr(i,e,t){i instanceof Qt&&(i=i.data.hook||(i.data.hook={}));var r,n=i[e];function s(){t.apply(this,arguments),Er(r.fns,s)}ye(n)?r=Yu([s]):Q(n.fns)&&Qe(n.merged)?(r=n,r.fns.push(s)):r=Yu([n,s]),r.merged=!0,i[e]=r}function t2(i,e,t){var r=e.options.props;if(!ye(r)){var n={},s=i.attrs,o=i.props;if(Q(s)||Q(o))for(var a in r){var l=to(a);T0(n,o,a,l,!0)||T0(n,s,a,l,!1)}return n}}function T0(i,e,t,r,n){if(Q(e)){if(Pt(e,t))return i[t]=e[t],n||delete e[t],!0;if(Pt(e,r))return i[t]=e[r],n||delete e[r],!0}return!1}function i2(i){for(var e=0;e<i.length;e++)if(Oe(i[e]))return Array.prototype.concat.apply([],i);return i}function qu(i){return Js(i)?[es(i)]:Oe(i)?I0(i):void 0}function oo(i){return Q(i)&&Q(i.text)&&TI(i.isComment)}function I0(i,e){var t=[],r,n,s,o;for(r=0;r<i.length;r++)n=i[r],!(ye(n)||typeof n=="boolean")&&(s=t.length-1,o=t[s],Oe(n)?n.length>0&&(n=I0(n,"".concat(e||"","_").concat(r)),oo(n[0])&&oo(o)&&(t[s]=es(o.text+n[0].text),n.shift()),t.push.apply(t,n)):Js(n)?oo(o)?t[s]=es(o.text+n):n!==""&&t.push(es(n)):oo(n)&&oo(o)?t[s]=es(o.text+n.text):(Qe(i._isVList)&&Q(n.tag)&&ye(n.key)&&Q(e)&&(n.key="__vlist".concat(e,"_").concat(r,"__")),t.push(n)));return t}function r2(i,e){var t=null,r,n,s,o;if(Oe(i)||typeof i=="string")for(t=new Array(i.length),r=0,n=i.length;r<n;r++)t[r]=e(i[r],r);else if(typeof i=="number")for(t=new Array(i),r=0;r<i;r++)t[r]=e(r+1,r);else if(xt(i))if(ro&&i[Symbol.iterator]){t=[];for(var a=i[Symbol.iterator](),l=a.next();!l.done;)t.push(e(l.value,t.length)),l=a.next()}else for(s=Object.keys(i),t=new Array(s.length),r=0,n=s.length;r<n;r++)o=s[r],t[r]=e(i[o],o,r);return Q(t)||(t=[]),t._isVList=!0,t}function n2(i,e,t,r){var n=this.$scopedSlots[i],s;n?(t=t||{},r&&(t=Fe(Fe({},r),t)),s=n(t)||(Xe(e)?e():e)):s=this.$slots[i]||(Xe(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},s):s}function s2(i){return Tl(this.$options,"filters",i)||f0}function R0(i,e){return Oe(i)?i.indexOf(e)===-1:i!==e}function o2(i,e,t,r,n){var s=Jt.keyCodes[e]||t;return n&&r&&!Jt.keyCodes[e]?R0(n,r):s?R0(s,i):r?to(r)!==e:i===void 0}function a2(i,e,t,r,n){if(t&&xt(t)){Oe(t)&&(t=u0(t));var s=void 0,o=function(l){if(l==="class"||l==="style"||LI(l))s=i;else{var c=i.attrs&&i.attrs.type;s=r||Jt.mustUseProp(e,c,l)?i.domProps||(i.domProps={}):i.attrs||(i.attrs={})}var h=rn(l),u=to(l);if(!(h in s)&&!(u in s)&&(s[l]=t[l],n)){var f=i.on||(i.on={});f["update:".concat(l)]=function(d){t[l]=d}}};for(var a in t)o(a)}return i}function l2(i,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[i];return r&&!e||(r=t[i]=this.$options.staticRenderFns[i].call(this._renderProxy,this._c,this),D0(r,"__static__".concat(i),!1)),r}function c2(i,e,t){return D0(i,"__once__".concat(e).concat(t?"_".concat(t):""),!0),i}function D0(i,e,t){if(Oe(i))for(var r=0;r<i.length;r++)i[r]&&typeof i[r]!="string"&&L0(i[r],"".concat(e,"_").concat(r),t);else L0(i,e,t)}function L0(i,e,t){i.isStatic=!0,i.key=e,i.isOnce=t}function h2(i,e){if(e&&Bt(e)){var t=i.on=i.on?Fe({},i.on):{};for(var r in e){var n=t[r],s=e[r];t[r]=n?[].concat(n,s):s}}return i}function $0(i,e,t,r){e=e||{$stable:!t};for(var n=0;n<i.length;n++){var s=i[n];Oe(s)?$0(s,e,t):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function u2(i,e){for(var t=0;t<e.length;t+=2){var r=e[t];typeof r=="string"&&r&&(i[e[t]]=e[t+1])}return i}function f2(i,e){return typeof i=="string"?e+i:i}function M0(i){i._o=c2,i._n=eo,i._s=DI,i._l=r2,i._t=n2,i._q=nn,i._i=d0,i._m=l2,i._f=s2,i._k=o2,i._b=a2,i._v=es,i._e=sn,i._u=$0,i._g=h2,i._d=u2,i._p=f2}function Ku(i,e){if(!i||!i.length)return{};for(var t={},r=0,n=i.length;r<n;r++){var s=i[r],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,(s.context===e||s.fnContext===e)&&o&&o.slot!=null){var a=o.slot,l=t[a]||(t[a]=[]);s.tag==="template"?l.push.apply(l,s.children||[]):l.push(s)}else(t.default||(t.default=[])).push(s)}for(var c in t)t[c].every(d2)&&delete t[c];return t}function d2(i){return i.isComment&&!i.asyncFactory||i.text===" "}function ao(i){return i.isComment&&i.asyncFactory}function lo(i,e,t,r){var n,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,a=e&&e.$key;if(!e)n={};else{if(e._normalized)return e._normalized;if(o&&r&&r!==Xt&&a===r.$key&&!s&&!r.$hasNormal)return r;n={};for(var l in e)e[l]&&l[0]!=="$"&&(n[l]=p2(i,t,l,e[l]))}for(var c in t)c in n||(n[c]=g2(t,c));return e&&Object.isExtensible(e)&&(e._normalized=n),Tr(n,"$stable",o),Tr(n,"$key",a),Tr(n,"$hasNormal",s),n}function p2(i,e,t,r){var n=function(){var s=so;Ir(i);var o=arguments.length?r.apply(null,arguments):r({});o=o&&typeof o=="object"&&!Oe(o)?[o]:qu(o);var a=o&&o[0];return Ir(s),o&&(!a||o.length===1&&a.isComment&&!ao(a))?void 0:o};return r.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function g2(i,e){return function(){return i[e]}}function m2(i){var e=i.$options,t=e.setup;if(t){var r=i._setupContext=v2(i);Ir(i),ts();var n=$r(t,null,[i._props||_0({}),r],i,"setup");if(is(),Ir(),Xe(n))e.render=n;else if(xt(n))if(i._setupState=n,n.__sfc){var o=i._setupProxy={};for(var s in n)s!=="__sfc"&&Qu(o,n,s)}else for(var s in n)m0(s)||Qu(i,n,s)}}function v2(i){return{get attrs(){if(!i._attrsProxy){var e=i._attrsProxy={};Tr(e,"_v_attr_proxy",!0),xl(e,i.$attrs,Xt,i,"$attrs")}return i._attrsProxy},get listeners(){if(!i._listenersProxy){var e=i._listenersProxy={};xl(e,i.$listeners,Xt,i,"$listeners")}return i._listenersProxy},get slots(){return b2(i)},emit:h0(i.$emit,i),expose:function(e){e&&Object.keys(e).forEach(function(t){return Qu(i,e,t)})}}}function xl(i,e,t,r,n){var s=!1;for(var o in e)o in i?e[o]!==t[o]&&(s=!0):(s=!0,y2(i,o,r,n));for(var o in i)o in e||(s=!0,delete i[o]);return s}function y2(i,e,t,r){Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function b2(i){return i._slotsProxy||B0(i._slotsProxy={},i.$scopedSlots),i._slotsProxy}function B0(i,e){for(var t in e)i[t]=e[t];for(var t in i)t in e||delete i[t]}function w2(i){i._vnode=null,i._staticTrees=null;var e=i.$options,t=i.$vnode=e._parentVnode,r=t&&t.context;i.$slots=Ku(e._renderChildren,r),i.$scopedSlots=t?lo(i.$parent,t.data.scopedSlots,i.$slots):Xt,i._c=function(s,o,a,l){return Ol(i,s,o,a,l,!1)},i.$createElement=function(s,o,a,l){return Ol(i,s,o,a,l,!0)};var n=t&&t.data;on(i,"$attrs",n&&n.attrs||Xt,null,!0),on(i,"$listeners",e._parentListeners||Xt,null,!0)}var Zu=null;function S2(i){M0(i.prototype),i.prototype.$nextTick=function(e){return nf(e,this)},i.prototype._render=function(){var e=this,t=e.$options,r=t.render,n=t._parentVnode;n&&e._isMounted&&(e.$scopedSlots=lo(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&B0(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var s;try{Ir(e),Zu=e,s=r.call(e._renderProxy,e.$createElement)}catch(o){an(o,e,"render"),s=e._vnode}finally{Zu=null,Ir()}return Oe(s)&&s.length===1&&(s=s[0]),s instanceof Qt||(s=sn()),s.parent=n,s}}function Ju(i,e){return(i.__esModule||ro&&i[Symbol.toStringTag]==="Module")&&(i=i.default),xt(i)?e.extend(i):i}function x2(i,e,t,r,n){var s=sn();return s.asyncFactory=i,s.asyncMeta={data:e,context:t,children:r,tag:n},s}function O2(i,e){if(Qe(i.error)&&Q(i.errorComp))return i.errorComp;if(Q(i.resolved))return i.resolved;var t=Zu;if(t&&Q(i.owners)&&i.owners.indexOf(t)===-1&&i.owners.push(t),Qe(i.loading)&&Q(i.loadingComp))return i.loadingComp;if(t&&!Q(i.owners)){var r=i.owners=[t],n=!0,s=null,o=null;t.$on("hook:destroyed",function(){return Er(r,t)});var a=function(u){for(var f=0,d=r.length;f<d;f++)r[f].$forceUpdate();u&&(r.length=0,s!==null&&(clearTimeout(s),s=null),o!==null&&(clearTimeout(o),o=null))},l=gl(function(u){i.resolved=Ju(u,e),n?r.length=0:a(!0)}),c=gl(function(u){Q(i.errorComp)&&(i.error=!0,a(!0))}),h=i(l,c);return xt(h)&&(Hu(h)?ye(i.resolved)&&h.then(l,c):Hu(h.component)&&(h.component.then(l,c),Q(h.error)&&(i.errorComp=Ju(h.error,e)),Q(h.loading)&&(i.loadingComp=Ju(h.loading,e),h.delay===0?i.loading=!0:s=setTimeout(function(){s=null,ye(i.resolved)&&ye(i.error)&&(i.loading=!0,a(!1))},h.delay||200)),Q(h.timeout)&&(o=setTimeout(function(){o=null,ye(i.resolved)&&c(null)},h.timeout)))),n=!1,i.loading?i.loadingComp:i.resolved}}function N0(i){if(Oe(i))for(var e=0;e<i.length;e++){var t=i[e];if(Q(t)&&(Q(t.componentOptions)||ao(t)))return t}}var C2=1,z0=2;function Ol(i,e,t,r,n,s){return(Oe(t)||Js(t))&&(n=r,r=t,t=void 0),Qe(s)&&(n=z0),k2(i,e,t,r,n)}function k2(i,e,t,r,n){if(Q(t)&&Q(t.__ob__)||(Q(t)&&Q(t.is)&&(e=t.is),!e))return sn();Oe(r)&&Xe(r[0])&&(t=t||{},t.scopedSlots={default:r[0]},r.length=0),n===z0?r=qu(r):n===C2&&(r=i2(r));var s,o;if(typeof e=="string"){var a=void 0;o=i.$vnode&&i.$vnode.ns||Jt.getTagNamespace(e),Jt.isReservedTag(e)?s=new Qt(Jt.parsePlatformTagName(e),t,r,void 0,void 0,i):(!t||!t.pre)&&Q(a=Tl(i.$options,"components",e))?s=eb(a,t,i,r,e):s=new Qt(e,t,r,void 0,void 0,i)}else s=eb(e,t,i,r);return Oe(s)?s:Q(s)?(Q(o)&&F0(s,o),Q(t)&&A2(t),s):sn()}function F0(i,e,t){if(i.ns=e,i.tag==="foreignObject"&&(e=void 0,t=!0),Q(i.children))for(var r=0,n=i.children.length;r<n;r++){var s=i.children[r];Q(s.tag)&&(ye(s.ns)||Qe(t)&&s.tag!=="svg")&&F0(s,e,t)}}function A2(i){xt(i.style)&&Al(i.style),xt(i.class)&&Al(i.class)}function an(i,e,t){ts();try{if(e)for(var r=e;r=r.$parent;){var n=r.$options.errorCaptured;if(n)for(var s=0;s<n.length;s++)try{var o=n[s].call(r,i,e,t)===!1;if(o)return}catch(a){H0(a,r,"errorCaptured hook")}}H0(i,e,t)}finally{is()}}function $r(i,e,t,r,n){var s;try{s=t?i.apply(e,t):i.call(e),s&&!s._isVue&&Hu(s)&&!s._handled&&(s.catch(function(o){return an(o,r,n+" (Promise/async)")}),s._handled=!0)}catch(o){an(o,r,n)}return s}function H0(i,e,t){if(Jt.errorHandler)try{return Jt.errorHandler.call(null,i,e,t)}catch(r){r!==i&&W0(r)}W0(i)}function W0(i,e,t){if(Gt&&typeof console<"u")console.error(i);else throw i}var ef=!1,tf=[],rf=!1;function Cl(){rf=!1;var i=tf.slice(0);tf.length=0;for(var e=0;e<i.length;e++)i[e]()}var co;if(typeof Promise<"u"&&Jn(Promise)){var _2=Promise.resolve();co=function(){_2.then(Cl),XI&&setTimeout(ht)},ef=!0}else if(!Kn&&typeof MutationObserver<"u"&&(Jn(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var kl=1,P2=new MutationObserver(Cl),j0=document.createTextNode(String(kl));P2.observe(j0,{characterData:!0}),co=function(){kl=(kl+1)%2,j0.data=String(kl)},ef=!0}else typeof setImmediate<"u"&&Jn(setImmediate)?co=function(){setImmediate(Cl)}:co=function(){setTimeout(Cl,0)};function nf(i,e){var t;if(tf.push(function(){if(i)try{i.call(e)}catch(r){an(r,e,"nextTick")}else t&&t(e)}),rf||(rf=!0,co()),!i&&typeof Promise<"u")return new Promise(function(r){t=r})}var E2="2.7.14",V0=new no;function Al(i){return _l(i,V0),V0.clear(),i}function _l(i,e){var t,r,n=Oe(i);if(!(!n&&!xt(i)||i.__v_skip||Object.isFrozen(i)||i instanceof Qt)){if(i.__ob__){var s=i.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(n)for(t=i.length;t--;)_l(i[t],e);else if($i(i))_l(i.value,e);else for(r=Object.keys(i),t=r.length;t--;)_l(i[r[t]],e)}}var T2=0,sf=function(){function i(e,t,r,n,s){JI(this,Yt&&!Yt._vm?Yt:e?e._scope:void 0),(this.vm=e)&&s&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++T2,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new no,this.newDepIds=new no,this.expression="",Xe(t)?this.getter=t:(this.getter=VI(t),this.getter||(this.getter=ht)),this.value=this.lazy?void 0:this.get()}return i.prototype.get=function(){ts(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(r){if(this.user)an(r,t,'getter for watcher "'.concat(this.expression,'"'));else throw r}finally{this.deep&&Al(e),is(),this.cleanupDeps()}return e},i.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},i.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},i.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():X2(this)},i.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||xt(e)||this.deep){var t=this.value;if(this.value=e,this.user){var r='callback for watcher "'.concat(this.expression,'"');$r(this.cb,this.vm,[e,t],this.vm,r)}else this.cb.call(this.vm,e,t)}}},i.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},i.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},i.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&Er(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},i}();function I2(i){i._events=Object.create(null),i._hasHookEvent=!1;var e=i.$options._parentListeners;e&&U0(i,e)}var ho;function R2(i,e){ho.$on(i,e)}function D2(i,e){ho.$off(i,e)}function L2(i,e){var t=ho;return function r(){var n=e.apply(null,arguments);n!==null&&t.$off(i,r)}}function U0(i,e,t){ho=i,E0(e,t||{},R2,D2,L2,i),ho=void 0}function $2(i){var e=/^hook:/;i.prototype.$on=function(t,r){var n=this;if(Oe(t))for(var s=0,o=t.length;s<o;s++)n.$on(t[s],r);else(n._events[t]||(n._events[t]=[])).push(r),e.test(t)&&(n._hasHookEvent=!0);return n},i.prototype.$once=function(t,r){var n=this;function s(){n.$off(t,s),r.apply(n,arguments)}return s.fn=r,n.$on(t,s),n},i.prototype.$off=function(t,r){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Oe(t)){for(var s=0,o=t.length;s<o;s++)n.$off(t[s],r);return n}var a=n._events[t];if(!a)return n;if(!r)return n._events[t]=null,n;for(var l,c=a.length;c--;)if(l=a[c],l===r||l.fn===r){a.splice(c,1);break}return n},i.prototype.$emit=function(t){var r=this,n=r._events[t];if(n){n=n.length>1?Wu(n):n;for(var s=Wu(arguments,1),o='event handler for "'.concat(t,'"'),a=0,l=n.length;a<l;a++)$r(n[a],r,s,r,o)}return r}}var ln=null;function X0(i){var e=ln;return ln=i,function(){ln=e}}function M2(i){var e=i.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(i)}i.$parent=t,i.$root=t?t.$root:i,i.$children=[],i.$refs={},i._provided=t?t._provided:Object.create(null),i._watcher=null,i._inactive=null,i._directInactive=!1,i._isMounted=!1,i._isDestroyed=!1,i._isBeingDestroyed=!1}function B2(i){i.prototype._update=function(e,t){var r=this,n=r.$el,s=r._vnode,o=X0(r);r._vnode=e,s?r.$el=r.__patch__(s,e):r.$el=r.__patch__(r.$el,e,t,!1),o(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r);for(var a=r;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},i.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},i.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){hi(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;t&&!t._isBeingDestroyed&&!e.$options.abstract&&Er(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),hi(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function N2(i,e,t){i.$el=e,i.$options.render||(i.$options.render=sn),hi(i,"beforeMount");var r;r=function(){i._update(i._render(),t)};var n={before:function(){i._isMounted&&!i._isDestroyed&&hi(i,"beforeUpdate")}};new sf(i,r,ht,n,!0),t=!1;var s=i._preWatchers;if(s)for(var o=0;o<s.length;o++)s[o].run();return i.$vnode==null&&(i._isMounted=!0,hi(i,"mounted")),i}function z2(i,e,t,r,n){var s=r.data.scopedSlots,o=i.$scopedSlots,a=!!(s&&!s.$stable||o!==Xt&&!o.$stable||s&&i.$scopedSlots.$key!==s.$key||!s&&i.$scopedSlots.$key),l=!!(n||i.$options._renderChildren||a),c=i.$vnode;i.$options._parentVnode=r,i.$vnode=r,i._vnode&&(i._vnode.parent=r),i.$options._renderChildren=n;var h=r.data.attrs||Xt;i._attrsProxy&&xl(i._attrsProxy,h,c.data&&c.data.attrs||Xt,i,"$attrs")&&(l=!0),i.$attrs=h,t=t||Xt;var u=i.$options._parentListeners;if(i._listenersProxy&&xl(i._listenersProxy,t,u||Xt,i,"$listeners"),i.$listeners=i.$options._parentListeners=t,U0(i,t,u),e&&i.$options.props){Dr(!1);for(var f=i._props,d=i.$options._propKeys||[],p=0;p<d.length;p++){var g=d[p],y=i.$options.props;f[g]=pf(g,y,e,i)}Dr(!0),i.$options.propsData=e}l&&(i.$slots=Ku(n,r.context),i.$forceUpdate())}function G0(i){for(;i&&(i=i.$parent);)if(i._inactive)return!0;return!1}function of(i,e){if(e){if(i._directInactive=!1,G0(i))return}else if(i._directInactive)return;if(i._inactive||i._inactive===null){i._inactive=!1;for(var t=0;t<i.$children.length;t++)of(i.$children[t]);hi(i,"activated")}}function Q0(i,e){if(!(e&&(i._directInactive=!0,G0(i)))&&!i._inactive){i._inactive=!0;for(var t=0;t<i.$children.length;t++)Q0(i.$children[t]);hi(i,"deactivated")}}function hi(i,e,t,r){r===void 0&&(r=!0),ts();var n=so;r&&Ir(i);var s=i.$options[e],o="".concat(e," hook");if(s)for(var a=0,l=s.length;a<l;a++)$r(s[a],i,t||null,i,o);i._hasHookEvent&&i.$emit("hook:"+e),r&&Ir(n),is()}var Ki=[],af=[],Pl={},lf=!1,cf=!1,rs=0;function F2(){rs=Ki.length=af.length=0,Pl={},lf=cf=!1}var Y0=0,hf=Date.now;if(Gt&&!Kn){var uf=window.performance;uf&&typeof uf.now=="function"&&hf()>document.createEvent("Event").timeStamp&&(hf=function(){return uf.now()})}var H2=function(i,e){if(i.post){if(!e.post)return 1}else if(e.post)return-1;return i.id-e.id};function W2(){Y0=hf(),cf=!0;var i,e;for(Ki.sort(H2),rs=0;rs<Ki.length;rs++)i=Ki[rs],i.before&&i.before(),e=i.id,Pl[e]=null,i.run();var t=af.slice(),r=Ki.slice();F2(),U2(t),j2(r),QI(),yl&&Jt.devtools&&yl.emit("flush")}function j2(i){for(var e=i.length;e--;){var t=i[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&hi(r,"updated")}}function V2(i){i._inactive=!1,af.push(i)}function U2(i){for(var e=0;e<i.length;e++)i[e]._inactive=!0,of(i[e],!0)}function X2(i){var e=i.id;if(Pl[e]==null&&!(i===Rr.target&&i.noRecurse)){if(Pl[e]=!0,!cf)Ki.push(i);else{for(var t=Ki.length-1;t>rs&&Ki[t].id>i.id;)t--;Ki.splice(t+1,0,i)}lf||(lf=!0,nf(W2))}}function G2(i){var e=i.$options.provide;if(e){var t=Xe(e)?e.call(i):e;if(!xt(t))return;for(var r=e2(i),n=ro?Reflect.ownKeys(t):Object.keys(t),s=0;s<n.length;s++){var o=n[s];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))}}}function Q2(i){var e=q0(i.$options.inject,i);e&&(Dr(!1),Object.keys(e).forEach(function(t){on(i,t,e[t])}),Dr(!0))}function q0(i,e){if(i){for(var t=Object.create(null),r=ro?Reflect.ownKeys(i):Object.keys(i),n=0;n<r.length;n++){var s=r[n];if(s!=="__ob__"){var o=i[s].from;if(o in e._provided)t[s]=e._provided[o];else if("default"in i[s]){var a=i[s].default;t[s]=Xe(a)?a.call(e):a}}}return t}}function ff(i,e,t,r,n){var s=this,o=n.options,a;Pt(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var l=Qe(o._compiled),c=!l;this.data=i,this.props=e,this.children=t,this.parent=r,this.listeners=i.on||Xt,this.injections=q0(o.inject,r),this.slots=function(){return s.$slots||lo(r,i.scopedSlots,s.$slots=Ku(t,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return lo(r,i.scopedSlots,this.slots())}}),l&&(this.$options=o,this.$slots=this.slots(),this.$scopedSlots=lo(r,i.scopedSlots,this.$slots)),o._scopeId?this._c=function(h,u,f,d){var p=Ol(a,h,u,f,d,c);return p&&!Oe(p)&&(p.fnScopeId=o._scopeId,p.fnContext=r),p}:this._c=function(h,u,f,d){return Ol(a,h,u,f,d,c)}}M0(ff.prototype);function Y2(i,e,t,r,n){var s=i.options,o={},a=s.props;if(Q(a))for(var l in a)o[l]=pf(l,a,e||Xt);else Q(t.attrs)&&Z0(o,t.attrs),Q(t.props)&&Z0(o,t.props);var c=new ff(t,o,n,r,i),h=s.render.call(null,c._c,c);if(h instanceof Qt)return K0(h,t,c.parent,s);if(Oe(h)){for(var u=qu(h)||[],f=new Array(u.length),d=0;d<u.length;d++)f[d]=K0(u[d],t,c.parent,s);return f}}function K0(i,e,t,r,n){var s=Vu(i);return s.fnContext=t,s.fnOptions=r,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function Z0(i,e){for(var t in e)i[rn(t)]=e[t]}function El(i){return i.name||i.__name||i._componentTag}var df={init:function(i,e){if(i.componentInstance&&!i.componentInstance._isDestroyed&&i.data.keepAlive){var t=i;df.prepatch(t,t)}else{var r=i.componentInstance=q2(i,ln);r.$mount(e?i.elm:void 0,e)}},prepatch:function(i,e){var t=e.componentOptions,r=e.componentInstance=i.componentInstance;z2(r,t.propsData,t.listeners,e,t.children)},insert:function(i){var e=i.context,t=i.componentInstance;t._isMounted||(t._isMounted=!0,hi(t,"mounted")),i.data.keepAlive&&(e._isMounted?V2(t):of(t,!0))},destroy:function(i){var e=i.componentInstance;e._isDestroyed||(i.data.keepAlive?Q0(e,!0):e.$destroy())}},J0=Object.keys(df);function eb(i,e,t,r,n){if(!ye(i)){var s=t.$options._base;if(xt(i)&&(i=s.extend(i)),typeof i=="function"){var o;if(ye(i.cid)&&(o=i,i=O2(o,s),i===void 0))return x2(o,e,t,r,n);e=e||{},yf(i),Q(e.model)&&J2(i.options,e);var a=t2(e,i);if(Qe(i.options.functional))return Y2(i,a,e,t,r);var l=e.on;if(e.on=e.nativeOn,Qe(i.options.abstract)){var c=e.slot;e={},c&&(e.slot=c)}K2(e);var h=El(i.options)||n,u=new Qt("vue-component-".concat(i.cid).concat(h?"-".concat(h):""),e,void 0,void 0,void 0,t,{Ctor:i,propsData:a,listeners:l,tag:n,children:r},o);return u}}}function q2(i,e){var t={_isComponent:!0,_parentVnode:i,parent:e},r=i.data.inlineTemplate;return Q(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns),new i.componentOptions.Ctor(t)}function K2(i){for(var e=i.hook||(i.hook={}),t=0;t<J0.length;t++){var r=J0[t],n=e[r],s=df[r];n!==s&&!(n&&n._merged)&&(e[r]=n?Z2(s,n):s)}}function Z2(i,e){var t=function(r,n){i(r,n),e(r,n)};return t._merged=!0,t}function J2(i,e){var t=i.model&&i.model.prop||"value",r=i.model&&i.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var n=e.on||(e.on={}),s=n[r],o=e.model.callback;Q(s)?(Oe(s)?s.indexOf(o)===-1:s!==o)&&(n[r]=[o].concat(s)):n[r]=o}var tb=ht,Mi=Jt.optionMergeStrategies;function uo(i,e,t){if(t===void 0&&(t=!0),!e)return i;for(var r,n,s,o=ro?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)r=o[a],r!=="__ob__"&&(n=i[r],s=e[r],!t||!Pt(i,r)?Xu(i,r,s):n!==s&&Bt(n)&&Bt(s)&&uo(n,s));return i}function ib(i,e,t){return t?function(){var n=Xe(e)?e.call(t,t):e,s=Xe(i)?i.call(t,t):i;return n?uo(n,s):s}:e?i?function(){return uo(Xe(e)?e.call(this,this):e,Xe(i)?i.call(this,this):i)}:e:i}Mi.data=function(i,e,t){return t?ib(i,e,t):e&&typeof e!="function"?i:ib(i,e)};function eR(i,e){var t=e?i?i.concat(e):Oe(e)?e:[e]:i;return t&&tR(t)}function tR(i){for(var e=[],t=0;t<i.length;t++)e.indexOf(i[t])===-1&&e.push(i[t]);return e}g0.forEach(function(i){Mi[i]=eR});function iR(i,e,t,r){var n=Object.create(i||null);return e?Fe(n,e):n}ml.forEach(function(i){Mi[i+"s"]=iR}),Mi.watch=function(i,e,t,r){if(i===ju&&(i=void 0),e===ju&&(e=void 0),!e)return Object.create(i||null);if(!i)return e;var n={};Fe(n,i);for(var s in e){var o=n[s],a=e[s];o&&!Oe(o)&&(o=[o]),n[s]=o?o.concat(a):Oe(a)?a:[a]}return n},Mi.props=Mi.methods=Mi.inject=Mi.computed=function(i,e,t,r){if(!i)return e;var n=Object.create(null);return Fe(n,i),e&&Fe(n,e),n},Mi.provide=function(i,e){return i?function(){var t=Object.create(null);return uo(t,Xe(i)?i.call(this):i),e&&uo(t,Xe(e)?e.call(this):e,!1),t}:e};var rR=function(i,e){return e===void 0?i:e};function nR(i,e){var t=i.props;if(t){var r={},n,s,o;if(Oe(t))for(n=t.length;n--;)s=t[n],typeof s=="string"&&(o=rn(s),r[o]={type:null});else if(Bt(t))for(var a in t)s=t[a],o=rn(a),r[o]=Bt(s)?s:{type:s};i.props=r}}function sR(i,e){var t=i.inject;if(t){var r=i.inject={};if(Oe(t))for(var n=0;n<t.length;n++)r[t[n]]={from:t[n]};else if(Bt(t))for(var s in t){var o=t[s];r[s]=Bt(o)?Fe({from:s},o):{from:o}}}}function oR(i){var e=i.directives;if(e)for(var t in e){var r=e[t];Xe(r)&&(e[t]={bind:r,update:r})}}function xB(i,e,t){Bt(e)||tb('Invalid value for option "'.concat(i,'": expected an Object, ')+"but got ".concat(II(e),"."))}function cn(i,e,t){if(Xe(e)&&(e=e.options),nR(e),sR(e),oR(e),!e._base&&(e.extends&&(i=cn(i,e.extends,t)),e.mixins))for(var r=0,n=e.mixins.length;r<n;r++)i=cn(i,e.mixins[r],t);var s={},o;for(o in i)a(o);for(o in e)Pt(i,o)||a(o);function a(l){var c=Mi[l]||rR;s[l]=c(i[l],e[l],t,l)}return s}function Tl(i,e,t,r){if(typeof t=="string"){var n=i[e];if(Pt(n,t))return n[t];var s=rn(t);if(Pt(n,s))return n[s];var o=BI(s);if(Pt(n,o))return n[o];var a=n[t]||n[s]||n[o];return a}}function pf(i,e,t,r){var n=e[i],s=!Pt(t,i),o=t[i],a=nb(Boolean,n.type);if(a>-1){if(s&&!Pt(n,"default"))o=!1;else if(o===""||o===to(i)){var l=nb(String,n.type);(l<0||a<l)&&(o=!0)}}if(o===void 0){o=aR(r,n,i);var c=Uu;Dr(!0),qi(o),Dr(c)}return o}function aR(i,e,t){if(Pt(e,"default")){var r=e.default;return i&&i.$options.propsData&&i.$options.propsData[t]===void 0&&i._props[t]!==void 0?i._props[t]:Xe(r)&&gf(e.type)!=="Function"?r.call(i):r}}var lR=/^\s*function (\w+)/;function gf(i){var e=i&&i.toString().match(lR);return e?e[1]:""}function rb(i,e){return gf(i)===gf(e)}function nb(i,e){if(!Oe(e))return rb(e,i)?0:-1;for(var t=0,r=e.length;t<r;t++)if(rb(e[t],i))return t;return-1}var Mr={enumerable:!0,configurable:!0,get:ht,set:ht};function mf(i,e,t){Mr.get=function(){return this[e][t]},Mr.set=function(n){this[e][t]=n},Object.defineProperty(i,t,Mr)}function cR(i){var e=i.$options;if(e.props&&hR(i,e.props),m2(i),e.methods&&gR(i,e.methods),e.data)uR(i);else{var t=qi(i._data={});t&&t.vmCount++}e.computed&&pR(i,e.computed),e.watch&&e.watch!==ju&&mR(i,e.watch)}function hR(i,e){var t=i.$options.propsData||{},r=i._props=_0({}),n=i.$options._propKeys=[],s=!i.$parent;s||Dr(!1);var o=function(l){n.push(l);var c=pf(l,e,t,i);on(r,l,c),l in i||mf(i,"_props",l)};for(var a in e)o(a);Dr(!0)}function uR(i){var e=i.$options.data;e=i._data=Xe(e)?fR(e,i):e||{},Bt(e)||(e={});var t=Object.keys(e),r=i.$options.props;i.$options.methods;for(var n=t.length;n--;){var s=t[n];r&&Pt(r,s)||m0(s)||mf(i,"_data",s)}var o=qi(e);o&&o.vmCount++}function fR(i,e){ts();try{return i.call(e,e)}catch(t){return an(t,e,"data()"),{}}finally{is()}}var dR={lazy:!0};function pR(i,e){var t=i._computedWatchers=Object.create(null),r=io();for(var n in e){var s=e[n],o=Xe(s)?s:s.get;r||(t[n]=new sf(i,o||ht,ht,dR)),n in i||sb(i,n,s)}}function sb(i,e,t){var r=!io();Xe(t)?(Mr.get=r?ob(e):ab(t),Mr.set=ht):(Mr.get=t.get?r&&t.cache!==!1?ob(e):ab(t.get):ht,Mr.set=t.set||ht),Object.defineProperty(i,e,Mr)}function ob(i){return function(){var t=this._computedWatchers&&this._computedWatchers[i];if(t)return t.dirty&&t.evaluate(),Rr.target&&t.depend(),t.value}}function ab(i){return function(){return i.call(this,this)}}function gR(i,e){i.$options.props;for(var t in e)i[t]=typeof e[t]!="function"?ht:h0(e[t],i)}function mR(i,e){for(var t in e){var r=e[t];if(Oe(r))for(var n=0;n<r.length;n++)vf(i,t,r[n]);else vf(i,t,r)}}function vf(i,e,t,r){return Bt(t)&&(r=t,t=t.handler),typeof t=="string"&&(t=i[t]),i.$watch(e,t,r)}function vR(i){var e={};e.get=function(){return this._data};var t={};t.get=function(){return this._props},Object.defineProperty(i.prototype,"$data",e),Object.defineProperty(i.prototype,"$props",t),i.prototype.$set=Xu,i.prototype.$delete=k0,i.prototype.$watch=function(r,n,s){var o=this;if(Bt(n))return vf(o,r,n,s);s=s||{},s.user=!0;var a=new sf(o,r,n,s);if(s.immediate){var l='callback for immediate watcher "'.concat(a.expression,'"');ts(),$r(n,o,[a.value],o,l),is()}return function(){a.teardown()}}}var yR=0;function bR(i){i.prototype._init=function(e){var t=this;t._uid=yR++,t._isVue=!0,t.__v_skip=!0,t._scope=new ZI(!0),t._scope._vm=!0,e&&e._isComponent?wR(t,e):t.$options=cn(yf(t.constructor),e||{},t),t._renderProxy=t,t._self=t,M2(t),I2(t),w2(t),hi(t,"beforeCreate",void 0,!1),Q2(t),cR(t),G2(t),hi(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function wR(i,e){var t=i.$options=Object.create(i.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var n=r.componentOptions;t.propsData=n.propsData,t._parentListeners=n.listeners,t._renderChildren=n.children,t._componentTag=n.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}function yf(i){var e=i.options;if(i.super){var t=yf(i.super),r=i.superOptions;if(t!==r){i.superOptions=t;var n=SR(i);n&&Fe(i.extendOptions,n),e=i.options=cn(t,i.extendOptions),e.name&&(e.components[e.name]=i)}}return e}function SR(i){var e,t=i.options,r=i.sealedOptions;for(var n in t)t[n]!==r[n]&&(e||(e={}),e[n]=t[n]);return e}function _e(i){this._init(i)}bR(_e),vR(_e),$2(_e),B2(_e),S2(_e);function xR(i){i.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=Wu(arguments,1);return r.unshift(this),Xe(e.install)?e.install.apply(e,r):Xe(e)&&e.apply(null,r),t.push(e),this}}function OR(i){i.mixin=function(e){return this.options=cn(this.options,e),this}}function CR(i){i.cid=0;var e=1;i.extend=function(t){t=t||{};var r=this,n=r.cid,s=t._Ctor||(t._Ctor={});if(s[n])return s[n];var o=El(t)||El(r.options),a=function(c){this._init(c)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=e++,a.options=cn(r.options,t),a.super=r,a.options.props&&kR(a),a.options.computed&&AR(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,ml.forEach(function(l){a[l]=r[l]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=t,a.sealedOptions=Fe({},a.options),s[n]=a,a}}function kR(i){var e=i.options.props;for(var t in e)mf(i.prototype,"_props",t)}function AR(i){var e=i.options.computed;for(var t in e)sb(i.prototype,t,e[t])}function _R(i){ml.forEach(function(e){i[e]=function(t,r){return r?(e==="component"&&Bt(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),e==="directive"&&Xe(r)&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function lb(i){return i&&(El(i.Ctor.options)||i.tag)}function Il(i,e){return Oe(i)?i.indexOf(e)>-1:typeof i=="string"?i.split(",").indexOf(e)>-1:RI(i)?i.test(e):!1}function cb(i,e){var t=i.cache,r=i.keys,n=i._vnode;for(var s in t){var o=t[s];if(o){var a=o.name;a&&!e(a)&&bf(t,s,r,n)}}}function bf(i,e,t,r){var n=i[e];n&&(!r||n.tag!==r.tag)&&n.componentInstance.$destroy(),i[e]=null,Er(t,e)}var hb=[String,RegExp,Array],PR={name:"keep-alive",abstract:!0,props:{include:hb,exclude:hb,max:[String,Number]},methods:{cacheVNode:function(){var i=this,e=i.cache,t=i.keys,r=i.vnodeToCache,n=i.keyToCache;if(r){var s=r.tag,o=r.componentInstance,a=r.componentOptions;e[n]={name:lb(a),tag:s,componentInstance:o},t.push(n),this.max&&t.length>parseInt(this.max)&&bf(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var i in this.cache)bf(this.cache,i,this.keys)},mounted:function(){var i=this;this.cacheVNode(),this.$watch("include",function(e){cb(i,function(t){return Il(e,t)})}),this.$watch("exclude",function(e){cb(i,function(t){return!Il(e,t)})})},updated:function(){this.cacheVNode()},render:function(){var i=this.$slots.default,e=N0(i),t=e&&e.componentOptions;if(t){var r=lb(t),n=this,s=n.include,o=n.exclude;if(s&&(!r||!Il(s,r))||o&&r&&Il(o,r))return e;var a=this,l=a.cache,c=a.keys,h=e.key==null?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;l[h]?(e.componentInstance=l[h].componentInstance,Er(c,h),c.push(h)):(this.vnodeToCache=e,this.keyToCache=h),e.data.keepAlive=!0}return e||i&&i[0]}},ER={KeepAlive:PR};function TR(i){var e={};e.get=function(){return Jt},Object.defineProperty(i,"config",e),i.util={warn:tb,extend:Fe,mergeOptions:cn,defineReactive:on},i.set=Xu,i.delete=k0,i.nextTick=nf,i.observable=function(t){return qi(t),t},i.options=Object.create(null),ml.forEach(function(t){i.options[t+"s"]=Object.create(null)}),i.options._base=i,Fe(i.options.components,ER),xR(i),OR(i),CR(i),_R(i)}TR(_e),Object.defineProperty(_e.prototype,"$isServer",{get:io}),Object.defineProperty(_e.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_e,"FunctionalRenderContext",{value:ff}),_e.version=E2;var IR=ci("style,class"),RR=ci("input,textarea,option,select,progress"),DR=function(i,e,t){return t==="value"&&RR(i)&&e!=="button"||t==="selected"&&i==="option"||t==="checked"&&i==="input"||t==="muted"&&i==="video"},ub=ci("contenteditable,draggable,spellcheck"),LR=ci("events,caret,typing,plaintext-only"),$R=function(i,e){return Rl(e)||e==="false"?"false":i==="contenteditable"&&LR(e)?e:"true"},MR=ci("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),wf="http://www.w3.org/1999/xlink",Sf=function(i){return i.charAt(5)===":"&&i.slice(0,5)==="xlink"},fb=function(i){return Sf(i)?i.slice(6,i.length):""},Rl=function(i){return i==null||i===!1};function BR(i){for(var e=i.data,t=i,r=i;Q(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(e=db(r.data,e));for(;Q(t=t.parent);)t&&t.data&&(e=db(e,t.data));return NR(e.staticClass,e.class)}function db(i,e){return{staticClass:xf(i.staticClass,e.staticClass),class:Q(i.class)?[i.class,e.class]:e.class}}function NR(i,e){return Q(i)||Q(e)?xf(i,Of(e)):""}function xf(i,e){return i?e?i+" "+e:i:e||""}function Of(i){return Array.isArray(i)?zR(i):xt(i)?FR(i):typeof i=="string"?i:""}function zR(i){for(var e="",t,r=0,n=i.length;r<n;r++)Q(t=Of(i[r]))&&t!==""&&(e&&(e+=" "),e+=t);return e}function FR(i){var e="";for(var t in i)i[t]&&(e&&(e+=" "),e+=t);return e}var HR={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},WR=ci("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Cf=ci("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),pb=function(i){return WR(i)||Cf(i)};function jR(i){if(Cf(i))return"svg";if(i==="math")return"math"}var Dl=Object.create(null);function VR(i){if(!Gt)return!0;if(pb(i))return!1;if(i=i.toLowerCase(),Dl[i]!=null)return Dl[i];var e=document.createElement(i);return i.indexOf("-")>-1?Dl[i]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Dl[i]=/HTMLUnknownElement/.test(e.toString())}var kf=ci("text,number,password,search,email,tel,url");function UR(i){if(typeof i=="string"){var e=document.querySelector(i);return e||document.createElement("div")}else return i}function XR(i,e){var t=document.createElement(i);return i!=="select"||e.data&&e.data.attrs&&e.data.attrs.multiple!==void 0&&t.setAttribute("multiple","multiple"),t}function GR(i,e){return document.createElementNS(HR[i],e)}function QR(i){return document.createTextNode(i)}function YR(i){return document.createComment(i)}function qR(i,e,t){i.insertBefore(e,t)}function KR(i,e){i.removeChild(e)}function ZR(i,e){i.appendChild(e)}function JR(i){return i.parentNode}function eD(i){return i.nextSibling}function tD(i){return i.tagName}function iD(i,e){i.textContent=e}function rD(i,e){i.setAttribute(e,"")}var nD=Object.freeze({__proto__:null,createElement:XR,createElementNS:GR,createTextNode:QR,createComment:YR,insertBefore:qR,removeChild:KR,appendChild:ZR,parentNode:JR,nextSibling:eD,tagName:tD,setTextContent:iD,setStyleScope:rD}),sD={create:function(i,e){ns(e)},update:function(i,e){i.data.ref!==e.data.ref&&(ns(i,!0),ns(e))},destroy:function(i){ns(i,!0)}};function ns(i,e){var t=i.data.ref;if(Q(t)){var r=i.context,n=i.componentInstance||i.elm,s=e?null:n,o=e?void 0:n;if(Xe(t)){$r(t,r,[s],r,"template ref function");return}var a=i.data.refInFor,l=typeof t=="string"||typeof t=="number",c=$i(t),h=r.$refs;if(l||c){if(a){var u=l?h[t]:t.value;e?Oe(u)&&Er(u,n):Oe(u)?u.includes(n)||u.push(n):l?(h[t]=[n],gb(r,t,h[t])):t.value=[n]}else if(l){if(e&&h[t]!==n)return;h[t]=o,gb(r,t,s)}else if(c){if(e&&t.value!==n)return;t.value=s}}}}function gb(i,e,t){var r=i._setupState;r&&Pt(r,e)&&($i(r[e])?r[e].value=t:r[e]=t)}var Br=new Qt("",{},[]),fo=["create","activate","update","remove","destroy"];function hn(i,e){return i.key===e.key&&i.asyncFactory===e.asyncFactory&&(i.tag===e.tag&&i.isComment===e.isComment&&Q(i.data)===Q(e.data)&&oD(i,e)||Qe(i.isAsyncPlaceholder)&&ye(e.asyncFactory.error))}function oD(i,e){if(i.tag!=="input")return!0;var t,r=Q(t=i.data)&&Q(t=t.attrs)&&t.type,n=Q(t=e.data)&&Q(t=t.attrs)&&t.type;return r===n||kf(r)&&kf(n)}function aD(i,e,t){var r,n,s={};for(r=e;r<=t;++r)n=i[r].key,Q(n)&&(s[n]=r);return s}function lD(i){var e,t,r={},n=i.modules,s=i.nodeOps;for(e=0;e<fo.length;++e)for(r[fo[e]]=[],t=0;t<n.length;++t)Q(n[t][fo[e]])&&r[fo[e]].push(n[t][fo[e]]);function o(w){return new Qt(s.tagName(w).toLowerCase(),{},[],void 0,w)}function a(w,C){function m(){--m.listeners===0&&l(w)}return m.listeners=C,m}function l(w){var C=s.parentNode(w);Q(C)&&s.removeChild(C,w)}function c(w,C,m,L,Y,X,ie){if(Q(w.elm)&&Q(X)&&(w=X[ie]=Vu(w)),w.isRootInsert=!Y,!h(w,C,m,L)){var H=w.data,te=w.children,z=w.tag;Q(z)?(w.elm=w.ns?s.createElementNS(w.ns,z):s.createElement(z,w),v(w),p(w,te,C),Q(H)&&y(w,C),d(m,w.elm,L)):Qe(w.isComment)?(w.elm=s.createComment(w.text),d(m,w.elm,L)):(w.elm=s.createTextNode(w.text),d(m,w.elm,L))}}function h(w,C,m,L){var Y=w.data;if(Q(Y)){var X=Q(w.componentInstance)&&Y.keepAlive;if(Q(Y=Y.hook)&&Q(Y=Y.init)&&Y(w,!1),Q(w.componentInstance))return u(w,C),d(m,w.elm,L),Qe(X)&&f(w,C,m,L),!0}}function u(w,C){Q(w.data.pendingInsert)&&(C.push.apply(C,w.data.pendingInsert),w.data.pendingInsert=null),w.elm=w.componentInstance.$el,g(w)?(y(w,C),v(w)):(ns(w),C.push(w))}function f(w,C,m,L){for(var Y,X=w;X.componentInstance;)if(X=X.componentInstance._vnode,Q(Y=X.data)&&Q(Y=Y.transition)){for(Y=0;Y<r.activate.length;++Y)r.activate[Y](Br,X);C.push(X);break}d(m,w.elm,L)}function d(w,C,m){Q(w)&&(Q(m)?s.parentNode(m)===w&&s.insertBefore(w,C,m):s.appendChild(w,C))}function p(w,C,m){if(Oe(C))for(var L=0;L<C.length;++L)c(C[L],m,w.elm,null,!0,C,L);else Js(w.text)&&s.appendChild(w.elm,s.createTextNode(String(w.text)))}function g(w){for(;w.componentInstance;)w=w.componentInstance._vnode;return Q(w.tag)}function y(w,C){for(var m=0;m<r.create.length;++m)r.create[m](Br,w);e=w.data.hook,Q(e)&&(Q(e.create)&&e.create(Br,w),Q(e.insert)&&C.push(w))}function v(w){var C;if(Q(C=w.fnScopeId))s.setStyleScope(w.elm,C);else for(var m=w;m;)Q(C=m.context)&&Q(C=C.$options._scopeId)&&s.setStyleScope(w.elm,C),m=m.parent;Q(C=ln)&&C!==w.context&&C!==w.fnContext&&Q(C=C.$options._scopeId)&&s.setStyleScope(w.elm,C)}function S(w,C,m,L,Y,X){for(;L<=Y;++L)c(m[L],X,w,C,!1,m,L)}function k(w){var C,m,L=w.data;if(Q(L))for(Q(C=L.hook)&&Q(C=C.destroy)&&C(w),C=0;C<r.destroy.length;++C)r.destroy[C](w);if(Q(C=w.children))for(m=0;m<w.children.length;++m)k(w.children[m])}function P(w,C,m){for(;C<=m;++C){var L=w[C];Q(L)&&(Q(L.tag)?(T(L),k(L)):l(L.elm))}}function T(w,C){if(Q(C)||Q(w.data)){var m,L=r.remove.length+1;for(Q(C)?C.listeners+=L:C=a(w.elm,L),Q(m=w.componentInstance)&&Q(m=m._vnode)&&Q(m.data)&&T(m,C),m=0;m<r.remove.length;++m)r.remove[m](w,C);Q(m=w.data.hook)&&Q(m=m.remove)?m(w,C):C()}else l(w.elm)}function R(w,C,m,L,Y){for(var X=0,ie=0,H=C.length-1,te=C[0],z=C[H],B=m.length-1,ue=m[0],ae=m[B],oe,Ie,we,be,ge=!Y;X<=H&&ie<=B;)ye(te)?te=C[++X]:ye(z)?z=C[--H]:hn(te,ue)?(j(te,ue,L,m,ie),te=C[++X],ue=m[++ie]):hn(z,ae)?(j(z,ae,L,m,B),z=C[--H],ae=m[--B]):hn(te,ae)?(j(te,ae,L,m,B),ge&&s.insertBefore(w,te.elm,s.nextSibling(z.elm)),te=C[++X],ae=m[--B]):hn(z,ue)?(j(z,ue,L,m,ie),ge&&s.insertBefore(w,z.elm,te.elm),z=C[--H],ue=m[++ie]):(ye(oe)&&(oe=aD(C,X,H)),Ie=Q(ue.key)?oe[ue.key]:D(ue,C,X,H),ye(Ie)?c(ue,L,w,te.elm,!1,m,ie):(we=C[Ie],hn(we,ue)?(j(we,ue,L,m,ie),C[Ie]=void 0,ge&&s.insertBefore(w,we.elm,te.elm)):c(ue,L,w,te.elm,!1,m,ie)),ue=m[++ie]);X>H?(be=ye(m[B+1])?null:m[B+1].elm,S(w,be,m,ie,B,L)):ie>B&&P(C,X,H)}function D(w,C,m,L){for(var Y=m;Y<L;Y++){var X=C[Y];if(Q(X)&&hn(w,X))return Y}}function j(w,C,m,L,Y,X){if(w!==C){Q(C.elm)&&Q(L)&&(C=L[Y]=Vu(C));var ie=C.elm=w.elm;if(Qe(w.isAsyncPlaceholder)){Q(C.asyncFactory.resolved)?re(w.elm,C,m):C.isAsyncPlaceholder=!0;return}if(Qe(C.isStatic)&&Qe(w.isStatic)&&C.key===w.key&&(Qe(C.isCloned)||Qe(C.isOnce))){C.componentInstance=w.componentInstance;return}var H,te=C.data;Q(te)&&Q(H=te.hook)&&Q(H=H.prepatch)&&H(w,C);var z=w.children,B=C.children;if(Q(te)&&g(C)){for(H=0;H<r.update.length;++H)r.update[H](w,C);Q(H=te.hook)&&Q(H=H.update)&&H(w,C)}ye(C.text)?Q(z)&&Q(B)?z!==B&&R(ie,z,B,m,X):Q(B)?(Q(w.text)&&s.setTextContent(ie,""),S(ie,null,B,0,B.length-1,m)):Q(z)?P(z,0,z.length-1):Q(w.text)&&s.setTextContent(ie,""):w.text!==C.text&&s.setTextContent(ie,C.text),Q(te)&&Q(H=te.hook)&&Q(H=H.postpatch)&&H(w,C)}}function M(w,C,m){if(Qe(m)&&Q(w.parent))w.parent.data.pendingInsert=C;else for(var L=0;L<C.length;++L)C[L].data.hook.insert(C[L])}var G=ci("attrs,class,staticClass,staticStyle,key");function re(w,C,m,L){var Y,X=C.tag,ie=C.data,H=C.children;if(L=L||ie&&ie.pre,C.elm=w,Qe(C.isComment)&&Q(C.asyncFactory))return C.isAsyncPlaceholder=!0,!0;if(Q(ie)&&(Q(Y=ie.hook)&&Q(Y=Y.init)&&Y(C,!0),Q(Y=C.componentInstance)))return u(C,m),!0;if(Q(X)){if(Q(H))if(!w.hasChildNodes())p(C,H,m);else if(Q(Y=ie)&&Q(Y=Y.domProps)&&Q(Y=Y.innerHTML)){if(Y!==w.innerHTML)return!1}else{for(var te=!0,z=w.firstChild,B=0;B<H.length;B++){if(!z||!re(z,H[B],m,L)){te=!1;break}z=z.nextSibling}if(!te||z)return!1}if(Q(ie)){var ue=!1;for(var ae in ie)if(!G(ae)){ue=!0,y(C,m);break}!ue&&ie.class&&Al(ie.class)}}else w.data!==C.text&&(w.data=C.text);return!0}return function(C,m,L,Y){if(ye(m)){Q(C)&&k(C);return}var X=!1,ie=[];if(ye(C))X=!0,c(m,ie);else{var H=Q(C.nodeType);if(!H&&hn(C,m))j(C,m,ie,null,null,Y);else{if(H){if(C.nodeType===1&&C.hasAttribute(p0)&&(C.removeAttribute(p0),L=!0),Qe(L)&&re(C,m,ie))return M(m,ie,!0),C;C=o(C)}var te=C.elm,z=s.parentNode(te);if(c(m,ie,te._leaveCb?null:z,s.nextSibling(te)),Q(m.parent))for(var B=m.parent,ue=g(m);B;){for(var ae=0;ae<r.destroy.length;++ae)r.destroy[ae](B);if(B.elm=m.elm,ue){for(var oe=0;oe<r.create.length;++oe)r.create[oe](Br,B);var Ie=B.data.hook.insert;if(Ie.merged)for(var we=1;we<Ie.fns.length;we++)Ie.fns[we]()}else ns(B);B=B.parent}Q(z)?P([C],0,0):Q(C.tag)&&k(C)}}return M(m,ie,X),m.elm}}var cD={create:Af,update:Af,destroy:function(e){Af(e,Br)}};function Af(i,e){(i.data.directives||e.data.directives)&&hD(i,e)}function hD(i,e){var t=i===Br,r=e===Br,n=mb(i.data.directives,i.context),s=mb(e.data.directives,e.context),o=[],a=[],l,c,h;for(l in s)c=n[l],h=s[l],c?(h.oldValue=c.value,h.oldArg=c.arg,po(h,"update",e,i),h.def&&h.def.componentUpdated&&a.push(h)):(po(h,"bind",e,i),h.def&&h.def.inserted&&o.push(h));if(o.length){var u=function(){for(var f=0;f<o.length;f++)po(o[f],"inserted",e,i)};t?Lr(e,"insert",u):u()}if(a.length&&Lr(e,"postpatch",function(){for(var f=0;f<a.length;f++)po(a[f],"componentUpdated",e,i)}),!t)for(l in n)s[l]||po(n[l],"unbind",i,i,r)}var uD=Object.create(null);function mb(i,e){var t=Object.create(null);if(!i)return t;var r,n;for(r=0;r<i.length;r++){if(n=i[r],n.modifiers||(n.modifiers=uD),t[fD(n)]=n,e._setupState&&e._setupState.__sfc){var s=n.def||Tl(e,"_setupState","v-"+n.name);typeof s=="function"?n.def={bind:s,update:s}:n.def=s}n.def=n.def||Tl(e.$options,"directives",n.name)}return t}function fD(i){return i.rawName||"".concat(i.name,".").concat(Object.keys(i.modifiers||{}).join("."))}function po(i,e,t,r,n){var s=i.def&&i.def[e];if(s)try{s(t.elm,i,t,r,n)}catch(o){an(o,t.context,"directive ".concat(i.name," ").concat(e," hook"))}}var dD=[sD,cD];function vb(i,e){var t=e.componentOptions;if(!(Q(t)&&t.Ctor.options.inheritAttrs===!1)&&!(ye(i.data.attrs)&&ye(e.data.attrs))){var r,n,s,o=e.elm,a=i.data.attrs||{},l=e.data.attrs||{};(Q(l.__ob__)||Qe(l._v_attr_proxy))&&(l=e.data.attrs=Fe({},l));for(r in l)n=l[r],s=a[r],s!==n&&yb(o,r,n,e.data.pre);(Kn||v0)&&l.value!==a.value&&yb(o,"value",l.value);for(r in a)ye(l[r])&&(Sf(r)?o.removeAttributeNS(wf,fb(r)):ub(r)||o.removeAttribute(r))}}function yb(i,e,t,r){r||i.tagName.indexOf("-")>-1?bb(i,e,t):MR(e)?Rl(t)?i.removeAttribute(e):(t=e==="allowfullscreen"&&i.tagName==="EMBED"?"true":e,i.setAttribute(e,t)):ub(e)?i.setAttribute(e,$R(e,t)):Sf(e)?Rl(t)?i.removeAttributeNS(wf,fb(e)):i.setAttributeNS(wf,e,t):bb(i,e,t)}function bb(i,e,t){if(Rl(t))i.removeAttribute(e);else{if(Kn&&!Zn&&i.tagName==="TEXTAREA"&&e==="placeholder"&&t!==""&&!i.__ieph){var r=function(n){n.stopImmediatePropagation(),i.removeEventListener("input",r)};i.addEventListener("input",r),i.__ieph=!0}i.setAttribute(e,t)}}var pD={create:vb,update:vb};function wb(i,e){var t=e.elm,r=e.data,n=i.data;if(!(ye(r.staticClass)&&ye(r.class)&&(ye(n)||ye(n.staticClass)&&ye(n.class)))){var s=BR(e),o=t._transitionClasses;Q(o)&&(s=xf(s,Of(o))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var gD={create:wb,update:wb},_f="__r",Pf="__c";function mD(i){if(Q(i[_f])){var e=Kn?"change":"input";i[e]=[].concat(i[_f],i[e]||[]),delete i[_f]}Q(i[Pf])&&(i.change=[].concat(i[Pf],i.change||[]),delete i[Pf])}var go;function vD(i,e,t){var r=go;return function n(){var s=e.apply(null,arguments);s!==null&&Sb(i,n,t,r)}}var yD=ef&&!(y0&&Number(y0[1])<=53);function bD(i,e,t,r){if(yD){var n=Y0,s=e;e=s._wrapper=function(o){if(o.target===o.currentTarget||o.timeStamp>=n||o.timeStamp<=0||o.target.ownerDocument!==document)return s.apply(this,arguments)}}go.addEventListener(i,e,b0?{capture:t,passive:r}:t)}function Sb(i,e,t,r){(r||go).removeEventListener(i,e._wrapper||e,t)}function Ef(i,e){if(!(ye(i.data.on)&&ye(e.data.on))){var t=e.data.on||{},r=i.data.on||{};go=e.elm||i.elm,mD(t),E0(t,r,bD,Sb,vD,e.context),go=void 0}}var wD={create:Ef,update:Ef,destroy:function(i){return Ef(i,Br)}},Ll;function xb(i,e){if(!(ye(i.data.domProps)&&ye(e.data.domProps))){var t,r,n=e.elm,s=i.data.domProps||{},o=e.data.domProps||{};(Q(o.__ob__)||Qe(o._v_attr_proxy))&&(o=e.data.domProps=Fe({},o));for(t in s)t in o||(n[t]="");for(t in o){if(r=o[t],t==="textContent"||t==="innerHTML"){if(e.children&&(e.children.length=0),r===s[t])continue;n.childNodes.length===1&&n.removeChild(n.childNodes[0])}if(t==="value"&&n.tagName!=="PROGRESS"){n._value=r;var a=ye(r)?"":String(r);SD(n,a)&&(n.value=a)}else if(t==="innerHTML"&&Cf(n.tagName)&&ye(n.innerHTML)){Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>".concat(r,"</svg>");for(var l=Ll.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;l.firstChild;)n.appendChild(l.firstChild)}else if(r!==s[t])try{n[t]=r}catch{}}}}function SD(i,e){return!i.composing&&(i.tagName==="OPTION"||xD(i,e)||OD(i,e))}function xD(i,e){var t=!0;try{t=document.activeElement!==i}catch{}return t&&i.value!==e}function OD(i,e){var t=i.value,r=i._vModifiers;if(Q(r)){if(r.number)return eo(t)!==eo(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}var CD={create:xb,update:xb},kD=tn(function(i){var e={},t=/;(?![^(]*\))/g,r=/:(.+)/;return i.split(t).forEach(function(n){if(n){var s=n.split(r);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e});function Tf(i){var e=Ob(i.style);return i.staticStyle?Fe(i.staticStyle,e):e}function Ob(i){return Array.isArray(i)?u0(i):typeof i=="string"?kD(i):i}function AD(i,e){var t={},r;if(e)for(var n=i;n.componentInstance;)n=n.componentInstance._vnode,n&&n.data&&(r=Tf(n.data))&&Fe(t,r);(r=Tf(i.data))&&Fe(t,r);for(var s=i;s=s.parent;)s.data&&(r=Tf(s.data))&&Fe(t,r);return t}var _D=/^--/,Cb=/\s*!important$/,kb=function(i,e,t){if(_D.test(e))i.style.setProperty(e,t);else if(Cb.test(t))i.style.setProperty(to(e),t.replace(Cb,""),"important");else{var r=PD(e);if(Array.isArray(t))for(var n=0,s=t.length;n<s;n++)i.style[r]=t[n];else i.style[r]=t}},Ab=["Webkit","Moz","ms"],$l,PD=tn(function(i){if($l=$l||document.createElement("div").style,i=rn(i),i!=="filter"&&i in $l)return i;for(var e=i.charAt(0).toUpperCase()+i.slice(1),t=0;t<Ab.length;t++){var r=Ab[t]+e;if(r in $l)return r}});function _b(i,e){var t=e.data,r=i.data;if(!(ye(t.staticStyle)&&ye(t.style)&&ye(r.staticStyle)&&ye(r.style))){var n,s,o=e.elm,a=r.staticStyle,l=r.normalizedStyle||r.style||{},c=a||l,h=Ob(e.data.style)||{};e.data.normalizedStyle=Q(h.__ob__)?Fe({},h):h;var u=AD(e,!0);for(s in c)ye(u[s])&&kb(o,s,"");for(s in u)n=u[s],n!==c[s]&&kb(o,s,n??"")}}var ED={create:_b,update:_b},Pb=/\s+/;function Eb(i,e){if(!(!e||!(e=e.trim())))if(i.classList)e.indexOf(" ")>-1?e.split(Pb).forEach(function(r){return i.classList.add(r)}):i.classList.add(e);else{var t=" ".concat(i.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&i.setAttribute("class",(t+e).trim())}}function Tb(i,e){if(!(!e||!(e=e.trim())))if(i.classList)e.indexOf(" ")>-1?e.split(Pb).forEach(function(n){return i.classList.remove(n)}):i.classList.remove(e),i.classList.length||i.removeAttribute("class");else{for(var t=" ".concat(i.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");t=t.trim(),t?i.setAttribute("class",t):i.removeAttribute("class")}}function Ib(i){if(i){if(typeof i=="object"){var e={};return i.css!==!1&&Fe(e,Rb(i.name||"v")),Fe(e,i),e}else if(typeof i=="string")return Rb(i)}}var Rb=tn(function(i){return{enterClass:"".concat(i,"-enter"),enterToClass:"".concat(i,"-enter-to"),enterActiveClass:"".concat(i,"-enter-active"),leaveClass:"".concat(i,"-leave"),leaveToClass:"".concat(i,"-leave-to"),leaveActiveClass:"".concat(i,"-leave-active")}}),Db=Gt&&!Zn,ss="transition",If="animation",Ml="transition",Bl="transitionend",Rf="animation",Lb="animationend";Db&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(Ml="WebkitTransition",Bl="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Rf="WebkitAnimation",Lb="webkitAnimationEnd"));var $b=Gt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(i){return i()};function Mb(i){$b(function(){$b(i)})}function un(i,e){var t=i._transitionClasses||(i._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),Eb(i,e))}function Zi(i,e){i._transitionClasses&&Er(i._transitionClasses,e),Tb(i,e)}function Bb(i,e,t){var r=Nb(i,e),n=r.type,s=r.timeout,o=r.propCount;if(!n)return t();var a=n===ss?Bl:Lb,l=0,c=function(){i.removeEventListener(a,h),t()},h=function(u){u.target===i&&++l>=o&&c()};setTimeout(function(){l<o&&c()},s+1),i.addEventListener(a,h)}var TD=/\b(transform|all)(,|$)/;function Nb(i,e){var t=window.getComputedStyle(i),r=(t[Ml+"Delay"]||"").split(", "),n=(t[Ml+"Duration"]||"").split(", "),s=zb(r,n),o=(t[Rf+"Delay"]||"").split(", "),a=(t[Rf+"Duration"]||"").split(", "),l=zb(o,a),c,h=0,u=0;e===ss?s>0&&(c=ss,h=s,u=n.length):e===If?l>0&&(c=If,h=l,u=a.length):(h=Math.max(s,l),c=h>0?s>l?ss:If:null,u=c?c===ss?n.length:a.length:0);var f=c===ss&&TD.test(t[Ml+"Property"]);return{type:c,timeout:h,propCount:u,hasTransform:f}}function zb(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max.apply(null,e.map(function(t,r){return Fb(t)+Fb(i[r])}))}function Fb(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function Df(i,e){var t=i.elm;Q(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=Ib(i.data.transition);if(!ye(r)&&!(Q(t._enterCb)||t.nodeType!==1)){for(var n=r.css,s=r.type,o=r.enterClass,a=r.enterToClass,l=r.enterActiveClass,c=r.appearClass,h=r.appearToClass,u=r.appearActiveClass,f=r.beforeEnter,d=r.enter,p=r.afterEnter,g=r.enterCancelled,y=r.beforeAppear,v=r.appear,S=r.afterAppear,k=r.appearCancelled,P=r.duration,T=ln,R=ln.$vnode;R&&R.parent;)T=R.context,R=R.parent;var D=!T._isMounted||!i.isRootInsert;if(!(D&&!v&&v!=="")){var j=D&&c?c:o,M=D&&u?u:l,G=D&&h?h:a,re=D&&y||f,w=D&&Xe(v)?v:d,C=D&&S||p,m=D&&k||g,L=eo(xt(P)?P.enter:P),Y=n!==!1&&!Zn,X=Lf(w),ie=t._enterCb=gl(function(){Y&&(Zi(t,G),Zi(t,M)),ie.cancelled?(Y&&Zi(t,j),m&&m(t)):C&&C(t),t._enterCb=null});i.data.show||Lr(i,"insert",function(){var H=t.parentNode,te=H&&H._pending&&H._pending[i.key];te&&te.tag===i.tag&&te.elm._leaveCb&&te.elm._leaveCb(),w&&w(t,ie)}),re&&re(t),Y&&(un(t,j),un(t,M),Mb(function(){Zi(t,j),ie.cancelled||(un(t,G),X||(Wb(L)?setTimeout(ie,L):Bb(t,s,ie)))})),i.data.show&&(e&&e(),w&&w(t,ie)),!Y&&!X&&ie()}}}function Hb(i,e){var t=i.elm;Q(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=Ib(i.data.transition);if(ye(r)||t.nodeType!==1)return e();if(Q(t._leaveCb))return;var n=r.css,s=r.type,o=r.leaveClass,a=r.leaveToClass,l=r.leaveActiveClass,c=r.beforeLeave,h=r.leave,u=r.afterLeave,f=r.leaveCancelled,d=r.delayLeave,p=r.duration,g=n!==!1&&!Zn,y=Lf(h),v=eo(xt(p)?p.leave:p),S=t._leaveCb=gl(function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[i.key]=null),g&&(Zi(t,a),Zi(t,l)),S.cancelled?(g&&Zi(t,o),f&&f(t)):(e(),u&&u(t)),t._leaveCb=null});d?d(k):k();function k(){S.cancelled||(!i.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[i.key]=i),c&&c(t),g&&(un(t,o),un(t,l),Mb(function(){Zi(t,o),S.cancelled||(un(t,a),y||(Wb(v)?setTimeout(S,v):Bb(t,s,S)))})),h&&h(t,S),!g&&!y&&S())}}function Wb(i){return typeof i=="number"&&!isNaN(i)}function Lf(i){if(ye(i))return!1;var e=i.fns;return Q(e)?Lf(Array.isArray(e)?e[0]:e):(i._length||i.length)>1}function jb(i,e){e.data.show!==!0&&Df(e)}var ID=Gt?{create:jb,activate:jb,remove:function(i,e){i.data.show!==!0?Hb(i,e):e()}}:{},RD=[pD,gD,wD,CD,ED,ID],DD=RD.concat(dD),LD=lD({nodeOps:nD,modules:DD});Zn&&document.addEventListener("selectionchange",function(){var i=document.activeElement;i&&i.vmodel&&$f(i,"input")});var Vb={inserted:function(i,e,t,r){t.tag==="select"?(r.elm&&!r.elm._vOptions?Lr(t,"postpatch",function(){Vb.componentUpdated(i,e,t)}):Ub(i,e,t.context),i._vOptions=[].map.call(i.options,Nl)):(t.tag==="textarea"||kf(i.type))&&(i._vModifiers=e.modifiers,e.modifiers.lazy||(i.addEventListener("compositionstart",$D),i.addEventListener("compositionend",Qb),i.addEventListener("change",Qb),Zn&&(i.vmodel=!0)))},componentUpdated:function(i,e,t){if(t.tag==="select"){Ub(i,e,t.context);var r=i._vOptions,n=i._vOptions=[].map.call(i.options,Nl);if(n.some(function(o,a){return!nn(o,r[a])})){var s=i.multiple?e.value.some(function(o){return Gb(o,n)}):e.value!==e.oldValue&&Gb(e.value,n);s&&$f(i,"change")}}}};function Ub(i,e,t){Xb(i,e),(Kn||v0)&&setTimeout(function(){Xb(i,e)},0)}function Xb(i,e,t){var r=e.value,n=i.multiple;if(!(n&&!Array.isArray(r))){for(var s,o,a=0,l=i.options.length;a<l;a++)if(o=i.options[a],n)s=d0(r,Nl(o))>-1,o.selected!==s&&(o.selected=s);else if(nn(Nl(o),r)){i.selectedIndex!==a&&(i.selectedIndex=a);return}n||(i.selectedIndex=-1)}}function Gb(i,e){return e.every(function(t){return!nn(t,i)})}function Nl(i){return"_value"in i?i._value:i.value}function $D(i){i.target.composing=!0}function Qb(i){i.target.composing&&(i.target.composing=!1,$f(i.target,"input"))}function $f(i,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),i.dispatchEvent(t)}function Mf(i){return i.componentInstance&&(!i.data||!i.data.transition)?Mf(i.componentInstance._vnode):i}var MD={bind:function(i,e,t){var r=e.value;t=Mf(t);var n=t.data&&t.data.transition,s=i.__vOriginalDisplay=i.style.display==="none"?"":i.style.display;r&&n?(t.data.show=!0,Df(t,function(){i.style.display=s})):i.style.display=r?s:"none"},update:function(i,e,t){var r=e.value,n=e.oldValue;if(!r!=!n){t=Mf(t);var s=t.data&&t.data.transition;s?(t.data.show=!0,r?Df(t,function(){i.style.display=i.__vOriginalDisplay}):Hb(t,function(){i.style.display="none"})):i.style.display=r?i.__vOriginalDisplay:"none"}},unbind:function(i,e,t,r,n){n||(i.style.display=i.__vOriginalDisplay)}},BD={model:Vb,show:MD},Yb={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Bf(i){var e=i&&i.componentOptions;return e&&e.Ctor.options.abstract?Bf(N0(e.children)):i}function qb(i){var e={},t=i.$options;for(var r in t.propsData)e[r]=i[r];var n=t._parentListeners;for(var r in n)e[rn(r)]=n[r];return e}function Kb(i,e){if(/\d-keep-alive$/.test(e.tag))return i("keep-alive",{props:e.componentOptions.propsData})}function ND(i){for(;i=i.parent;)if(i.data.transition)return!0}function zD(i,e){return e.key===i.key&&e.tag===i.tag}var FD=function(i){return i.tag||ao(i)},HD=function(i){return i.name==="show"},WD={name:"transition",props:Yb,abstract:!0,render:function(i){var e=this,t=this.$slots.default;if(t&&(t=t.filter(FD),!!t.length)){var r=this.mode,n=t[0];if(ND(this.$vnode))return n;var s=Bf(n);if(!s)return n;if(this._leaving)return Kb(i,n);var o="__transition-".concat(this._uid,"-");s.key=s.key==null?s.isComment?o+"comment":o+s.tag:Js(s.key)?String(s.key).indexOf(o)===0?s.key:o+s.key:s.key;var a=(s.data||(s.data={})).transition=qb(this),l=this._vnode,c=Bf(l);if(s.data.directives&&s.data.directives.some(HD)&&(s.data.show=!0),c&&c.data&&!zD(s,c)&&!ao(c)&&!(c.componentInstance&&c.componentInstance._vnode.isComment)){var h=c.data.transition=Fe({},a);if(r==="out-in")return this._leaving=!0,Lr(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Kb(i,n);if(r==="in-out"){if(ao(s))return l;var u,f=function(){u()};Lr(a,"afterEnter",f),Lr(a,"enterCancelled",f),Lr(h,"delayLeave",function(d){u=d})}}return n}}},Zb=Fe({tag:String,moveClass:String},Yb);delete Zb.mode;var jD={props:Zb,beforeMount:function(){var i=this,e=this._update;this._update=function(t,r){var n=X0(i);i.__patch__(i._vnode,i.kept,!1,!0),i._vnode=i.kept,n(),e.call(i,t,r)}},render:function(i){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,n=this.$slots.default||[],s=this.children=[],o=qb(this),a=0;a<n.length;a++){var l=n[a];l.tag&&l.key!=null&&String(l.key).indexOf("__vlist")!==0&&(s.push(l),t[l.key]=l,(l.data||(l.data={})).transition=o)}if(r){for(var c=[],h=[],a=0;a<r.length;a++){var l=r[a];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),t[l.key]?c.push(l):h.push(l)}this.kept=i(e,null,c),this.removed=h}return i(e,null,s)},updated:function(){var i=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";!i.length||!this.hasMove(i[0].elm,e)||(i.forEach(VD),i.forEach(UD),i.forEach(XD),this._reflow=document.body.offsetHeight,i.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;un(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Bl,r._moveCb=function s(o){o&&o.target!==r||(!o||/transform$/.test(o.propertyName))&&(r.removeEventListener(Bl,s),r._moveCb=null,Zi(r,e))})}}))},methods:{hasMove:function(i,e){if(!Db)return!1;if(this._hasMove)return this._hasMove;var t=i.cloneNode();i._transitionClasses&&i._transitionClasses.forEach(function(n){Tb(t,n)}),Eb(t,e),t.style.display="none",this.$el.appendChild(t);var r=Nb(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}};function VD(i){i.elm._moveCb&&i.elm._moveCb(),i.elm._enterCb&&i.elm._enterCb()}function UD(i){i.data.newPos=i.elm.getBoundingClientRect()}function XD(i){var e=i.data.pos,t=i.data.newPos,r=e.left-t.left,n=e.top-t.top;if(r||n){i.data.moved=!0;var s=i.elm.style;s.transform=s.WebkitTransform="translate(".concat(r,"px,").concat(n,"px)"),s.transitionDuration="0s"}}var GD={Transition:WD,TransitionGroup:jD};_e.config.mustUseProp=DR,_e.config.isReservedTag=pb,_e.config.isReservedAttr=IR,_e.config.getTagNamespace=jR,_e.config.isUnknownElement=VR,Fe(_e.options.directives,BD),Fe(_e.options.components,GD),_e.prototype.__patch__=Gt?LD:ht,_e.prototype.$mount=function(i,e){return i=i&&Gt?UR(i):void 0,N2(this,i,e)},Gt&&setTimeout(function(){Jt.devtools&&yl&&yl.emit("init",_e)},0);var zl=(i=>(i.Navigate="[Expo Player] Navigate",i.NavigateForced="[Expo Player] Navigate Forced",i.ArtboardLoadBundle="[Expo Player] Artboard Load Bundle",i))(zl||{});class QD{constructor(e,t){A(this,"type","[Expo Player] Navigate");this.action=e,this.setting=t}}class Nf{constructor(e){A(this,"type","[Expo Player] Navigate Forced");this.target=e}}class Jb{constructor(e){A(this,"type","[Expo Player] Artboard Load Bundle");this.artboardId=e}}const YD=(i,e)=>{let t;return typeof CustomEvent=="function"?t=new CustomEvent(i,{detail:e}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(i,!0,!0,e)),t};function zf(i,e,t){if(i.componentInstance)i.componentInstance.$emit(e,t);else{const r=YD(e,t);i.elm&&i.elm.dispatchEvent(r)}}const Fl="_vue_doubleTap_handler",qD=(i,e,t)=>{const r=i,n=+(e.arg||375),o=!!e.modifiers.triple?3:2;(()=>{let l=0,c=0;r[Fl]={touchstart(h){const u=new Date().getTime();u-l<n?++c===o&&zf(t,"dbltap",h):c=1,l=u}},r.addEventListener("touchstart",r[Fl].touchstart)})()},KD=i=>{if(ZD(i)){const e=i;e.removeEventListener("touchstart",e[Fl].touchstart)}};function ZD(i){return i[Fl]!==void 0}const ew={bind:qD,unbind:KD},Ff=Symbol("_vue_shortkey_handler"),JD="ignoreInput";function fn(i,e){return i.modifiers?Object.keys(i.modifiers).some(t=>t===e):!1}function tw(i){const e=i.arg;return e||"keydown"}function eL(i){if(i.modifiers){const e=Object.keys(i.modifiers)[0];if(e){const t=parseInt(e,10);return Number.isInteger(t)?t:e}}}const tL=["input","textarea"];function iw(i){const e=i.value;let t=null,r=window.document;return typeof e=="function"?t=e:typeof e=="object"&&(t=e.handler,e.targetDocument&&(r=e.targetDocument)),{callback:t,targetDocument:r}}function rw(i,e,t){const{callback:r,targetDocument:n}=iw(e),s=t.context,o=i;if(e.arg){const a=eL(e);if(!a)return;const l=fn(e,JD),c=fn(e,"ctrl"),h=fn(e,"ctrlOrCmd"),u=fn(e,"shift"),f=fn(e,"alt"),d=fn(e,"stop"),p=fn(e,"prevent"),g=v=>{if(r){if(l&&v.target&&v.target instanceof HTMLElement){const{nodeName:S}=v.target;if(tL.some(k=>ko(k,S)))return}if(typeof a=="string"&&DS(v,a)||v.keyCode===a){if(c&&!v.ctrlKey||h&&!(v.ctrlKey||v.metaKey)||u&&!v.shiftKey||f&&!v.altKey)return;d&&v.stopPropagation(),p&&v.preventDefault(),r.call(s,v)}}};o[Ff]=g;const y=tw(e);n.addEventListener(y,g)}}function nw(i,e){const{targetDocument:t}=iw(e),r=i,n=r[Ff];if(n){const s=tw(e);t.removeEventListener(s,n),delete r[Ff]}}const iL={bind:rw,update(i,e,t){e.value!==e.oldValue&&(nw(i,e),rw(i,e,t))},unbind:nw},Hl=Symbol("_vue_watchElementProp_handler");function rL(i){i.value}function nL(i){i.arg}function sL(i){rL(i),nL(i)}function oL(i,e){sL(e);const t=i,r={handler(){window.requestAnimationFrame(()=>{Hf(t,e)})},previousValue:0};t[Hl]=r;const{handler:n}=r;t.addEventListener("transitionend",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}function aL(i){const e=i,t=e[Hl];if(t){const{handler:r}=t;e.removeEventListener("transitionend",r),window.removeEventListener("resize",r),delete e[Hl]}}function Hf(i,e){let t;const r=e.arg;if(!r)return;const n=i[r],s=i[Hl];s&&(t=s.previousValue,s.previousValue=n),t!==n&&e.value(n)}const lL={bind:oL,inserted(i,e){Hf(i,e)},componentUpdated(i,e){Hf(i,e)},unbind:aL};var ui=(i=>(i.SetOptions="[Expo Player] Set Options",i.SetProject="[Expo Player] Set Project",i.SetCurrentArtboard="[Expo Player] Set Current Artboard",i.SetCurrentArtboardAction="[Expo Player] Set Current Artboard Action",i.SetArtboardBundle="[Expo Player] Set Artboard Bundle",i.ToggleHotspots="[Expo Player] Toggle Hotspots",i.SetViewportScale="[Expo Player] Set Viewport Scale",i.HidePlayer="[Expo Player] Hide Player",i.ShowPlayer="[Expo Player] Show Player",i))(ui||{});class cL{constructor(){A(this,"type","[Expo Player] Hide Player")}}class hL{constructor(){A(this,"type","[Expo Player] Show Player")}}class uL{constructor(e){A(this,"type","[Expo Player] Set Project");this.project=e}}class fL{constructor(e){A(this,"type","[Expo Player] Set Options");this.options=e}}class sw{constructor(e,t){A(this,"type","[Expo Player] Set Current Artboard");this.artboard=e,this.options=t}}class ow{constructor(e){A(this,"type","[Expo Player] Set Current Artboard Action");this.action=e}}class dL{constructor(e,t){A(this,"type","[Expo Player] Set Artboard Bundle");this.artboardId=e,this.bundle=t}}class pL{constructor(e){A(this,"type","[Expo Player] Toggle Hotspots");this.hotspotsVisible=e}}class gL{constructor(e){A(this,"type","[Expo Player] Set Viewport Scale");this.scale=e}}function Ot(i,e){let t,r;return i!==void 0&&(typeof i=="function"?(t=i,r=e):!Array.isArray(i)&&i.type!==void 0?(t=i.type,r=e):r=i),{type:t,...r}}const mL=_e.extend({props:{bundle:Ot({required:!0}),project:Ot({required:!0})},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},projectHeight(){return this.$store.getters.projectDimensions.height},scaleToFitWidth(){const{fitArtboardToProjectWidth:i}=this.$store.state;return i},scaleX(){return this.scaleToFitWidth?this.projectWidth/this.bundle.artboardAsset.Dimensions.Width:1},headerEndY(){return this.bundle.artboard.HeaderHeight*this.scaleX},footerStartY(){return(this.bundle.artboardAsset.Dimensions.Height-this.bundle.artboard.FooterHeight)*this.scaleX},masterActions(){const i={},e=this.bundle.artboard.MasterIds,t=BS(this.project.masters,e,n=>n.Actions);return Object.values(t).reduce((n,s)=>(Object.values(s).forEach(o=>{n[o.Id]=o}),n),i)},allActions(){return{...this.masterActions,...this.bundle.artboard.ActionPool.Actions}},headerActions(){if(!this.bundle.artboard.HasHeader)return{};const i={};return Object.keys(this.allActions).forEach(e=>{const t=this.allActions[e],{Start:r,End:n}=t.Hotspot;if(r.Y<=this.headerEndY)if(n.Y<=this.headerEndY)i[e]=t;else{const s=Ao(t);s.Hotspot.End.Y=this.headerEndY,s.Hotspot.Dimensions.Height=s.Hotspot.End.Y-s.Hotspot.Start.Y,i[e]=s}}),i},footerActions(){if(!this.bundle.artboard.HasFooter)return{};const i={};return Object.keys(this.allActions).forEach(e=>{const t=this.allActions[e],{Start:r,End:n}=t.Hotspot;if(n.Y>=this.footerStartY)if(r.Y>=this.footerStartY)i[e]=t;else{const s=Ao(t);s.Hotspot.Start.Y=this.footerStartY,s.Hotspot.Dimensions.Height=s.Hotspot.End.Y-s.Hotspot.Start.Y,i[e]=s}}),i},bodyActions(){const i={...this.allActions},e=Object.keys(i);for(let t=0;t<e.length;t++){const r=e[t];let n;if(this.bundle.artboard.HasHeader){const s=i[r],{Start:o,End:a}=s.Hotspot;if(o.Y<=this.headerEndY)if(a.Y<=this.headerEndY){delete i[r];continue}else n=Ao(s),n.Hotspot.Start.Y=this.headerEndY,n.Hotspot.Dimensions.Height=n.Hotspot.End.Y-n.Hotspot.Start.Y,i[r]=n}if(this.bundle.artboard.HasFooter){const s=i[r],{Start:o,End:a}=s.Hotspot;if(a.Y>=this.footerStartY)if(o.Y>=this.footerStartY){delete i[r];continue}else n=n||Ao(s),n.Hotspot.End.Y=this.footerStartY,n.Hotspot.Dimensions.Height=n.Hotspot.End.Y-n.Hotspot.Start.Y,i[r]=n}}return i}}});function fi(i,e,t,r,n,s,o,a){var l=typeof i=="function"?i.options:i;e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),s&&(l._scopeId="data-v-"+s);var c;if(o?(c=function(f){f=f||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!f&&typeof __VUE_SSR_CONTEXT__<"u"&&(f=__VUE_SSR_CONTEXT__),n&&n.call(this,f),f&&f._registeredComponents&&f._registeredComponents.add(o)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var h=l.render;l.render=function(d,p){return c.call(p),h(d,p)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:i,options:l}}var vL=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e._t("default",null,{headerActions:e.headerActions,bodyActions:e.bodyActions,footerActions:e.footerActions})],2)},yL=[],bL=fi(mL,vL,yL,!1,null,null,null,null);const wL=bL.exports,Ji="_vue_dragScroll_handler",aw=["mousedown","touchstart"],lw=["mousemove","touchmove"],cw=["mouseup","touchend"];function SL(i){const e=i.value;let t=window.document;return typeof e=="object"&&e.targetDocument&&(t=e.targetDocument),{targetDocument:t}}function xL(i){return i.defaultView?i.defaultView:window}const OL=(i,e,t)=>{const r=i,n=SL(e);(()=>{let o,a,l,c,h=!1;const u=xL(n.targetDocument),f=u.MouseEvent,d=u.HTMLElement;r[Ji]={resolvedWindow:u,mousedown(p){const g=p;g.cancelable&&g.preventDefault();const y=g instanceof f?g:g.touches[0];o=y.clientX,a=y.clientY,l=!0,g.type==="touchstart"&&(h=!0)},mouseup(p){const g=p;!g.target||!(g.target instanceof HTMLElement||g.target instanceof d)||(g.type==="touchend"&&h===!0&&(c||(g.target.click(),h=!1)),l=!1,c=!1)},mousemove(p){const g=p;let y,v;const S=g instanceof f?g:g.touches[0];if(l){y=-o+(o=S.clientX),v=-a+(a=S.clientY);const{x:k,y:P}=AL(r),T=y/k,R=v/P;r.scrollLeft-=T,r.scrollTop-=R,c=T!==0&&r.scrollLeft!==0||R!==0&&r.scrollTop!==0,c&&zf(t,"dragscrollmove",{deltaX:-y,deltaY:-v,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop})}}},bn(r,aw,r[Ji].mousedown),bn(u,cw,r[Ji].mouseup),bn(u,lw,r[Ji].mousemove)})()},CL=i=>{if(kL(i)){const e=i,t=i[Ji].resolvedWindow;Vr(e,aw,e[Ji].mousedown),Vr(t,cw,e[Ji].mouseup),Vr(t,lw,e[Ji].mousemove)}};function kL(i){return i[Ji]!==void 0}function AL(i){const e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,r=e.height/i.offsetHeight||1;return{x:t,y:r}}const _L={bind:OL,unbind:CL};function hw(i){return!!i.TargetArtboardId}function PL(i){return!!i.Url}const er="_vue_clickTouch_handler",uw=["mousedown","touchstart"],Wf=["mousemove","touchmove"],fw=["mouseup","touchend"],EL=(i,e,t)=>{const r=i;(()=>{let s=!1,o=!1,a=[0,0];r[er]={mousedown(l){if(s=TL(l)&&l.target===r,!s)return;o=!1;const c=jf(l)?l.touches[0]:l;a=[c.pageX,c.pageY],bn(r,Wf,r[er].mousemove)},mousemove(l){const[c,h]=a,u=jf(l)?l.touches[0]:l;(u.pageX!==c||u.pageY!==h)&&(o=!0)},mouseup(l){s&&(o||zf(t,"click-touch",l),s=!1,o=!1,a=[0,0],Vr(r,Wf,r[er].mousemove))}},bn(r,uw,r[er].mousedown),bn(r,fw,r[er].mouseup)})()},TL=i=>jf(i)?!0:i.button===0,IL=i=>{if(RL(i)){const e=i;Vr(e,uw,e[er].mousedown),Vr(e,fw,e[er].mouseup),Vr(e,Wf,e[er].mousemove)}};function RL(i){return i[er]!==void 0}function jf(i){const e=i.touches;return e!==void 0&&e[0]!==void 0}const dw={bind:EL,unbind:IL};var Vf={},DL={get exports(){return Vf},set exports(i){Vf=i}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(i){(function(e,t,r,n){var s=["","webkit","Moz","MS","ms","o"],o=t.createElement("div"),a="function",l=Math.round,c=Math.abs,h=Date.now;function u(x,O,I){return setTimeout(k(x,I),O)}function f(x,O,I){return Array.isArray(x)?(d(x,I[O],I),!0):!1}function d(x,O,I){var V;if(x)if(x.forEach)x.forEach(O,I);else if(x.length!==n)for(V=0;V<x.length;)O.call(I,x[V],V,x),V++;else for(V in x)x.hasOwnProperty(V)&&O.call(I,x[V],V,x)}function p(x,O,I){var V="DEPRECATED METHOD: "+O+`
`+I+` AT 
`;return function(){var ne=new Error("get-stack-trace"),de=ne&&ne.stack?ne.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ae=e.console&&(e.console.warn||e.console.log);return Ae&&Ae.call(e.console,V,de),x.apply(this,arguments)}}var g;typeof Object.assign!="function"?g=function(O){if(O===n||O===null)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(O),V=1;V<arguments.length;V++){var ne=arguments[V];if(ne!==n&&ne!==null)for(var de in ne)ne.hasOwnProperty(de)&&(I[de]=ne[de])}return I}:g=Object.assign;var y=p(function(O,I,V){for(var ne=Object.keys(I),de=0;de<ne.length;)(!V||V&&O[ne[de]]===n)&&(O[ne[de]]=I[ne[de]]),de++;return O},"extend","Use `assign`."),v=p(function(O,I){return y(O,I,!0)},"merge","Use `assign`.");function S(x,O,I){var V=O.prototype,ne;ne=x.prototype=Object.create(V),ne.constructor=x,ne._super=V,I&&g(ne,I)}function k(x,O){return function(){return x.apply(O,arguments)}}function P(x,O){return typeof x==a?x.apply(O&&O[0]||n,O):x}function T(x,O){return x===n?O:x}function R(x,O,I){d(G(O),function(V){x.addEventListener(V,I,!1)})}function D(x,O,I){d(G(O),function(V){x.removeEventListener(V,I,!1)})}function j(x,O){for(;x;){if(x==O)return!0;x=x.parentNode}return!1}function M(x,O){return x.indexOf(O)>-1}function G(x){return x.trim().split(/\s+/g)}function re(x,O,I){if(x.indexOf&&!I)return x.indexOf(O);for(var V=0;V<x.length;){if(I&&x[V][I]==O||!I&&x[V]===O)return V;V++}return-1}function w(x){return Array.prototype.slice.call(x,0)}function C(x,O,I){for(var V=[],ne=[],de=0;de<x.length;){var Ae=O?x[de][O]:x[de];re(ne,Ae)<0&&V.push(x[de]),ne[de]=Ae,de++}return I&&(O?V=V.sort(function(mt,It){return mt[O]>It[O]}):V=V.sort()),V}function m(x,O){for(var I,V,ne=O[0].toUpperCase()+O.slice(1),de=0;de<s.length;){if(I=s[de],V=I?I+ne:O,V in x)return V;de++}return n}var L=1;function Y(){return L++}function X(x){var O=x.ownerDocument||x;return O.defaultView||O.parentWindow||e}var ie=/mobile|tablet|ip(ad|hone|od)|android/i,H="ontouchstart"in e,te=m(e,"PointerEvent")!==n,z=H&&ie.test(navigator.userAgent),B="touch",ue="pen",ae="mouse",oe="kinect",Ie=25,we=1,be=2,ge=4,Te=8,He=1,Ct=2,gt=4,b=8,q=16,U=Ct|gt,E=b|q,_=U|E,N=["x","y"],ee=["clientX","clientY"];function Z(x,O){var I=this;this.manager=x,this.callback=O,this.element=x.element,this.target=x.options.inputTarget,this.domHandler=function(V){P(x.options.enable,[x])&&I.handler(V)},this.init()}Z.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(X(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(X(this.element),this.evWin,this.domHandler)}};function W(x){var O,I=x.options.inputClass;return I?O=I:te?O=Wr:z?O=sc:H?O=id:O=ps,new O(x,se)}function se(x,O,I){var V=I.pointers.length,ne=I.changedPointers.length,de=O&we&&V-ne===0,Ae=O&(ge|Te)&&V-ne===0;I.isFirst=!!de,I.isFinal=!!Ae,de&&(x.session={}),I.eventType=O,fe(x,I),x.emit("hammer.input",I),x.recognize(I),x.session.prevInput=I}function fe(x,O){var I=x.session,V=O.pointers,ne=V.length;I.firstInput||(I.firstInput=$e(O)),ne>1&&!I.firstMultiple?I.firstMultiple=$e(O):ne===1&&(I.firstMultiple=!1);var de=I.firstInput,Ae=I.firstMultiple,ut=Ae?Ae.center:de.center,mt=O.center=ke(V);O.timeStamp=h(),O.deltaTime=O.timeStamp-de.timeStamp,O.angle=rr(ut,mt),O.distance=Tt(ut,mt),le(I,O),O.offsetDirection=Fr(O.deltaX,O.deltaY);var It=Et(O.deltaTime,O.deltaX,O.deltaY);O.overallVelocityX=It.x,O.overallVelocityY=It.y,O.overallVelocity=c(It.x)>c(It.y)?It.x:It.y,O.scale=Ae?ds(Ae.pointers,V):1,O.rotation=Ae?qe(Ae.pointers,V):0,O.maxPointers=I.prevInput?O.pointers.length>I.prevInput.maxPointers?O.pointers.length:I.prevInput.maxPointers:O.pointers.length,me(I,O);var zi=x.element;j(O.srcEvent.target,zi)&&(zi=O.srcEvent.target),O.target=zi}function le(x,O){var I=O.center,V=x.offsetDelta||{},ne=x.prevDelta||{},de=x.prevInput||{};(O.eventType===we||de.eventType===ge)&&(ne=x.prevDelta={x:de.deltaX||0,y:de.deltaY||0},V=x.offsetDelta={x:I.x,y:I.y}),O.deltaX=ne.x+(I.x-V.x),O.deltaY=ne.y+(I.y-V.y)}function me(x,O){var I=x.lastInterval||O,V=O.timeStamp-I.timeStamp,ne,de,Ae,ut;if(O.eventType!=Te&&(V>Ie||I.velocity===n)){var mt=O.deltaX-I.deltaX,It=O.deltaY-I.deltaY,zi=Et(V,mt,It);de=zi.x,Ae=zi.y,ne=c(zi.x)>c(zi.y)?zi.x:zi.y,ut=Fr(mt,It),x.lastInterval=O}else ne=I.velocity,de=I.velocityX,Ae=I.velocityY,ut=I.direction;O.velocity=ne,O.velocityX=de,O.velocityY=Ae,O.direction=ut}function $e(x){for(var O=[],I=0;I<x.pointers.length;)O[I]={clientX:l(x.pointers[I].clientX),clientY:l(x.pointers[I].clientY)},I++;return{timeStamp:h(),pointers:O,center:ke(O),deltaX:x.deltaX,deltaY:x.deltaY}}function ke(x){var O=x.length;if(O===1)return{x:l(x[0].clientX),y:l(x[0].clientY)};for(var I=0,V=0,ne=0;ne<O;)I+=x[ne].clientX,V+=x[ne].clientY,ne++;return{x:l(I/O),y:l(V/O)}}function Et(x,O,I){return{x:O/x||0,y:I/x||0}}function Fr(x,O){return x===O?He:c(x)>=c(O)?x<0?Ct:gt:O<0?b:q}function Tt(x,O,I){I||(I=N);var V=O[I[0]]-x[I[0]],ne=O[I[1]]-x[I[1]];return Math.sqrt(V*V+ne*ne)}function rr(x,O,I){I||(I=N);var V=O[I[0]]-x[I[0]],ne=O[I[1]]-x[I[1]];return Math.atan2(ne,V)*180/Math.PI}function qe(x,O){return rr(O[1],O[0],ee)+rr(x[1],x[0],ee)}function ds(x,O){return Tt(O[0],O[1],ee)/Tt(x[0],x[1],ee)}var wo={mousedown:we,mousemove:be,mouseup:ge},gi="mousedown",nc="mousemove mouseup";function ps(){this.evEl=gi,this.evWin=nc,this.pressed=!1,Z.apply(this,arguments)}S(ps,Z,{handler:function(O){var I=wo[O.type];I&we&&O.button===0&&(this.pressed=!0),I&be&&O.which!==1&&(I=ge),this.pressed&&(I&ge&&(this.pressed=!1),this.callback(this.manager,I,{pointers:[O],changedPointers:[O],pointerType:ae,srcEvent:O}))}});var ed={pointerdown:we,pointermove:be,pointerup:ge,pointercancel:Te,pointerout:Te},td={2:B,3:ue,4:ae,5:oe},So="pointerdown",Hr="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(So="MSPointerDown",Hr="MSPointerMove MSPointerUp MSPointerCancel");function Wr(){this.evEl=So,this.evWin=Hr,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}S(Wr,Z,{handler:function(O){var I=this.store,V=!1,ne=O.type.toLowerCase().replace("ms",""),de=ed[ne],Ae=td[O.pointerType]||O.pointerType,ut=Ae==B,mt=re(I,O.pointerId,"pointerId");de&we&&(O.button===0||ut)?mt<0&&(I.push(O),mt=I.length-1):de&(ge|Te)&&(V=!0),!(mt<0)&&(I[mt]=O,this.callback(this.manager,de,{pointers:I,changedPointers:[O],pointerType:Ae,srcEvent:O}),V&&I.splice(mt,1))}});var ZM={touchstart:we,touchmove:be,touchend:ge,touchcancel:Te},JM="touchstart",eB="touchstart touchmove touchend touchcancel";function Gw(){this.evTarget=JM,this.evWin=eB,this.started=!1,Z.apply(this,arguments)}S(Gw,Z,{handler:function(O){var I=ZM[O.type];if(I===we&&(this.started=!0),!!this.started){var V=tB.call(this,O,I);I&(ge|Te)&&V[0].length-V[1].length===0&&(this.started=!1),this.callback(this.manager,I,{pointers:V[0],changedPointers:V[1],pointerType:B,srcEvent:O})}}});function tB(x,O){var I=w(x.touches),V=w(x.changedTouches);return O&(ge|Te)&&(I=C(I.concat(V),"identifier",!0)),[I,V]}var iB={touchstart:we,touchmove:be,touchend:ge,touchcancel:Te},rB="touchstart touchmove touchend touchcancel";function sc(){this.evTarget=rB,this.targetIds={},Z.apply(this,arguments)}S(sc,Z,{handler:function(O){var I=iB[O.type],V=nB.call(this,O,I);V&&this.callback(this.manager,I,{pointers:V[0],changedPointers:V[1],pointerType:B,srcEvent:O})}});function nB(x,O){var I=w(x.touches),V=this.targetIds;if(O&(we|be)&&I.length===1)return V[I[0].identifier]=!0,[I,I];var ne,de,Ae=w(x.changedTouches),ut=[],mt=this.target;if(de=I.filter(function(It){return j(It.target,mt)}),O===we)for(ne=0;ne<de.length;)V[de[ne].identifier]=!0,ne++;for(ne=0;ne<Ae.length;)V[Ae[ne].identifier]&&ut.push(Ae[ne]),O&(ge|Te)&&delete V[Ae[ne].identifier],ne++;if(ut.length)return[C(de.concat(ut),"identifier",!0),ut]}var sB=2500,Qw=25;function id(){Z.apply(this,arguments);var x=k(this.handler,this);this.touch=new sc(this.manager,x),this.mouse=new ps(this.manager,x),this.primaryTouch=null,this.lastTouches=[]}S(id,Z,{handler:function(O,I,V){var ne=V.pointerType==B,de=V.pointerType==ae;if(!(de&&V.sourceCapabilities&&V.sourceCapabilities.firesTouchEvents)){if(ne)oB.call(this,I,V);else if(de&&aB.call(this,V))return;this.callback(O,I,V)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function oB(x,O){x&we?(this.primaryTouch=O.changedPointers[0].identifier,Yw.call(this,O)):x&(ge|Te)&&Yw.call(this,O)}function Yw(x){var O=x.changedPointers[0];if(O.identifier===this.primaryTouch){var I={x:O.clientX,y:O.clientY};this.lastTouches.push(I);var V=this.lastTouches,ne=function(){var de=V.indexOf(I);de>-1&&V.splice(de,1)};setTimeout(ne,sB)}}function aB(x){for(var O=x.srcEvent.clientX,I=x.srcEvent.clientY,V=0;V<this.lastTouches.length;V++){var ne=this.lastTouches[V],de=Math.abs(O-ne.x),Ae=Math.abs(I-ne.y);if(de<=Qw&&Ae<=Qw)return!0}return!1}var qw=m(o.style,"touchAction"),Kw=qw!==n,Zw="compute",Jw="auto",rd="manipulation",mn="none",xo="pan-x",Oo="pan-y",oc=cB();function nd(x,O){this.manager=x,this.set(O)}nd.prototype={set:function(x){x==Zw&&(x=this.compute()),Kw&&this.manager.element.style&&oc[x]&&(this.manager.element.style[qw]=x),this.actions=x.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var x=[];return d(this.manager.recognizers,function(O){P(O.options.enable,[O])&&(x=x.concat(O.getTouchAction()))}),lB(x.join(" "))},preventDefaults:function(x){var O=x.srcEvent,I=x.offsetDirection;if(this.manager.session.prevented){O.preventDefault();return}var V=this.actions,ne=M(V,mn)&&!oc[mn],de=M(V,Oo)&&!oc[Oo],Ae=M(V,xo)&&!oc[xo];if(ne){var ut=x.pointers.length===1,mt=x.distance<2,It=x.deltaTime<250;if(ut&&mt&&It)return}if(!(Ae&&de)&&(ne||de&&I&U||Ae&&I&E))return this.preventSrc(O)},preventSrc:function(x){this.manager.session.prevented=!0,x.preventDefault()}};function lB(x){if(M(x,mn))return mn;var O=M(x,xo),I=M(x,Oo);return O&&I?mn:O||I?O?xo:Oo:M(x,rd)?rd:Jw}function cB(){if(!Kw)return!1;var x={},O=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(I){x[I]=O?e.CSS.supports("touch-action",I):!0}),x}var ac=1,ti=2,gs=4,jr=8,nr=jr,Co=16,Ni=32;function sr(x){this.options=g({},this.defaults,x||{}),this.id=Y(),this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=ac,this.simultaneous={},this.requireFail=[]}sr.prototype={defaults:{},set:function(x){return g(this.options,x),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(x){if(f(x,"recognizeWith",this))return this;var O=this.simultaneous;return x=lc(x,this),O[x.id]||(O[x.id]=x,x.recognizeWith(this)),this},dropRecognizeWith:function(x){return f(x,"dropRecognizeWith",this)?this:(x=lc(x,this),delete this.simultaneous[x.id],this)},requireFailure:function(x){if(f(x,"requireFailure",this))return this;var O=this.requireFail;return x=lc(x,this),re(O,x)===-1&&(O.push(x),x.requireFailure(this)),this},dropRequireFailure:function(x){if(f(x,"dropRequireFailure",this))return this;x=lc(x,this);var O=re(this.requireFail,x);return O>-1&&this.requireFail.splice(O,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(x){return!!this.simultaneous[x.id]},emit:function(x){var O=this,I=this.state;function V(ne){O.manager.emit(ne,x)}I<jr&&V(O.options.event+eS(I)),V(O.options.event),x.additionalEvent&&V(x.additionalEvent),I>=jr&&V(O.options.event+eS(I))},tryEmit:function(x){if(this.canEmit())return this.emit(x);this.state=Ni},canEmit:function(){for(var x=0;x<this.requireFail.length;){if(!(this.requireFail[x].state&(Ni|ac)))return!1;x++}return!0},recognize:function(x){var O=g({},x);if(!P(this.options.enable,[this,O])){this.reset(),this.state=Ni;return}this.state&(nr|Co|Ni)&&(this.state=ac),this.state=this.process(O),this.state&(ti|gs|jr|Co)&&this.tryEmit(O)},process:function(x){},getTouchAction:function(){},reset:function(){}};function eS(x){return x&Co?"cancel":x&jr?"end":x&gs?"move":x&ti?"start":""}function tS(x){return x==q?"down":x==b?"up":x==Ct?"left":x==gt?"right":""}function lc(x,O){var I=O.manager;return I?I.get(x):x}function mi(){sr.apply(this,arguments)}S(mi,sr,{defaults:{pointers:1},attrTest:function(x){var O=this.options.pointers;return O===0||x.pointers.length===O},process:function(x){var O=this.state,I=x.eventType,V=O&(ti|gs),ne=this.attrTest(x);return V&&(I&Te||!ne)?O|Co:V||ne?I&ge?O|jr:O&ti?O|gs:ti:Ni}});function cc(){mi.apply(this,arguments),this.pX=null,this.pY=null}S(cc,mi,{defaults:{event:"pan",threshold:10,pointers:1,direction:_},getTouchAction:function(){var x=this.options.direction,O=[];return x&U&&O.push(Oo),x&E&&O.push(xo),O},directionTest:function(x){var O=this.options,I=!0,V=x.distance,ne=x.direction,de=x.deltaX,Ae=x.deltaY;return ne&O.direction||(O.direction&U?(ne=de===0?He:de<0?Ct:gt,I=de!=this.pX,V=Math.abs(x.deltaX)):(ne=Ae===0?He:Ae<0?b:q,I=Ae!=this.pY,V=Math.abs(x.deltaY))),x.direction=ne,I&&V>O.threshold&&ne&O.direction},attrTest:function(x){return mi.prototype.attrTest.call(this,x)&&(this.state&ti||!(this.state&ti)&&this.directionTest(x))},emit:function(x){this.pX=x.deltaX,this.pY=x.deltaY;var O=tS(x.direction);O&&(x.additionalEvent=this.options.event+O),this._super.emit.call(this,x)}});function sd(){mi.apply(this,arguments)}S(sd,mi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[mn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.scale-1)>this.options.threshold||this.state&ti)},emit:function(x){if(x.scale!==1){var O=x.scale<1?"in":"out";x.additionalEvent=this.options.event+O}this._super.emit.call(this,x)}});function od(){sr.apply(this,arguments),this._timer=null,this._input=null}S(od,sr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Jw]},process:function(x){var O=this.options,I=x.pointers.length===O.pointers,V=x.distance<O.threshold,ne=x.deltaTime>O.time;if(this._input=x,!V||!I||x.eventType&(ge|Te)&&!ne)this.reset();else if(x.eventType&we)this.reset(),this._timer=u(function(){this.state=nr,this.tryEmit()},O.time,this);else if(x.eventType&ge)return nr;return Ni},reset:function(){clearTimeout(this._timer)},emit:function(x){this.state===nr&&(x&&x.eventType&ge?this.manager.emit(this.options.event+"up",x):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}});function ad(){mi.apply(this,arguments)}S(ad,mi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[mn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.rotation)>this.options.threshold||this.state&ti)}});function ld(){mi.apply(this,arguments)}S(ld,mi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:U|E,pointers:1},getTouchAction:function(){return cc.prototype.getTouchAction.call(this)},attrTest:function(x){var O=this.options.direction,I;return O&(U|E)?I=x.overallVelocity:O&U?I=x.overallVelocityX:O&E&&(I=x.overallVelocityY),this._super.attrTest.call(this,x)&&O&x.offsetDirection&&x.distance>this.options.threshold&&x.maxPointers==this.options.pointers&&c(I)>this.options.velocity&&x.eventType&ge},emit:function(x){var O=tS(x.offsetDirection);O&&this.manager.emit(this.options.event+O,x),this.manager.emit(this.options.event,x)}});function hc(){sr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}S(hc,sr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[rd]},process:function(x){var O=this.options,I=x.pointers.length===O.pointers,V=x.distance<O.threshold,ne=x.deltaTime<O.time;if(this.reset(),x.eventType&we&&this.count===0)return this.failTimeout();if(V&&ne&&I){if(x.eventType!=ge)return this.failTimeout();var de=this.pTime?x.timeStamp-this.pTime<O.interval:!0,Ae=!this.pCenter||Tt(this.pCenter,x.center)<O.posThreshold;this.pTime=x.timeStamp,this.pCenter=x.center,!Ae||!de?this.count=1:this.count+=1,this._input=x;var ut=this.count%O.taps;if(ut===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=nr,this.tryEmit()},O.interval,this),ti):nr}return Ni},failTimeout:function(){return this._timer=u(function(){this.state=Ni},this.options.interval,this),Ni},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==nr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function or(x,O){return O=O||{},O.recognizers=T(O.recognizers,or.defaults.preset),new cd(x,O)}or.VERSION="2.0.7",or.defaults={domEvents:!1,touchAction:Zw,enable:!0,inputTarget:null,inputClass:null,preset:[[ad,{enable:!1}],[sd,{enable:!1},["rotate"]],[ld,{direction:U}],[cc,{direction:U},["swipe"]],[hc],[hc,{event:"doubletap",taps:2},["tap"]],[od]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var hB=1,iS=2;function cd(x,O){this.options=g({},or.defaults,O||{}),this.options.inputTarget=this.options.inputTarget||x,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=x,this.input=W(this),this.touchAction=new nd(this,this.options.touchAction),rS(this,!0),d(this.options.recognizers,function(I){var V=this.add(new I[0](I[1]));I[2]&&V.recognizeWith(I[2]),I[3]&&V.requireFailure(I[3])},this)}cd.prototype={set:function(x){return g(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},stop:function(x){this.session.stopped=x?iS:hB},recognize:function(x){var O=this.session;if(!O.stopped){this.touchAction.preventDefaults(x);var I,V=this.recognizers,ne=O.curRecognizer;(!ne||ne&&ne.state&nr)&&(ne=O.curRecognizer=null);for(var de=0;de<V.length;)I=V[de],O.stopped!==iS&&(!ne||I==ne||I.canRecognizeWith(ne))?I.recognize(x):I.reset(),!ne&&I.state&(ti|gs|jr)&&(ne=O.curRecognizer=I),de++}},get:function(x){if(x instanceof sr)return x;for(var O=this.recognizers,I=0;I<O.length;I++)if(O[I].options.event==x)return O[I];return null},add:function(x){if(f(x,"add",this))return this;var O=this.get(x.options.event);return O&&this.remove(O),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},remove:function(x){if(f(x,"remove",this))return this;if(x=this.get(x),x){var O=this.recognizers,I=re(O,x);I!==-1&&(O.splice(I,1),this.touchAction.update())}return this},on:function(x,O){if(x!==n&&O!==n){var I=this.handlers;return d(G(x),function(V){I[V]=I[V]||[],I[V].push(O)}),this}},off:function(x,O){if(x!==n){var I=this.handlers;return d(G(x),function(V){O?I[V]&&I[V].splice(re(I[V],O),1):delete I[V]}),this}},emit:function(x,O){this.options.domEvents&&uB(x,O);var I=this.handlers[x]&&this.handlers[x].slice();if(!(!I||!I.length)){O.type=x,O.preventDefault=function(){O.srcEvent.preventDefault()};for(var V=0;V<I.length;)I[V](O),V++}},destroy:function(){this.element&&rS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function rS(x,O){var I=x.element;if(I.style){var V;d(x.options.cssProps,function(ne,de){V=m(I.style,de),O?(x.oldCssProps[V]=I.style[V],I.style[V]=ne):I.style[V]=x.oldCssProps[V]||""}),O||(x.oldCssProps={})}}function uB(x,O){var I=t.createEvent("Event");I.initEvent(x,!0,!0),I.gesture=O,O.target.dispatchEvent(I)}g(or,{INPUT_START:we,INPUT_MOVE:be,INPUT_END:ge,INPUT_CANCEL:Te,STATE_POSSIBLE:ac,STATE_BEGAN:ti,STATE_CHANGED:gs,STATE_ENDED:jr,STATE_RECOGNIZED:nr,STATE_CANCELLED:Co,STATE_FAILED:Ni,DIRECTION_NONE:He,DIRECTION_LEFT:Ct,DIRECTION_RIGHT:gt,DIRECTION_UP:b,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:E,DIRECTION_ALL:_,Manager:cd,Input:Z,TouchAction:nd,TouchInput:sc,MouseInput:ps,PointerEventInput:Wr,TouchMouseInput:id,SingleTouchInput:Gw,Recognizer:sr,AttrRecognizer:mi,Tap:hc,Pan:cc,Swipe:ld,Pinch:sd,Rotate:ad,Press:od,on:R,off:D,each:d,merge:v,extend:y,assign:g,inherit:S,bindFn:k,prefixed:m});var fB=typeof e<"u"?e:typeof self<"u"?self:{};fB.Hammer=or,typeof n=="function"&&n.amd?n(function(){return or}):i.exports?i.exports=or:e[r]=or})(window,document,"Hammer")})(DL);const Wl=Vf,LL="__hammerConfig",$L=["tap","pan","pinch","press","rotate","swipe"],jl=["panstart","panend","panmove","pancancel","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout","pressup","rotatestart","rotatemove","rotateend","rotatecancel"],ML=["up","down","left","right","horizontal","vertical","all"],BL=(i,e)=>{const t=i;t.hammer||(t.hammer=new Wl.Manager(t));const r=t.hammer,n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}t.__hammerConfig=t.__hammerConfig||{},t.__hammerConfig[n]={};const s=e.modifiers;t.__hammerConfig[n].direction=t.__hammerConfig[n].direction||[],Object.keys(s).length&&Object.keys(s).filter(u=>e.modifiers[u]).forEach(u=>{const f=t.__hammerConfig[n].direction;f.indexOf(u)===-1&&f.push(String(u))});const o=$L.find(u=>u===n),a=jl.find(u=>u===n);if(!o&&!a){console.warn(`[vue-hammer] invalid event type: ${n}`);return}if(a&&t.__hammerConfig[a].direction.length!==0&&console.warn(`[vue-hammer] ${a} should not have directions`),!o)return;if((o==="tap"||o==="pinch"||o==="press"||o==="rotate")&&t.__hammerConfig[o].direction.length!==0)throw Error(`[vue-hammer] ${o} should not have directions`);let l=r.get(o);l||(l=new Wl[FL(o)],r.recognizers&&l.recognizeWith(r.recognizers),r.add(l));const c=t.hammerOptions&&t.hammerOptions[o];if(c&&(zL(c),l.set(c)),!n){console.warn("[vue-hammer] event type argument is required.");return}const h=jl.find(u=>u===n)?n:Uf(n,t.__hammerConfig[n].direction);r.handler&&r.off(h,r.handler),typeof e.value!="function"?(r.handler=void 0,console.warn(`[vue-hammer] invalid handler function for v-hammer: ${e.arg}`)):r.on(h,r.handler=e.value)},pw=(i,e)=>{if(!gw(i))return;const t=i,r=t.hammer;if(!r)return;const n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}const s=jl.find(o=>o===n)?n:Uf(n,t.__hammerConfig[n].direction);r.handler&&r.off(s,r.handler),typeof e.value!="function"?(r.handler=void 0,console.warn(`[vue-hammer] invalid handler function for v-hammer: ${e.arg}`)):r.on(s,r.handler=e.value)},NL=(i,e)=>{if(!gw(i))return;const t=i,r=t.hammer;if(!r)return;const n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}const s=jl.find(o=>o===n)?n:Uf(n,t.__hammerConfig[n].direction);r.handler&&r.off(s,r.handler),(!r.handlers||!Object.keys(r.handlers).length)&&(r.destroy(),t.hammer=void 0)},zL=i=>{const e=i.direction;if(typeof e=="string"){const t=`DIRECTION_${e.toUpperCase()}`;ML.indexOf(e)>-1&&Object.prototype.hasOwnProperty.call(Wl,t)?i.direction=Wl[t]:console.warn(`[vue-hammer] invalid direction: ${e}`)}},Uf=(i,e)=>{const t={};e.forEach(s=>{const o=s.toLowerCase();o==="horizontal"?(t.left=1,t.right=1):o==="vertical"?(t.up=1,t.down=1):o==="all"?(t.left=1,t.right=1,t.up=1,t.down=1):t[o]=1});const r=Object.keys(t);return r.length===0?i:r.map(s=>i+s).join(" ")};function gw(i){return i[LL]!==void 0}function FL(i){return i.charAt(0).toUpperCase()+i.slice(1)}const HL={inserted:BL,update:pw,componentUpdated:pw,unbind:NL},WL={[rt.Click]:"click",[rt.DoubleClick]:"dblclick"},jL=[rt.SwipeRight,rt.SwipeLeft,rt.SwipeUp,rt.SwipeDown],VL={[rt.SwipeRight]:"right",[rt.SwipeLeft]:"left",[rt.SwipeUp]:"up",[rt.SwipeDown]:"down"},UL=_e.extend({directives:{touch:HL,clickTouch:dw,doubleTap:ew},props:{interaction:Ot({required:!0})},computed:{interactionType(){return this.interaction.Type},isClickInteraction(){return this.interactionType===rt.Click},isDoubleClickInteraction(){return this.interactionType===rt.DoubleClick},isSwipeInteraction(){return jL.includes(this.interactionType)},clickEventHandlers(){const i=WL[this.interactionType];return i?{[i]:this.handleTrigger}:{}},doubleTapDirectiveOptions(){return{name:"double-tap"}},clickTouchDirectiveOptions(){return{name:"click-touch"}},swipeDirectiveOptions(){const i=VL[this.interactionType];return i?{name:"touch",arg:"swipe",value:this.handleTrigger,modifiers:{[i]:!0}}:void 0},hotspotData(){const i={};if(this.isDoubleClickInteraction){const e=this.doubleTapDirectiveOptions;i.on={...this.clickEventHandlers,dbltap:this.handleTrigger},i.directives=[e]}if(this.isClickInteraction){const e=this.clickTouchDirectiveOptions;dw&&(i.on={...i.on,"click-touch":this.handleTrigger},i.directives=[e])}if(this.isSwipeInteraction){const e=this.swipeDirectiveOptions;e&&(i.directives=[e])}return i}},methods:{handleTrigger(){this.$emit("action-triggered")}},render(i){return i("button",this.hotspotData)}});var XL=fi(UL,null,null,!1,null,null,null,null);const GL=XL.exports,QL=_e.extend({components:{ArtboardHotspot:GL},props:{action:Ot({required:!0}),headerHeight:{type:Number,required:!1,default:0},footerHeight:{type:Number,required:!1,default:0},scaleX:{type:Number,required:!1,default:1},asset:Ot({required:!0}),platform:Ot({required:!0}),hotspotsVisible:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},computed:{rx(){return!this.scaleToFitWidth&&this.platform?this.platform.Settings.Dimensions.Width/this.asset.Dimensions.Width:1},ry(){return this.rx},relativeToTop(){return!this.action.IsMaster||typeof this.action.RelativeToBottom!="number"},relativeToBottomValue(){return this.action.RelativeToBottom||0},adjustLeft(){return this.action.Hotspot.Start.X/this.rx-this.action.Hotspot.Start.X},adjustTop(){const i=this.action;return this.relativeToTop?i.Hotspot.Start.Y/this.ry-i.Hotspot.Start.Y-this.headerHeight:-(this.relativeToBottomValue*this.scaleX+this.footerHeight)},adjustWidth(){return this.action.Hotspot.Dimensions.Width/this.rx-this.action.Hotspot.Dimensions.Width},adjustHeight(){return this.action.Hotspot.Dimensions.Height/this.ry-this.action.Hotspot.Dimensions.Height},calculatedX(){const{Hotspot:{Start:{X:i}}}=this.action;return i+this.adjustLeft},calculatedY(){const{Hotspot:{Start:{Y:i}}}=this.action;return(this.relativeToTop?i:this.relativeToBottomValue)+this.adjustTop},hotspotClasses(){return{"artboard-hotspot--highlight":this.hotspotsVisible}},hotspotStyles(){const{Hotspot:{Dimensions:i}}=this.action,{Width:e,Height:t}=i;return{left:`${this.calculatedX}px`,[this.relativeToTop?"top":"bottom"]:`${this.calculatedY}px`,width:`${e+this.adjustWidth}px`,height:`${t+this.adjustHeight}px`}}},methods:{async handleAction(i){const{Setting:e}=i;if(hw(e))return this.$store.dispatch(new QD(i,e));if(PL(e)){let t=e.Url;!kS(t)&&!CS(t)&&(t=`http://${t}`);const{origin:r}=new Po(t);if(r&&r!=="null")try{window.open(t,"_blank","noopener")}catch{console.error(`External url is malformed, ${t}.`)}}}}}),kB="";var YL=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ArtboardHotspot",{key:`${e.action.Id}-${e.action.Setting.Interaction.Type}`,staticClass:"unstyled-button artboard-hotspot",class:e.hotspotClasses,style:e.hotspotStyles,attrs:{interaction:e.action.Setting.Interaction},on:{"action-triggered":function(r){return e.handleAction(e.action)}}})},qL=[],KL=fi(QL,YL,qL,!1,null,"1d462df8",null,null);const mw=KL.exports,ZL=_e.extend({props:{artboardId:{type:String,required:!0}},computed:{bundle(){const{bundles:i}=this.$store.state;return i[this.artboardId]}},watch:{artboardId:{async handler(i){await this.loadArtboard(i)},immediate:!0}},methods:{loadArtboard(i){return this.$store.dispatch(new Jb(i))}}});var JL=function(){var e=this,t=e._self._c;return e._self._setupProxy,e.bundle?t("div",[e._t("default",null,{bundle:e.bundle})],2):e._e()},e$=[],t$=fi(ZL,JL,e$,!1,null,null,null,null);const vw=t$.exports,i$=_e.extend({components:{ExpoArtboardLoader:vw},props:{artboardId:{type:String,required:!0},actions:Ot({required:!0})},computed:{navigationArtboards(){const e=Object.values(this.actions).filter(r=>hw(r.Setting)),t=this.$store.getters.resolveNavigationTarget;return e.map(r=>t(r.Type,r))},previousArtboard(){return this.$store.getters.getPreviousArtboard(this.artboardId)},nextArtboard(){return this.$store.getters.getNextArtboard(this.artboardId)},artboardsToPreload(){return[...this.navigationArtboards,this.previousArtboard||"",this.nextArtboard||""].filter(Boolean).filter(lS)}}});var r$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},e._l(e.artboardsToPreload,function(r){return t("ExpoArtboardLoader",{key:r,attrs:{"artboard-id":r},scopedSlots:e._u([{key:"default",fn:function({bundle:n}){return[t("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:n.assetsUrls[n.artboard.AssetId]}})]}}],null,!0)})}),1)},n$=[],s$=fi(i$,r$,n$,!1,null,null,null,null);const o$=s$.exports;/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Bi(i){return getComputedStyle(i)}function Nt(i,e){for(var t in e){var r=e[t];typeof r=="number"&&(r=r+"px"),i.style[t]=r}return i}function Vl(i){var e=document.createElement("div");return e.className=i,e}var yw=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Nr(i,e){if(!yw)throw new Error("No element matching method supported");return yw.call(i,e)}function os(i){i.remove?i.remove():i.parentNode&&i.parentNode.removeChild(i)}function bw(i,e){return Array.prototype.filter.call(i.children,function(t){return Nr(t,e)})}var tt={main:"ps",rtl:"ps__rtl",element:{thumb:function(i){return"ps__thumb-"+i},rail:function(i){return"ps__rail-"+i},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(i){return"ps--active-"+i},scrolling:function(i){return"ps--scrolling-"+i}}},ww={x:null,y:null};function Sw(i,e){var t=i.element.classList,r=tt.state.scrolling(e);t.contains(r)?clearTimeout(ww[e]):t.add(r)}function xw(i,e){ww[e]=setTimeout(function(){return i.isAlive&&i.element.classList.remove(tt.state.scrolling(e))},i.settings.scrollingThreshold)}function a$(i,e){Sw(i,e),xw(i,e)}var mo=function(e){this.element=e,this.handlers={}},Ow={isEmpty:{configurable:!0}};mo.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},mo.prototype.unbind=function(e,t){var r=this;this.handlers[e]=this.handlers[e].filter(function(n){return t&&n!==t?!0:(r.element.removeEventListener(e,n,!1),!1)})},mo.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},Ow.isEmpty.get=function(){var i=this;return Object.keys(this.handlers).every(function(e){return i.handlers[e].length===0})},Object.defineProperties(mo.prototype,Ow);var as=function(){this.eventElements=[]};as.prototype.eventElement=function(e){var t=this.eventElements.filter(function(r){return r.element===e})[0];return t||(t=new mo(e),this.eventElements.push(t)),t},as.prototype.bind=function(e,t,r){this.eventElement(e).bind(t,r)},as.prototype.unbind=function(e,t,r){var n=this.eventElement(e);n.unbind(t,r),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},as.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},as.prototype.once=function(e,t,r){var n=this.eventElement(e),s=function(o){n.unbind(t,s),r(o)};n.bind(t,s)};function Ul(i){if(typeof window.CustomEvent=="function")return new CustomEvent(i);var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!1,!1,void 0),e}function Xl(i,e,t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");l$(i,t,s,r,n)}function l$(i,e,t,r,n){var s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],h=t[5];r===void 0&&(r=!0),n===void 0&&(n=!1);var u=i.element;i.reach[l]=null,u[a]<1&&(i.reach[l]="start"),u[a]>i[s]-i[o]-1&&(i.reach[l]="end"),e&&(u.dispatchEvent(Ul("ps-scroll-"+l)),e<0?u.dispatchEvent(Ul("ps-scroll-"+c)):e>0&&u.dispatchEvent(Ul("ps-scroll-"+h)),r&&a$(i,l)),i.reach[l]&&(e||n)&&u.dispatchEvent(Ul("ps-"+l+"-reach-"+i.reach[l]))}function Ye(i){return parseInt(i,10)||0}function c$(i){return Nr(i,"input,[contenteditable]")||Nr(i,"select,[contenteditable]")||Nr(i,"textarea,[contenteditable]")||Nr(i,"button,[contenteditable]")}function h$(i){var e=Bi(i);return Ye(e.width)+Ye(e.paddingLeft)+Ye(e.paddingRight)+Ye(e.borderLeftWidth)+Ye(e.borderRightWidth)}var ls={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function tr(i){var e=i.element,t=Math.floor(e.scrollTop),r=e.getBoundingClientRect();i.containerWidth=Math.round(r.width),i.containerHeight=Math.round(r.height),i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||(bw(e,tt.element.rail("x")).forEach(function(n){return os(n)}),e.appendChild(i.scrollbarXRail)),e.contains(i.scrollbarYRail)||(bw(e,tt.element.rail("y")).forEach(function(n){return os(n)}),e.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=Cw(i,Ye(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=Ye((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=Cw(i,Ye(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=Ye(t*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),u$(e,i),i.scrollbarXActive?e.classList.add(tt.state.active("x")):(e.classList.remove(tt.state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,e.scrollLeft=i.isRtl===!0?i.contentWidth:0),i.scrollbarYActive?e.classList.add(tt.state.active("y")):(e.classList.remove(tt.state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,e.scrollTop=0)}function Cw(i,e){return i.settings.minScrollbarLength&&(e=Math.max(e,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(e=Math.min(e,i.settings.maxScrollbarLength)),e}function u$(i,e){var t={width:e.railXWidth},r=Math.floor(i.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+i.scrollLeft+e.containerWidth-e.contentWidth:t.left=i.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-r:t.top=e.scrollbarXTop+r,Nt(e.scrollbarXRail,t);var n={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+i.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:n.right=e.scrollbarYRight-i.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+i.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+i.scrollLeft,Nt(e.scrollbarYRail,n),Nt(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Nt(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function f$(i){i.element,i.event.bind(i.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top,r=t>i.scrollbarYTop?1:-1;i.element.scrollTop+=r*i.containerHeight,tr(i),e.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left,r=t>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=r*i.containerWidth,tr(i),e.stopPropagation()})}function d$(i){kw(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),kw(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function kw(i,e){var t=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=i.element,f=null,d=null,p=null;function g(S){S.touches&&S.touches[0]&&(S[n]=S.touches[0].pageY),u[l]=f+p*(S[n]-d),Sw(i,c),tr(i),S.stopPropagation(),S.type.startsWith("touch")&&S.changedTouches.length>1&&S.preventDefault()}function y(){xw(i,c),i[h].classList.remove(tt.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",g)}function v(S,k){f=u[l],k&&S.touches&&(S[n]=S.touches[0].pageY),d=S[n],p=(i[r]-i[t])/(i[s]-i[a]),k?i.event.bind(i.ownerDocument,"touchmove",g):(i.event.bind(i.ownerDocument,"mousemove",g),i.event.once(i.ownerDocument,"mouseup",y),S.preventDefault()),i[h].classList.add(tt.state.clicking),S.stopPropagation()}i.event.bind(i[o],"mousedown",function(S){v(S)}),i.event.bind(i[o],"touchstart",function(S){v(S,!0)})}function p$(i){var e=i.element,t=function(){return Nr(e,":hover")},r=function(){return Nr(i.scrollbarX,":focus")||Nr(i.scrollbarY,":focus")};function n(s,o){var a=Math.floor(e.scrollTop);if(s===0){if(!i.scrollbarYActive)return!1;if(a===0&&o>0||a>=i.contentHeight-i.containerHeight&&o<0)return!i.settings.wheelPropagation}var l=e.scrollLeft;if(o===0){if(!i.scrollbarXActive)return!1;if(l===0&&s<0||l>=i.contentWidth-i.containerWidth&&s>0)return!i.settings.wheelPropagation}return!0}i.event.bind(i.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!t()&&!r())){var o=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(c$(o))return}var a=0,l=0;switch(s.which){case 37:s.metaKey?a=-i.contentWidth:s.altKey?a=-i.containerWidth:a=-30;break;case 38:s.metaKey?l=i.contentHeight:s.altKey?l=i.containerHeight:l=30;break;case 39:s.metaKey?a=i.contentWidth:s.altKey?a=i.containerWidth:a=30;break;case 40:s.metaKey?l=-i.contentHeight:s.altKey?l=-i.containerHeight:l=-30;break;case 32:s.shiftKey?l=i.containerHeight:l=-i.containerHeight;break;case 33:l=i.containerHeight;break;case 34:l=-i.containerHeight;break;case 36:l=i.contentHeight;break;case 35:l=-i.contentHeight;break;default:return}i.settings.suppressScrollX&&a!==0||i.settings.suppressScrollY&&l!==0||(e.scrollTop-=l,e.scrollLeft+=a,tr(i),n(a,l)&&s.preventDefault())}})}function g$(i){var e=i.element;function t(o,a){var l=Math.floor(e.scrollTop),c=e.scrollTop===0,h=l+e.offsetHeight===e.scrollHeight,u=e.scrollLeft===0,f=e.scrollLeft+e.offsetWidth===e.scrollWidth,d;return Math.abs(a)>Math.abs(o)?d=c||h:d=u||f,d?!i.settings.wheelPropagation:!0}function r(o){var a=o.deltaX,l=-1*o.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*o.wheelDeltaX/6,l=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=o.wheelDelta),o.shiftKey?[-l,-a]:[a,l]}function n(o,a,l){if(!ls.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var c=o;c&&c!==e;){if(c.classList.contains(tt.element.consuming))return!0;var h=Bi(c);if(l&&h.overflowY.match(/(scroll|auto)/)){var u=c.scrollHeight-c.clientHeight;if(u>0&&(c.scrollTop>0&&l<0||c.scrollTop<u&&l>0))return!0}if(a&&h.overflowX.match(/(scroll|auto)/)){var f=c.scrollWidth-c.clientWidth;if(f>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<f&&a>0))return!0}c=c.parentNode}return!1}function s(o){var a=r(o),l=a[0],c=a[1];if(!n(o.target,l,c)){var h=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(c?e.scrollTop-=c*i.settings.wheelSpeed:e.scrollTop+=l*i.settings.wheelSpeed,h=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(l?e.scrollLeft+=l*i.settings.wheelSpeed:e.scrollLeft-=c*i.settings.wheelSpeed,h=!0):(e.scrollTop-=c*i.settings.wheelSpeed,e.scrollLeft+=l*i.settings.wheelSpeed),tr(i),h=h||t(l,c),h&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?i.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&i.event.bind(e,"mousewheel",s)}function m$(i){if(!ls.supportsTouch&&!ls.supportsIePointer)return;var e=i.element;function t(p,g){var y=Math.floor(e.scrollTop),v=e.scrollLeft,S=Math.abs(p),k=Math.abs(g);if(k>S){if(g<0&&y===i.contentHeight-i.containerHeight||g>0&&y===0)return window.scrollY===0&&g>0&&ls.isChrome}else if(S>k&&(p<0&&v===i.contentWidth-i.containerWidth||p>0&&v===0))return!0;return!0}function r(p,g){e.scrollTop-=g,e.scrollLeft-=p,tr(i)}var n={},s=0,o={},a=null;function l(p){return p.targetTouches?p.targetTouches[0]:p}function c(p){return p.pointerType&&p.pointerType==="pen"&&p.buttons===0?!1:!!(p.targetTouches&&p.targetTouches.length===1||p.pointerType&&p.pointerType!=="mouse"&&p.pointerType!==p.MSPOINTER_TYPE_MOUSE)}function h(p){if(c(p)){var g=l(p);n.pageX=g.pageX,n.pageY=g.pageY,s=new Date().getTime(),a!==null&&clearInterval(a)}}function u(p,g,y){if(!e.contains(p))return!1;for(var v=p;v&&v!==e;){if(v.classList.contains(tt.element.consuming))return!0;var S=Bi(v);if(y&&S.overflowY.match(/(scroll|auto)/)){var k=v.scrollHeight-v.clientHeight;if(k>0&&(v.scrollTop>0&&y<0||v.scrollTop<k&&y>0))return!0}if(g&&S.overflowX.match(/(scroll|auto)/)){var P=v.scrollWidth-v.clientWidth;if(P>0&&(v.scrollLeft>0&&g<0||v.scrollLeft<P&&g>0))return!0}v=v.parentNode}return!1}function f(p){if(c(p)){var g=l(p),y={pageX:g.pageX,pageY:g.pageY},v=y.pageX-n.pageX,S=y.pageY-n.pageY;if(u(p.target,v,S))return;r(v,S),n=y;var k=new Date().getTime(),P=k-s;P>0&&(o.x=v/P,o.y=S/P,s=k),t(v,S)&&p.preventDefault()}}function d(){i.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(i.isInitialized){clearInterval(a);return}if(!o.x&&!o.y){clearInterval(a);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(a);return}if(!i.element){clearInterval(a);return}r(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}ls.supportsTouch?(i.event.bind(e,"touchstart",h),i.event.bind(e,"touchmove",f),i.event.bind(e,"touchend",d)):ls.supportsIePointer&&(window.PointerEvent?(i.event.bind(e,"pointerdown",h),i.event.bind(e,"pointermove",f),i.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(i.event.bind(e,"MSPointerDown",h),i.event.bind(e,"MSPointerMove",f),i.event.bind(e,"MSPointerUp",d)))}var v$=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},y$={"click-rail":f$,"drag-thumb":d$,keyboard:p$,wheel:g$,touch:m$},vo=function(e,t){var r=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(tt.main),this.settings=v$();for(var n in t)this.settings[n]=t[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(tt.state.focus)},o=function(){return e.classList.remove(tt.state.focus)};this.isRtl=Bi(e).direction==="rtl",this.isRtl===!0&&e.classList.add(tt.rtl),this.isNegativeScroll=function(){var c=e.scrollLeft,h=null;return e.scrollLeft=-1,h=e.scrollLeft<0,e.scrollLeft=c,h}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new as,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=Vl(tt.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=Vl(tt.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=Bi(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Ye(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Ye(a.borderLeftWidth)+Ye(a.borderRightWidth),Nt(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Ye(a.marginLeft)+Ye(a.marginRight),Nt(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Vl(tt.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=Vl(tt.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=Bi(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Ye(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?h$(this.scrollbarY):null,this.railBorderYWidth=Ye(l.borderTopWidth)+Ye(l.borderBottomWidth),Nt(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Ye(l.marginTop)+Ye(l.marginBottom),Nt(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return y$[c](r)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(c){return r.onScroll(c)}),tr(this)};vo.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Nt(this.scrollbarXRail,{display:"block"}),Nt(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Ye(Bi(this.scrollbarXRail).marginLeft)+Ye(Bi(this.scrollbarXRail).marginRight),this.railYMarginHeight=Ye(Bi(this.scrollbarYRail).marginTop)+Ye(Bi(this.scrollbarYRail).marginBottom),Nt(this.scrollbarXRail,{display:"none"}),Nt(this.scrollbarYRail,{display:"none"}),tr(this),Xl(this,"top",0,!1,!0),Xl(this,"left",0,!1,!0),Nt(this.scrollbarXRail,{display:""}),Nt(this.scrollbarYRail,{display:""}))},vo.prototype.onScroll=function(e){this.isAlive&&(tr(this),Xl(this,"top",this.element.scrollTop-this.lastScrollTop),Xl(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},vo.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),os(this.scrollbarX),os(this.scrollbarY),os(this.scrollbarXRail),os(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},vo.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const b$=_e.extend({props:{options:{type:Object,required:!1,default:()=>({})},tag:{type:String,required:!1,default:"div"}},data(){return{ps:void 0}},mounted(){window.setTimeout(()=>{if(!(this.ps&&this.$isServer)){const i=this.$refs.container;i&&(this.ps=new vo(i,this.options))}},0)},updated(){this.update()},beforeDestroy(){this.destroy()},methods:{update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=void 0)}},render(i){return i(this.tag,{ref:"container",on:this.$listeners},this.$slots.default)}});var w$=fi(b$,null,null,!1,null,null,null,null);const S$=w$.exports,x$=_e.extend({components:{ArtboardAction:mw,ArtboardPreloader:o$,AxPerfectScrollbar:S$},directives:{dragscroll:_L},props:{project:Ot({required:!0}),bundle:Ot({required:!0}),actions:Ot({required:!0}),platform:Ot(),rootContainer:{required:!1,default:void 0},hotspotsVisible:{type:Boolean,default:!1},preloadNext:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},data(){return{dragscrollOptions:{targetDocument:this.rootContainer&&this.rootContainer.ownerDocument||document}}},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},projectHeight(){return this.$store.getters.projectDimensions.height},headerHeight(){return this.bundle.artboard.HeaderHeight*this.scaleX},footerHeight(){return this.bundle.artboard.FooterHeight*this.scaleX},asset(){return this.bundle.artboardAsset},artboard(){const i=this.bundle.artboard.AssetId;return{id:this.bundle.artboard.Id,src:this.bundle.assetsUrls[i],thumbnailSrc:this.bundle.thumbnails[i]}},artboardSelfActions(){return this.bundle.artboard.ActionPool.Actions},artboardStyle(){return{width:`${this.projectWidth}px`,height:`${this.projectHeight}px`}},bodyStyle(){return{top:`${this.headerHeight}px`,width:`${this.projectWidth}px`,height:`${this.projectHeight-this.headerHeight-this.footerHeight}px`}},scaleX(){return this.scaleToFitWidth?this.projectWidth/this.assetDimensions.width:1},assetDimensions(){const i=this.asset.Dimensions;return{width:i.Width,height:i.Height}},bodyStyleViewport(){if(this.scaleToFitWidth)return{};const i=Math.max(this.assetDimensions.height,this.projectHeight);return{width:`${Math.max(this.assetDimensions.width,this.projectWidth)}px`,height:`${i-this.headerHeight-this.footerHeight}px`}},bodyAssetStyle(){let i={marginTop:`-${this.headerHeight}px`,marginBottom:`-${this.footerHeight}px`};return this.scaleToFitWidth&&(i={...i,width:"100%",height:"auto"}),i},actionsContainerStyle(){return{}}},created(){this.reportScroll({scrollLeft:0,scrollTop:0}),this.$on("scroll-to-position",this.scrollToPosition)},activated(){this.$nextTick(()=>{const i=this.$refs.perfectScrollbar;i&&typeof i.update=="function"&&i.update()}),this.reportScroll({scrollLeft:0,scrollTop:0})},methods:{psScroll(i){const e=i.target;e instanceof HTMLElement&&this.reportScroll({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})},reportScroll(i){this.$emit("scroll",i)},scrollToPosition(i){const e=this.$refs.perfectScrollbar,t=this.rootContainer.ownerDocument,r=t==null?void 0:t.scrollingElement;if(t&&r&&(r.scrollTop=i.y-r.clientHeight/2,r.scrollLeft=i.x-r.clientWidth/2),e){const n=e.$el;n.scrollLeft=i.x-this.projectWidth/2,n.scrollTop=i.y-this.projectHeight/2}}}}),PB="",EB="";var O$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboard",style:e.artboardStyle},[t("AxPerfectScrollbar",{directives:[{name:"dragscroll",rawName:"v-dragscroll",value:e.dragscrollOptions,expression:"dragscrollOptions"}],ref:"perfectScrollbar",staticClass:"expo-artboard__body",style:e.bodyStyle,on:{dragscrollmove:function(r){return e.$emit("scroll",r)},"ps-scroll-x":e.psScroll,"ps-scroll-y":e.psScroll}},[t("div",{staticClass:"expo-artboard__body-viewport",style:e.bodyStyleViewport},[t("img",{staticClass:"artboard-asset",style:e.bodyAssetStyle,attrs:{src:e.artboard.src}}),t("div",{staticClass:"artboard-actions",style:e.actionsContainerStyle},e._l(e.actions,function(r){return t("ArtboardAction",{key:r.Id,attrs:{"header-height":e.headerHeight,"footer-height":e.footerHeight,"scale-x":e.scaleX,action:r,asset:e.asset,platform:e.platform,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth}})}),1)])]),t("KeepAlive",[e.preloadNext?t("ArtboardPreloader",{key:e.artboard.id,attrs:{"artboard-id":e.artboard.id,actions:e.actions}}):e._e()],1)],1)},C$=[],k$=fi(x$,O$,C$,!1,null,"54ddc191",null,null);const A$=k$.exports,_$=_e.extend({components:{ArtboardAction:mw},props:{bundle:Ot({required:!0}),actions:Ot({required:!0}),platform:Ot(),hotspotsVisible:{type:Boolean,default:!1},height:{type:Number,required:!0},width:{type:Number,required:!0},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},computed:{style(){return{height:`${this.height*this.scaleX}px`,width:`${this.width}px`}},scaleX(){return this.scaleToFitWidth?this.width/this.assetDimensions.width:1},assetDimensions(){const i=this.bundle.artboardAsset.Dimensions;return{width:i.Width,height:i.Height}},assetClasses(){return{"artboard-asset--top":this.top,"artboard-asset--bottom":this.bottom,"artboard-asset--fit":this.scaleToFitWidth}},artboardClasses(){return{"expo-artboard--top":this.top,"expo-artboard--bottom":this.bottom}},src(){const i=this.bundle.artboard.AssetId;return this.bundle.assetsUrls[i]},artboardActionsStyle(){const i={};return this.bottom&&(i.top=`-${(this.assetDimensions.height-this.bundle.artboard.FooterHeight)*this.scaleX}px`),i}}}),TB="";var P$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboard__fixed",class:e.artboardClasses,style:e.style},[t("img",{staticClass:"artboard-asset artboard-asset--fixed",class:e.assetClasses,attrs:{src:e.src}}),t("div",{staticClass:"artboard-actions",style:e.artboardActionsStyle},e._l(e.actions,function(r){return t("ArtboardAction",{key:r.Id,attrs:{"scale-x":e.scaleX,action:r,asset:e.bundle.artboardAsset,platform:e.platform,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth}})}),1)])},E$=[],T$=fi(_$,P$,E$,!1,null,"a28c0294",null,null);const I$=T$.exports,R$=_e.extend({components:{ExpoArtboard:A$,ExpoArtboardFixed:I$,ExpoArtboardLoader:vw,ExpoBundleResolver:wL},props:{project:Ot({required:!0})},data(){const{container:i=window}=this.$store.state;return{container:i,preloadEnabled:!0,active:{}}},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},scaleToFitWidth(){const{fitArtboardToProjectWidth:i}=this.$store.state;return i},backgroundStyle(){const{platform:i}=this;let e="transparent";return i&&i.IsUsingBackgroundColor&&(e=`#${i.BackgroundColor}`),{backgroundColor:e}},current(){const{currentArtboardId:i}=this.$store.state;return i},hotspotsVisible(){const{hotspotsVisible:i}=this.$store.state;return i},platform(){return this.project.platform},nextTargets(){return[]},artboards(){const i=this.preloadEnabled;return this.project.artboardsOrder.map(e=>({id:e,isActive:e===this.current,preload:i&&this.nextTargets.includes(e)}))},currentAction(){const{currentAction:i}=this.$store.state;return i},transition(){const i=this.currentAction;if(i){const e=i.Setting.Interaction.Animation.In,t=L$(e);if(t)return t}},transitionHeader(){return!0},transitionFooter(){return!0},transitionOptions(){if(this.transition){const{name:i,mode:e}=this.transition;return{name:i,mode:e}}return{}},transitionStyles(){if(this.transition){const{duration:i,property:e}=this.transition;return{transitionProperty:e,transitionDuration:`${i}ms`,transitionTimingFunction:"ease-in-out"}}return{transitionProperty:"",transitionTimingFunction:"",transitionDuration:"0ms"}}},created(){this.$on("scroll-to-position",i=>{const e=this.$refs.artboard;e&&e.$emit("scroll-to-position",i)})}}),cs={property:"transform",mode:""},Gl={property:"transform",mode:"out-in"},D$={[Le.None]:{name:"none",property:"",mode:""},[Le.Fade]:{name:"fade",property:"opacity",mode:"out-in"},[Le.PushRight]:{name:"push-right",...cs},[Le.PushLeft]:{name:"push-left",...cs},[Le.SlideLeft]:{name:"slide-left",...cs},[Le.SlideRight]:{name:"slide-right",...cs},[Le.SlideUp]:{name:"slide-up",...cs},[Le.SlideDown]:{name:"slide-down",...cs},[Le.FlipLeft]:{name:"flip-left",...Gl},[Le.FlipRight]:{name:"flip-right",...Gl},[Le.FlipUp]:{name:"flip-up",...Gl},[Le.FlipDown]:{name:"flip-down",...Gl}},L$=i=>({duration:i.Easing!==Le.None?i.Duration:0,...D$[i.Easing]}),IB="";var $$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboards",style:e.backgroundStyle},[e.current?t("ExpoArtboardLoader",{staticClass:"perspective-box",attrs:{"artboard-id":e.current},scopedSlots:e._u([{key:"default",fn:function({bundle:r}){return[t("ExpoBundleResolver",{attrs:{bundle:r,project:e.project},scopedSlots:e._u([{key:"default",fn:function({headerActions:n,bodyActions:s,footerActions:o}){return[t("Transition",e._b({},"Transition",e.transitionHeader&&e.transitionOptions,!1),[t("ExpoArtboardFixed",{key:r.artboard.Id,style:e.transitionStyles,attrs:{top:"",bundle:r,actions:n,platform:e.platform,"hotspots-visible":e.hotspotsVisible,height:r.artboard.HeaderHeight,width:e.projectWidth,"scale-to-fit-width":e.scaleToFitWidth}})],1),t("Transition",e._b({on:{beforeEnter:function(a){return e.$emit("transition-start")},afterEnter:function(a){return e.$emit("transition-end")}}},"Transition",e.transitionOptions,!1),[t("KeepAlive",[t("ExpoArtboard",{key:r.artboard.Id,ref:"artboard",style:e.transitionStyles,attrs:{bundle:r,actions:s,platform:e.platform,project:e.project,"root-container":e.container,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth,"preload-next":""},on:{scroll:function(a){return e.$emit("scroll",a)}}})],1)],1),t("Transition",e._b({},"Transition",e.transitionFooter&&e.transitionOptions,!1),[t("ExpoArtboardFixed",{key:r.artboard.Id,style:e.transitionStyles,attrs:{bottom:"",bundle:r,actions:o,platform:e.platform,"hotspots-visible":e.hotspotsVisible,height:r.artboard.FooterHeight,width:e.projectWidth,"scale-to-fit-width":e.scaleToFitWidth}})],1)]}}],null,!0)})]}}],null,!1,1667292835)}):e._e()],1)},M$=[],B$=fi(R$,$$,M$,!1,null,"7b7b7795",null,null);const N$=B$.exports,z$=_e.extend({components:{ExpoArtboards:N$},props:{project:Ot({required:!0}),scale:{type:Number,default:1}},data(){return{inProgress:!1}},computed:{isAutoWeb(){return!!(this.project.platform&&this.project.platform.Device===cr.Auto)},isScaled(){return!this.isAutoWeb&&this.scale>0&&this.scale!==1},width(){return this.$store.getters.projectDimensions.width},height(){return this.$store.getters.projectDimensions.height},dimensionStyles(){let i={width:`${this.width}px`,height:`${this.height}px`,overflow:this.inProgress?"hidden":"auto"};return this.isScaled&&(i={...i,transform:`scale(${this.scale})`}),i},isTouch(){const i=this.project.platform;return i?i.Type!==Mc.Web:!1},viewportClasses(){return{"expo-player-viewport--touch":this.isTouch}}},created(){this.$on("scroll-to-position",i=>{const e=this.$refs.artboards;e&&e.$emit("scroll-to-position",i)})},methods:{onStart(){this.inProgress=!0},onEnd(){this.inProgress=!1}}}),RB="";var F$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-player-viewport",class:e.viewportClasses,style:e.dimensionStyles},[t("ExpoArtboards",{ref:"artboards",attrs:{project:e.project},on:{"transition-start":e.onStart,"transition-end":e.onEnd,scroll:function(r){return e.$emit("scroll",r)}}})],1)},H$=[],W$=fi(z$,F$,H$,!1,null,"9b39c4ef",null,null);const j$=W$.exports,V$=_e.extend({directives:{watchElementProp:lL,shortkey:iL,doubleTap:ew},components:{ExpoViewport:j$},data(){const{container:i}=this.$store.state;return{container:i,scrollPosition:{left:0,top:0},baseButtonPosition:62,viewportPaddingY:10}},computed:{visible(){return this.$store.state.showPlayer},project(){const{project:i}=this.$store.state;return i},projectAlign(){return this.isAutoWeb?{vertical:Cs.Top,horizontal:Os.Center}:{vertical:Cs.Middle,horizontal:Os.Center}},isMobile(){const{isMobile:i}=this.$store.state;return i},isAutoWeb(){return!!(this.project&&this.project.platform&&this.project.platform.Device===cr.Auto)},playerStyles(){let i="#e8e8e8";const e=this.project;return e&&e.platform&&e.platform.Device===cr.Auto&&(i=`#${e.platform.BackgroundColor}`),{backgroundColor:i}},alignStyles(){let i="auto",e="auto",t="auto",r="auto";return this.projectAlign.vertical===Cs.Top?i="":this.projectAlign.vertical===Cs.Bottom&&(t=""),this.projectAlign.horizontal===Os.Left?r="":this.projectAlign.horizontal===Os.Right&&(e=""),{marginTop:i,marginRight:e,marginBottom:t,marginLeft:r}},scale(){const{scale:i}=this.$store.state;return i},normalizedScale(){return this.scale<=1?this.scale:1},canGoPrevious(){return!!this.$store.getters.getPreviousArtboard()},canGoNext(){return!!this.$store.getters.getNextArtboard()},targetDocument(){let i=document;return this.container&&this.container.ownerDocument&&(i=this.container.ownerDocument),i},buttonPositionScaled(){return this.isAutoWeb?"50px":this.normalizedScale===1?"":`-${this.baseButtonPosition*this.normalizedScale**2}px`}},created(){window.addEventListener("resize",this.reportViewportPosition),this.container&&this.container.ownerDocument.addEventListener("scroll",this.reportViewportPosition),this.$on("scroll-to-position",i=>{const e=this.$refs.viewport;e&&e.$emit("scroll-to-position",i)})},destroyed(){window.removeEventListener("resize",this.reportViewportPosition),this.container&&this.container.ownerDocument.removeEventListener("scroll",this.reportViewportPosition)},methods:{setScale(i){if(i!==0&&this.project){this.isMobile||(i-=this.viewportPaddingY*2);const e=i/this.$store.getters.projectDimensions.height;this.$store.commit(new gL(e))}},rememberViewportScroll(i){this.scrollPosition={left:i.scrollLeft,top:i.scrollTop},this.reportViewportPosition()},goToPrevious(){const i=this.$store.getters.getPreviousArtboard();i&&this.$store.dispatch(new Nf(i))},goToNext(){const i=this.$store.getters.getNextArtboard();i&&this.$store.dispatch(new Nf(i))},getViewportPosition(){const i=this.$refs.viewport;if(i){const t=i.$el.getBoundingClientRect();return{viewportX:t.left,viewportY:t.top,viewportScale:this.normalizedScale,viewportScrollLeft:this.scrollPosition.left,viewportScrollTop:this.scrollPosition.top}}},reportViewportPosition(){const i=this.getViewportPosition();i&&this.$emit("viewport-position-changed",i)},onTripleTap(){this.$emit("triple-tap")}}}),DB="",LB="";var U$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"watch-element-prop",rawName:"v-watch-element-prop:clientHeight",value:e.setScale,expression:"setScale",arg:"clientHeight"},{name:"double-tap",rawName:"v-double-tap.triple",modifiers:{triple:!0}}],staticClass:"expo-player",style:e.playerStyles,attrs:{id:"expo-player"},on:{dbltap:e.onTripleTap}},[t("div",{staticClass:"expo-viewport-wrapper",class:{"expo-viewport-wrapper__auto-web":e.isAutoWeb},style:e.alignStyles},[t("button",{directives:[{name:"shortkey",rawName:"v-shortkey:keyup.188.ignoreInput",value:{handler:e.goToPrevious,targetDocument:e.targetDocument},expression:"{ handler: goToPrevious, targetDocument: targetDocument }",arg:"keyup",modifiers:{188:!0,ignoreInput:!0}}],staticClass:"expo-btn-prev",style:{visibility:e.canGoPrevious?"visible":"hidden",left:e.buttonPositionScaled},attrs:{type:"button",disabled:!e.canGoPrevious},on:{click:e.goToPrevious}}),e.project?t("ExpoViewport",{ref:"viewport",attrs:{project:e.project,scale:e.normalizedScale},on:{scroll:e.rememberViewportScroll}}):e._e(),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey:keyup.190.ignoreInput",value:{handler:e.goToNext,targetDocument:e.targetDocument},expression:"{ handler: goToNext, targetDocument: targetDocument }",arg:"keyup",modifiers:{190:!0,ignoreInput:!0}}],staticClass:"expo-btn-next",style:{visibility:e.canGoNext?"visible":"hidden",right:e.buttonPositionScaled},attrs:{type:"button",disabled:!e.canGoNext},on:{click:e.goToNext}})],1)])},X$=[],G$=fi(V$,U$,X$,!1,null,"9f6fa560",null,null);const Q$=G$.exports;/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function Y$(i){var e=Number(i.version.split(".")[0]);if(e>=2)i.mixin({beforeCreate:r});else{var t=i.prototype._init;i.prototype._init=function(n){n===void 0&&(n={}),n.init=n.init?[r].concat(n.init):r,t.call(this,n)}}function r(){var n=this.$options;n.store?this.$store=typeof n.store=="function"?n.store():n.store:n.parent&&n.parent.$store&&(this.$store=n.parent.$store)}}var q$=typeof window<"u"?window:typeof global<"u"?global:{},hs=q$.__VUE_DEVTOOLS_GLOBAL_HOOK__;function K$(i){hs&&(i._devtoolHook=hs,hs.emit("vuex:init",i),hs.on("vuex:travel-to-state",function(e){i.replaceState(e)}),i.subscribe(function(e,t){hs.emit("vuex:mutation",e,t)},{prepend:!0}),i.subscribeAction(function(e,t){hs.emit("vuex:action",e,t)},{prepend:!0}))}function Z$(i,e){return i.filter(e)[0]}function Xf(i,e){if(e===void 0&&(e=[]),i===null||typeof i!="object")return i;var t=Z$(e,function(n){return n.original===i});if(t)return t.copy;var r=Array.isArray(i)?[]:{};return e.push({original:i,copy:r}),Object.keys(i).forEach(function(n){r[n]=Xf(i[n],e)}),r}function us(i,e){Object.keys(i).forEach(function(t){return e(i[t],t)})}function Aw(i){return i!==null&&typeof i=="object"}function J$(i){return i&&typeof i.then=="function"}function eM(i,e){return function(){return i(e)}}var di=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},_w={namespaced:{configurable:!0}};_w.namespaced.get=function(){return!!this._rawModule.namespaced},di.prototype.addChild=function(e,t){this._children[e]=t},di.prototype.removeChild=function(e){delete this._children[e]},di.prototype.getChild=function(e){return this._children[e]},di.prototype.hasChild=function(e){return e in this._children},di.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},di.prototype.forEachChild=function(e){us(this._children,e)},di.prototype.forEachGetter=function(e){this._rawModule.getters&&us(this._rawModule.getters,e)},di.prototype.forEachAction=function(e){this._rawModule.actions&&us(this._rawModule.actions,e)},di.prototype.forEachMutation=function(e){this._rawModule.mutations&&us(this._rawModule.mutations,e)},Object.defineProperties(di.prototype,_w);var dn=function(e){this.register([],e,!1)};dn.prototype.get=function(e){return e.reduce(function(t,r){return t.getChild(r)},this.root)},dn.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(r,n){return t=t.getChild(n),r+(t.namespaced?n+"/":"")},"")},dn.prototype.update=function(e){Pw([],this.root,e)},dn.prototype.register=function(e,t,r){var n=this;r===void 0&&(r=!0);var s=new di(t,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}t.modules&&us(t.modules,function(a,l){n.register(e.concat(l),a,r)})},dn.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],n=t.getChild(r);n&&n.runtime&&t.removeChild(r)},dn.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return t?t.hasChild(r):!1};function Pw(i,e,t){if(e.update(t),t.modules)for(var r in t.modules){if(!e.getChild(r))return;Pw(i.concat(r),e.getChild(r),t.modules[r])}}var zt,qt=function(e){var t=this;e===void 0&&(e={}),!zt&&typeof window<"u"&&window.Vue&&Iw(window.Vue);var r=e.plugins;r===void 0&&(r=[]);var n=e.strict;n===void 0&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new dn(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new zt,this._makeLocalGettersCache=Object.create(null);var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(f,d){return a.call(s,f,d)},this.commit=function(f,d,p){return l.call(s,f,d,p)},this.strict=n;var c=this._modules.root.state;Ql(this,c,[],this._modules.root),Qf(this,c),r.forEach(function(u){return u(t)});var h=e.devtools!==void 0?e.devtools:zt.config.devtools;h&&K$(this)},Gf={state:{configurable:!0}};Gf.state.get=function(){return this._vm._data.$$state},Gf.state.set=function(i){},qt.prototype.commit=function(e,t,r){var n=this,s=Yl(e,t,r),o=s.type,a=s.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(u){u(a)})}),this._subscribers.slice().forEach(function(h){return h(l,n.state)}))},qt.prototype.dispatch=function(e,t){var r=this,n=Yl(e,t),s=n.type,o=n.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,u){c.then(function(f){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}h(f)},function(f){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,f)})}catch{}u(f)})})}},qt.prototype.subscribe=function(e,t){return Ew(e,this._subscribers,t)},qt.prototype.subscribeAction=function(e,t){var r=typeof e=="function"?{before:e}:e;return Ew(r,this._actionSubscribers,t)},qt.prototype.watch=function(e,t,r){var n=this;return this._watcherVM.$watch(function(){return e(n.state,n.getters)},t,r)},qt.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},qt.prototype.registerModule=function(e,t,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,t),Ql(this,this.state,e,this._modules.get(e),r.preserveState),Qf(this,this.state)},qt.prototype.unregisterModule=function(e){var t=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Yf(t.state,e.slice(0,-1));zt.delete(r,e[e.length-1])}),Tw(this)},qt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)},qt.prototype.hotUpdate=function(e){this._modules.update(e),Tw(this,!0)},qt.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(qt.prototype,Gf);function Ew(i,e,t){return e.indexOf(i)<0&&(t&&t.prepend?e.unshift(i):e.push(i)),function(){var r=e.indexOf(i);r>-1&&e.splice(r,1)}}function Tw(i,e){i._actions=Object.create(null),i._mutations=Object.create(null),i._wrappedGetters=Object.create(null),i._modulesNamespaceMap=Object.create(null);var t=i.state;Ql(i,t,[],i._modules.root,!0),Qf(i,t,e)}function Qf(i,e,t){var r=i._vm;i.getters={},i._makeLocalGettersCache=Object.create(null);var n=i._wrappedGetters,s={};us(n,function(a,l){s[l]=eM(a,i),Object.defineProperty(i.getters,l,{get:function(){return i._vm[l]},enumerable:!0})});var o=zt.config.silent;zt.config.silent=!0,i._vm=new zt({data:{$$state:e},computed:s}),zt.config.silent=o,i.strict&&oM(i),r&&(t&&i._withCommit(function(){r._data.$$state=null}),zt.nextTick(function(){return r.$destroy()}))}function Ql(i,e,t,r,n){var s=!t.length,o=i._modules.getNamespace(t);if(r.namespaced&&(i._modulesNamespaceMap[o],i._modulesNamespaceMap[o]=r),!s&&!n){var a=Yf(e,t.slice(0,-1)),l=t[t.length-1];i._withCommit(function(){zt.set(a,l,r.state)})}var c=r.context=tM(i,o,t);r.forEachMutation(function(h,u){var f=o+u;rM(i,f,h,c)}),r.forEachAction(function(h,u){var f=h.root?u:o+u,d=h.handler||h;nM(i,f,d,c)}),r.forEachGetter(function(h,u){var f=o+u;sM(i,f,h,c)}),r.forEachChild(function(h,u){Ql(i,e,t.concat(u),h,n)})}function tM(i,e,t){var r=e==="",n={dispatch:r?i.dispatch:function(s,o,a){var l=Yl(s,o,a),c=l.payload,h=l.options,u=l.type;return(!h||!h.root)&&(u=e+u),i.dispatch(u,c)},commit:r?i.commit:function(s,o,a){var l=Yl(s,o,a),c=l.payload,h=l.options,u=l.type;(!h||!h.root)&&(u=e+u),i.commit(u,c,h)}};return Object.defineProperties(n,{getters:{get:r?function(){return i.getters}:function(){return iM(i,e)}},state:{get:function(){return Yf(i.state,t)}}}),n}function iM(i,e){if(!i._makeLocalGettersCache[e]){var t={},r=e.length;Object.keys(i.getters).forEach(function(n){if(n.slice(0,r)===e){var s=n.slice(r);Object.defineProperty(t,s,{get:function(){return i.getters[n]},enumerable:!0})}}),i._makeLocalGettersCache[e]=t}return i._makeLocalGettersCache[e]}function rM(i,e,t,r){var n=i._mutations[e]||(i._mutations[e]=[]);n.push(function(o){t.call(i,r.state,o)})}function nM(i,e,t,r){var n=i._actions[e]||(i._actions[e]=[]);n.push(function(o){var a=t.call(i,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:i.getters,rootState:i.state},o);return J$(a)||(a=Promise.resolve(a)),i._devtoolHook?a.catch(function(l){throw i._devtoolHook.emit("vuex:error",l),l}):a})}function sM(i,e,t,r){i._wrappedGetters[e]||(i._wrappedGetters[e]=function(s){return t(r.state,r.getters,s.state,s.getters)})}function oM(i){i._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function Yf(i,e){return e.reduce(function(t,r){return t[r]},i)}function Yl(i,e,t){return Aw(i)&&i.type&&(t=e,e=i,i=i.type),{type:i,payload:e,options:t}}function Iw(i){zt&&i===zt||(zt=i,Y$(zt))}var Rw=Kl(function(i,e){var t={};return ql(e).forEach(function(r){var n=r.key,s=r.val;t[n]=function(){var a=this.$store.state,l=this.$store.getters;if(i){var c=Zl(this.$store,"mapState",i);if(!c)return;a=c.context.state,l=c.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},t[n].vuex=!0}),t}),Dw=Kl(function(i,e){var t={};return ql(e).forEach(function(r){var n=r.key,s=r.val;t[n]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(i){var h=Zl(this.$store,"mapMutations",i);if(!h)return;c=h.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),t}),Lw=Kl(function(i,e){var t={};return ql(e).forEach(function(r){var n=r.key,s=r.val;s=i+s,t[n]=function(){if(!(i&&!Zl(this.$store,"mapGetters",i)))return this.$store.getters[s]},t[n].vuex=!0}),t}),$w=Kl(function(i,e){var t={};return ql(e).forEach(function(r){var n=r.key,s=r.val;t[n]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(i){var h=Zl(this.$store,"mapActions",i);if(!h)return;c=h.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),t}),aM=function(i){return{mapState:Rw.bind(null,i),mapGetters:Lw.bind(null,i),mapMutations:Dw.bind(null,i),mapActions:$w.bind(null,i)}};function ql(i){return lM(i)?Array.isArray(i)?i.map(function(e){return{key:e,val:e}}):Object.keys(i).map(function(e){return{key:e,val:i[e]}}):[]}function lM(i){return Array.isArray(i)||Aw(i)}function Kl(i){return function(e,t){return typeof e!="string"?(t=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),i(e,t)}}function Zl(i,e,t){var r=i._modulesNamespaceMap[t];return r}function cM(i){i===void 0&&(i={});var e=i.collapsed;e===void 0&&(e=!0);var t=i.filter;t===void 0&&(t=function(h,u,f){return!0});var r=i.transformer;r===void 0&&(r=function(h){return h});var n=i.mutationTransformer;n===void 0&&(n=function(h){return h});var s=i.actionFilter;s===void 0&&(s=function(h,u){return!0});var o=i.actionTransformer;o===void 0&&(o=function(h){return h});var a=i.logMutations;a===void 0&&(a=!0);var l=i.logActions;l===void 0&&(l=!0);var c=i.logger;return c===void 0&&(c=console),function(h){var u=Xf(h.state);typeof c>"u"||(a&&h.subscribe(function(f,d){var p=Xf(d);if(t(f,u,p)){var g=Nw(),y=n(f),v="mutation "+f.type+g;Mw(c,v,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",y),c.log("%c next state","color: #4CAF50; font-weight: bold",r(p)),Bw(c)}u=p}),l&&h.subscribeAction(function(f,d){if(s(f,d)){var p=Nw(),g=o(f),y="action "+f.type+p;Mw(c,y,e),c.log("%c action","color: #03A9F4; font-weight: bold",g),Bw(c)}}))}}function Mw(i,e,t){var r=t?i.groupCollapsed:i.group;try{r.call(i,e)}catch{i.log(e)}}function Bw(i){try{i.groupEnd()}catch{i.log("—— log end ——")}}function Nw(){var i=new Date;return" @ "+Jl(i.getHours(),2)+":"+Jl(i.getMinutes(),2)+":"+Jl(i.getSeconds(),2)+"."+Jl(i.getMilliseconds(),3)}function hM(i,e){return new Array(e+1).join(i)}function Jl(i,e){return hM("0",e-i.toString().length)+i}var uM={Store:qt,install:Iw,version:"3.6.2",mapState:Rw,mapMutations:Dw,mapGetters:Lw,mapActions:$w,createNamespacedHelpers:aM,createLogger:cM};const zw=uM,Fw={},fM={async[zl.Navigate]({state:i,dispatch:e,commit:t,getters:r},{action:n,setting:s}){const o=n.Type,a=r.resolveNavigationTarget(o,s);if(a){let l=!1,c=!1;o===Me.PreviousHistoryScreen&&(l=!0,c=!0),i.bundles[a]||await e(new Jb(a)),t(new ow(n)),_e.nextTick(()=>{t(new sw(a,{skipHistory:l,popHistory:c}))})}else console.warn("Couldn't find navigation target")},[zl.NavigateForced]({commit:i},{target:e}){i(new ow),_e.nextTick(()=>{i(new sw(e,{skipTransition:!0,skipHistory:!0}))})},async[zl.ArtboardLoadBundle]({commit:i,state:e},{artboardId:t}){let r=e.bundles[t];if(r)return;let n=Fw[t];if(!n){n=dM({baseUrl:e.baseUrl,shortcut:e.shortcut,artboardId:t}),Fw.artboardId=n;try{r=await n,i(new dL(t,r))}catch(s){console.error(`Failed to load artboard, ${s}`)}}}},dM=async({baseUrl:i,shortcut:e,artboardId:t})=>{const r=`${i}/expo/getartboard/${e}?artboardId=${t}`,n=await Ss(r);return{artboard:n.artboard,artboardAsset:n.assets[n.artboard.AssetId],assets:n.assets,assetsUrls:n.imgUrls,thumbnails:n.thumbnails,stale:!1}},pM={getNextArtboard(i){return(e=i.currentArtboardId)=>{if(i.project){const t=i.project.artboardsOrder.findIndex(r=>r===e);if(t!==-1)return i.project.artboardsOrder[t+1]}}},getPreviousArtboard(i){return(e=i.currentArtboardId)=>{if(i.project){const t=i.project.artboardsOrder.findIndex(r=>r===e);if(t!==-1)return i.project.artboardsOrder[t-1]}}},resolveNavigationTarget(i,e){return(t,r)=>{if(t===Me.SetPanelState)return r.TargetArtboardId;if(t===Me.NextScreen)return e.getNextArtboard();if(t===Me.PreviousScreen)return e.getPreviousArtboard();if(t===Me.PreviousHistoryScreen)return i.history.peek()}},projectDimensions(i){const e=i.project;if(!e)return{width:1,height:1};if(e.platform&&e.platform.Device&&e.platform.Device===cr.Auto){const n=i.bundles[i.currentArtboardId];if(n){const s=lp(n);return{height:s.Height,width:s.Width}}}const{projectDimensions:t}=e,r=e.platform&&e.platform.Type!==Mc.Web;return i.isMobile&&r?t.height>=t.width?{width:t.width,height:Math.min(t.height,window.innerHeight)}:{width:Math.min(t.width,window.innerWidth),height:t.height}:t}},gM={[ui.HidePlayer](i){i.showPlayer=!1},[ui.ShowPlayer](i){i.showPlayer=!0},[ui.SetProject](i,{project:e}){i.project=e,i.bundles=t0(e),i.currentArtboardId=e.artboardsOrder[0]},[ui.SetArtboardBundle](i,{artboardId:e,bundle:t}){_e.set(i.bundles,e,t)},[ui.SetOptions](i,{options:{baseUrl:e,shortcut:t,container:r,standaloneMode:n,isMobile:s}}){i.baseUrl=e,i.shortcut=t,i.container=r,i.standaloneMode=n,i.isMobile=s},[ui.SetCurrentArtboard](i,{artboard:e,options:t={skipHistory:!1,skipTransition:!1,popHistory:!1}}){const{skipHistory:r,popHistory:n,skipTransition:s}=t,o=i.currentArtboardId;s&&(i.currentAction=void 0),i.currentArtboardId=e,r||i.history.push(o),n&&i.history.pop()},[ui.SetCurrentArtboardAction](i,{action:e}){i.currentAction=e},[ui.ToggleHotspots](i,{hotspotsVisible:e}){i.hotspotsVisible=e},[ui.SetViewportScale](i,{scale:e}){i.scale=e}},mM=()=>({shortcut:"",baseUrl:"",container:void 0,mode:"preview",standaloneMode:!1,isMobile:!1,project:void 0,bundles:{},currentArtboardId:"",currentAction:void 0,history:new hp,hotspotsVisible:!1,scale:1,fitArtboardToProjectWidth:!0,showPlayer:!0});_e.use(zw);const pi=new zw.Store({state:mM(),actions:fM,mutations:gM,getters:pM,strict:!1});var fs=(i=>(i.PageChanged="page-changed",i.ViewportPositionChanged="viewport-position-changed",i.TripleTap="triple-tap",i.HotspotsToggled="hotspots-toggled",i))(fs||{});class vM extends Eo{constructor(t,r){super();A(this,"app");const n=document.createElement("div");t.insertBefore(n,t.firstChild),pi.commit(new fL(r)),this.app=new _e({store:pi,render:o=>o(Q$,{ref:"player"})}),this.app.$mount(n),pi.subscribe(o=>{yM(o,o.payload)&&this.trigger("page-changed",o.payload.artboard)});const s=this.app.$refs.player;s&&(s.$on("viewport-position-changed",o=>{this.trigger("viewport-position-changed",o)}),s.$on("triple-tap",()=>{this.trigger("triple-tap")}))}setProject(t){return pi.commit(new uL(t))}selectPage(t){if(pi.state.currentArtboardId!==t)return pi.dispatch(new Nf(t))}toggleHotspots(t){pi.commit(new pL(t)),this.trigger("hotspots-toggled",pi.state.hotspotsVisible)}getViewportPosition(){if(this.app){const t=this.app.$refs.player;if(t)return t.getViewportPosition()}return{viewportX:0,viewportY:0,viewportScrollLeft:0,viewportScrollTop:0,viewportScale:pi.state.scale}}scrollViewportToPosition(t){if(!this.app)return;const r=this.app.$refs.player;r&&r.$emit("scroll-to-position",t)}hide(){pi.commit(new cL)}show(){pi.commit(new hL)}}function yM(i,e){return i.type===ui.SetCurrentArtboard}const bM=Object.freeze(Object.defineProperty({__proto__:null,Events:fs,PlayerApp:vM},Symbol.toStringTag,{value:"Module"}));var ec=(i=>(i[i.Solid=1]="Solid",i[i.Gradient=2]="Gradient",i[i.Pattern=3]="Pattern",i))(ec||{}),Hw=(i=>(i[i.Run=0]="Run",i[i.Span=1]="Span",i))(Hw||{}),Ww=(i=>(i[i.None=0]="None",i[i.Repeat=1]="Repeat",i[i.RepeatX=2]="RepeatX",i[i.RepeatY=3]="RepeatY",i[i.StretchCover=4]="StretchCover",i[i.StretchContain=5]="StretchContain",i[i.Stretch=6]="Stretch",i))(Ww||{}),jw=(i=>(i[i.Blur=0]="Blur",i[i.Shadow=1]="Shadow",i))(jw||{}),tc=(i=>(i[i.Normal=0]="Normal",i[i.Oblique=1]="Oblique",i[i.Italic=2]="Italic",i))(tc||{}),qf=(i=>(i[i.Linear=0]="Linear",i[i.Radial=1]="Radial",i[i.Angular=2]="Angular",i))(qf||{}),yo=(i=>(i[i.Left=0]="Left",i[i.Center=1]="Center",i[i.Right=2]="Right",i[i.Justified=3]="Justified",i))(yo||{}),bo=(i=>(i[i.Layer=0]="Layer",i[i.Shape=1]="Shape",i[i.Artboard=2]="Artboard",i))(bo||{}),Vw=(i=>(i[i.Drop=0]="Drop",i[i.Inner=1]="Inner",i))(Vw||{}),Kf=(i=>(i[i.Rect=0]="Rect",i[i.Ellipse=1]="Ellipse",i[i.Path=2]="Path",i[i.Line=3]="Line",i[i.Image=4]="Image",i[i.Symbol=5]="Symbol",i))(Kf||{}),ic=(i=>(i[i.Inside=0]="Inside",i[i.Center=1]="Center",i[i.Outside=2]="Outside",i))(ic||{});function pn(i){return zr(i)||gn(i)||ir(i)}function Zf(i){return zr(i)||gn(i)}function gn(i){return i.itemType===bo.Layer}function ir(i){return i.itemType===bo.Shape}function rc(i){return gn(i)||ir(i)?!!i.isMask:!1}function Uw(i){if(!rc(i)||!i.maskedScene||i.maskedScene.items.length!==1||i.maskedScene.items[0].itemType!==bo.Shape)return!1;const e=i.maskedScene.items[0];return e.type===Kf.Image?!0:e.type!==Kf.Rect||e.backgroundFills.length!==1?!1:e.backgroundFills[0].type===ec.Pattern&&e.backgroundFills[0].patternFillType===Ww.None}function zr(i){return i.itemType===bo.Artboard}function wM(i){return i.type===ec.Solid}function SM(i){return i.type===ec.Gradient}function xM(i){return i.gradientType===qf.Radial}function OM(i){return i.gradientType===qf.Angular}function Xw(i){return i.type===Hw.Run}class CM{constructor(e){this.bundle=e}convert(e){const t=this.convertStyle(e);return{id:e.id,name:e.name,rect:this.convertRect(e),fills:t.fill?t.fill:[],assets:this.convertAssets(e),style:t}}convertFills(e,t){const r=[];let n=[];e instanceof Array?n=e:n.push(e);for(const s of n)if(s.enabled){if(wM(s))r.push(IM(s));else if(SM(s)){const o=RM(s,t);o&&r.push(o)}}return r}convertAssets(e){const t=this.bundle.assets,r=Object.keys(t),n=[];if(Uw(e)&&e.maskedScene)n.push(e.id),n.push(...e.maskedScene.items.map(a=>a.id));else{const a=l=>{gn(l)&&l.scene.items.forEach(a);for(const c of r)t[c].LayerId===l.id&&n.push(l.id)};a(e)}const o=TM(t,n).filter(EM).map(a=>this.toHandoffAsset(a));return kM(o,AM)}convertRect(e){if(!pn(e))return{location:{x:0,y:0},size:{width:0,height:0}};if(!zr(e)){const t=e.rect.size,r=(gn(e)?e.rotation:e.rotation||e.textRotation)||0,n=Math.abs(r)/180*Math.PI,s=Math.sqrt(t.height**2+t.width**2),o=Math.atan(t.width/t.height),a=s*Math.abs(Math.sin(o+n)),l=s*Math.abs(Math.cos(o-n)),c=e.rect.location.x-(a-t.width)/2,h=e.rect.location.y-(l-t.height)/2;return{location:{x:c,y:h},size:{width:a,height:l}}}return{location:{...e.rect.location},size:{...e.rect.size}}}convertStyle(e){return{...this.dimensions(e),...this.text(e),...this.borders(e),...this.fills(e),boxShadow:this.shadows(e),opacity:this.opacity(e)}}opacity(e){if(ir(e))return e.opacity}dimensions(e){if(!pn(e))return{};const t={};return t.width=e.rect.size.width,t.height=e.rect.size.height,zr(e)||(t.rotation=(gn(e)?e.rotation:e.rotation||e.textRotation)||0),t}text(e){let t={};if(!ir(e))return t;const{text:r}=e;if(!r)return{};const{paragraphs:n}=r;if(n.length===0)return t;const s=r.paragraphs[0];t={...t,lineSpacing:s.lineSpacing||"normal",horizontalAlignment:MM(s.horizontalAlignment)};let o=r.paragraphs.map(a=>a.inlines.map(l=>Xw(l)?l.text:"").join("")).join("");if(o=this.normalizeText(o),s.inlines.length>0){const a=s.inlines[0];Xw(a)&&(t={...t,fontName:a.family,fontSize:a.size,fontWeight:a.weight,fontStyle:BM(a.style),underline:a.underline,textColor:a.textColor,text:o,textShadow:this.shadows(e,!0),typeface:a.typeface,letterSpacing:a.characterSpacing})}return t}normalizeText(e){const t=new Map([["\u2028",`
`]]);let r=e;return t.forEach((n,s)=>{r=r.replace(new RegExp(s,"g"),n)}),r}fills(e){const t={};return zr(e)?e.backgroundShape?t.fill=this.convertFills(e.backgroundShape.backgroundFills,e.backgroundShape.rect):t.fill=this.convertFills(e.backgroundFill,e.rect):ir(e)&&(t.fill=this.convertFills(e.backgroundFills,e.rect)),t}borders(e){const t={};return ir(e)&&(t.borderRadius=e.corners?e.corners[0]:0,t.borderWidth=e.strokeThickness,e.strokes.length>0&&(t.borderAlignment=this.convertStrokeToBorderAlignment(e.strokes[0].alignment),t.borderFill=this.convertFills(e.strokes[0].fill,e.rect))),t}convertStrokeToBorderAlignment(e){switch(e){case ic.Inside:return ri.Inside;case ic.Center:return ri.Center;case ic.Outside:return ri.Outside;default:return ri.Inside}}shadows(e,t){return ir(e)?t?this.getShadows(e.textShadows):this.getShadows(e.effects):[]}getShadows(e){const t=[];for(const r of e)if(r.type===jw.Shadow){const n=r,s={on:n.enabled,offsetX:n.offset.x,offsetY:n.offset.y,blurRadius:n.blur,spreadRadius:n.spread,color:n.color,inner:n.shadowType===Vw.Inner};t.push(s)}return t}toHandoffAsset(e){return{url:this.getAssetUrl(e),layerId:e.LayerId,fileName:e.FileName,fileType:uc(e.FileName)||"undefined",originalFileName:e.OriginalFileName}}getAssetUrl(e){return this.bundle.assetsUrls[e.Id]}}function kM(i,e){const t=e(i);return Object.keys(t).map(r=>({name:r,assets:t[r]}))}function AM(i){return _M(i,e=>PM(e))}function _M(i,e){const t={};return i.reduce((r,n)=>{const s=e(n);return(r[s]=r[s]||[]).push(n),r},t)}function PM(i){return`${i.layerId}.${uc(i.fileName)}`}function EM({Type:i}){return i===On.Jpg||i===On.Png||i===On.Gif}function TM(i,e){const t=[],r=Array.isArray(e)?e:[e];for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const s=i[n];r.some(o=>ko(s.LayerId,o))&&t.push(s)}return t}function IM(i){return{color:i.color,type:Ht.Solid}}function RM(i,e){return xM(i)?$M(i,e):OM(i)?LM(i):DM(i)}function DM(i){const{from:e,to:t}=i,r=Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI+90,n=2,s=[];for(const o of i.stops)s.push({color:o.color,offset:Ve(o.offset*100,n)});return{type:Ht.Gradient,angle:r,stops:s}}function LM(i){const t=[];for(const r of i.stops)t.push({color:r.color,offset:Ve(r.offset,2)});return{type:Ht.Angular,angle:i.fromAngle,center:{x:Ve(i.from.x*100,2),y:Ve(i.from.y*100,2)},stops:t}}function $M(i,e){const n=e.size.width/e.size.height,{from:s,to:o}=i;let a,l;if(Math.abs(s.y-o.y)<.01)a=Math.abs(s.x-o.x),l=a*i.ellipseLength*n;else if(Math.abs(s.x-o.x)<.01)l=Math.abs(s.y-o.y),a=l*(i.ellipseLength/n);else return;const c=[];for(const h of i.stops)c.push({color:h.color,offset:Ve(h.offset*100,2)});return{type:Ht.Radial,axis1:Ve(a*100,2),axis2:Ve(l*100,2),center:{x:Ve(s.x*100,2),y:Ve(s.y*100,2)},stops:c}}function MM(i){switch(i){case yo.Left:return Dt.Left;case yo.Center:return Dt.Center;case yo.Right:return Dt.Right;case yo.Justified:return Dt.Justified;default:throw new Error(`Error ocurred while converting alignment, ${i}.`)}}function BM(i){switch(i){case tc.Normal:return xi.Normal;case tc.Italic:return xi.Italic;case tc.Oblique:return xi.Oblique;default:throw new Error(`Error ocurred while converting font style, ${i}.`)}}class NM extends Jy{constructor(t){super();A(this,"enableArtboardSelection",!1);this.scene=t,this.resetSceneLocationOrigin()}getShapesAtLocation(t){return this.getSceneItemsAtLocation(this.scene,t).reverse()}equalsItems(t,r){return pn(t)&&pn(r)&&this.areRectEquals(t.rect,r.rect)?super.equalsItems(t,r):!1}getParentByElement(t){return this.queryAxvg(r=>{let n=Zf(r)?r.scene:void 0;return!n&&rc(r)&&(n=r.maskedScene),zr(r)&&!this.enableArtboardSelection?!1:!!(n&&n.items.findIndex(s=>this.equalsItems(s,t))>=0)})[0]}queryAxvg(t){return Jf(this.scene,t)}resetSceneLocationOrigin(){for(const t of this.scene.items)pn(t)&&(t.rect.location={x:0,y:0})}getSceneItemsAtLocation(t,r){if(!t||!t.items||t.items.length===0)return[];const n=[];for(let s=0;s<t.items.length;s++){const o=t.items[s];if(pn(o)&&zM(o.rect,r))if(Uw(o))n.push(o);else if(rc(o)){if(n.push(o),o.maskedScene){const a=this.getSceneItemsAtLocation(o.maskedScene,r);n.push(...a)}}else if(!Zf(o))n.push(o);else{const a=this.getSceneItemsAtLocation(o.scene,r),l=!a||a.length===0;(this.enableArtboardSelection||!zr(o)||l)&&(zr(o)&&o.backgroundShape?n.push(o.backgroundShape):n.push(o)),n.push(...a)}}return n}areRectEquals(t,r){return t.location.x===r.location.x&&t.location.y===r.location.y&&t.size.width===r.size.width&&t.size.height===r.size.height}}function Jf(i,e){const t=[];for(const r of i.items){if(Zf(r)){const n=Jf(r.scene,e);for(const s of n)t.push(s)}if(rc(r)&&r.maskedScene){const n=Jf(r.maskedScene,e);for(const s of n)t.push(s)}e(r)&&t.push(r)}return t}function zM(i,e){const t=i.location,r=i.size;return e.x>=t.x&&e.y>=t.y&&e.x<=t.x+r.width&&e.y<=t.y+r.height}class FM{constructor(e){A(this,"converter");A(this,"sceneTraverser");A(this,"rootRect");this.bundle=e,this.converter=new CM(this.bundle)}setAxvg(e){this.rootRect=XM(e),this.sceneTraverser=new NM(e.scene)}inspect(e){if(!this.rootRect||!this.sceneTraverser)return;const t=this.divideSize(this.rootRect.size,e.clientRect),r=this.multiply(e.location,t),n=this.sceneTraverser.selectItem(r,!e.iterateLayers);if(!n)return;const s=this.axvgToHandoff(n),o=t.x,a=t.y,l=e.originalRect.width/e.clientRect.width,c=e.originalRect.height/e.clientRect.height,{rect:h}=s,u={location:{x:h.location.x/e.originalRect.width/o*l*100,y:h.location.y/e.originalRect.height/a*c*100},size:{width:h.size.width/e.originalRect.width/o*l*100,height:h.size.height/e.originalRect.height/a*c*100}};return{...s,selection:u}}setScale(){}getAllColors(){if(!this.sceneTraverser)return[];const e=[],t=this.sceneTraverser.queryAxvg(UM);for(const r of t)ir(r)&&e.push(...this.converter.convertFills(r.backgroundFills,r.rect));return e.filter(WM)}getAllAssets(){const e={all:[],byLayer:[]};if(!this.sceneTraverser)return e;const t=this.bundle.assets;let r=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const a=t[o];a.LayerId&&r.push(a.LayerId)}r=r.filter(HM);const n=o=>gn(o)?o.scene.items.some(n):r.some(a=>a===o.id),s=this.sceneTraverser.queryAxvg(n);for(const o of s){const a=this.converter.convertAssets(o);e.all.push(...a),e.byLayer.push({assets:a,name:o.name})}return e}axvgToHandoff(e){return this.converter.convert(e)}multiply(e,t){return{x:e.x*t.x,y:e.y*t.y}}divideSize(e,t){const r=e.width/t.width,n=e.height/t.height;return{x:r,y:n}}}function HM(i,e,t){return t.indexOf(i)===e}function WM(i,e,t){return t.findIndex(r=>jM(i,r))===e}function jM(i,e){return i.type!==e.type?!1:qo(i)&&qo(e)?VM(i.color,e.color):JSON.stringify(Ko(i))===JSON.stringify(Ko(e))}function VM(i,e){return i.a===e.a&&i.r===e.r&&i.g===e.g&&i.b===e.b}function UM(i){return ir(i)&&i.backgroundFills.length>0}function XM(i){const e={size:{height:0,width:0},location:{x:0,y:0}};if(i&&i.scene&&i.scene.items&&i.scene.items.length>0){const t=i.scene.items;for(const r of t)pn(r)&&(e.size={...r.rect.size})}return e}function GM(){return{mode:"expo",isProjectLoading:!1,isProjectLoaded:!1,lastModifiedDate:0,lastSavedDate:0,shortcut:"",resourceFolder:"",resourceAxureFolder:"",archiveMode:!1,platform:void 0,projectZoom:33,projectDimensions:{width:0,height:0},assets:{},assetsImages:{},assetsImagesThumbnails:{},artboards:{},artboardsOrder:[],selectedArtboards:{},lastSelectedArtboard:"",artboardHotspotOpenedMenu:{artboardId:"",actionId:""},masters:{},bgImgUrl:"",hasArtboards:!1,id:"",name:"",modifiedOn:void 0}}function QM(i){const e=GM();return e.isProjectLoading=!1,e.isProjectLoaded=!0,e.shortcut=i.project.ShortcutKey,e.platform=i.project.Platform,e.projectDimensions={height:i.project.Platform.Settings.Dimensions.Height,width:i.project.Platform.Settings.Dimensions.Width},e.assets=i.assets,e.assetsImages=i.images,e.assetsImagesThumbnails=i.thumbnails,e.artboards=i.artboards,e.artboardsOrder=Object.keys(i.artboards),e.masters=i.masters,e.bgImgUrl=i.bgImgLink,e.hasArtboards=e.artboardsOrder.length>0,e.id=i.project.Id,e.name=i.project.ProjectName,e}class YM{constructor(e){A(this,"standaloneMode");A(this,"topWindow",window);A(this,"currentPlayer",new EI);A(this,"clipFrameScroll",document.getElementById("clipFrameScroll"));A(this,"mainFrame",document.getElementById("mainFrame"));A(this,"mainFrameBody",this.mainFrame&&this.mainFrame.contentDocument&&this.mainFrame.contentDocument.body);A(this,"project");A(this,"player");A(this,"handoff");A(this,"viewer");A(this,"axvgMap",{});A(this,"inspectors",{});A(this,"bundle");A(this,"documentDidLoad",!1);A(this,"attachedToSitemapClose",!1);this.state=e,this.standaloneMode=!this.state.cloudMode}get $axExpo(){if(this.topWindow)return this.topWindow.$axExpo}get $axure(){if(this.topWindow)return this.topWindow.$axure}async start(){const e=this.mainFrameBody;if(e){this.viewer=new rI(this.state,$(e)),this.loadResources(e.ownerDocument&&e.ownerDocument.head||document.head);const t=await wn(()=>Promise.resolve().then(()=>bM),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.3a6a4a80.js",document.baseURI).href),r=new t.PlayerApp(e,{baseUrl:this.state.options.baseUrl,shortcut:this.state.options.shortcut,container:e,standaloneMode:this.standaloneMode,mode:"preview",isMobile:this.$axure?this.$axure.player.isMobileMode():!1});this.player=r,this.subscribeToEvents(),this.listenToPlayerEvents(),this.$axExpo&&(this.$axExpo.getViewportPosition=()=>r.getViewportPosition()),this.standaloneMode&&(this.project=await this.getProject(),this.render(this.project))}}listenToPlayerEvents(){this.player&&this.player.subscribe({[fs.PageChanged]:e=>{e&&e!==this.state.CurrentPage&&this.state.selectPage(e)},[fs.ViewportPositionChanged]:e=>{this.reportPositionChanged(e)},[fs.TripleTap]:()=>{if(this.$axure&&this.standaloneMode){const e=this.$axure;this.attachedToSitemapClose||($("#closeBackground").click(()=>{e.player.resizeContent()}),this.attachedToSitemapClose=!0),e.messageCenter.postMessage("tripleClick")}},[fs.HotspotsToggled]:e=>{this.$axure&&this.$axure.messageCenter.postMessage("highlightInteractive",e)}})}async render(e){this.project=e,this.currentPlayer.shortcutKey=e.shortcut,this.currentPlayer.project=e,this.currentPlayer.isLoaded=!0,this.currentPlayer.generatePrototypeAssets(),this.player&&this.player.setProject(e),this.documentDidLoad||(this.state.trigger(J.DocumentDidLoad,e),this.documentDidLoad=!0)}async reload(e){e&&this.player&&(this.project=e,this.player.setProject(e)),this.state.trigger(J.DocumentDidReload,this.project)}async addHandoff(){this.$axure&&this.viewer&&(this.handoff||(this.handoff=new Uy({$axure:this.$axure,state:this.state,viewer:this.viewer,inspector:()=>this.currentInspector()})))}showHandoff(){this.player&&this.player.hide(),this.handoff&&this.handoff.show()}hideHandoff(){this.handoff&&this.handoff.hide(),this.player&&this.player.show()}toggleHotspots(e){this.player&&this.player.toggleHotspots(e)}toggleComments(e){if(this.$axure&&this.$axure.player){const{player:t}=this.$axure;e!==void 0&&t.toggleComments&&t.toggleComments(e)}}isLoaded(){return!0}setAddToHistory(e){}prototypeGenerated(){}popHistory(){return null}setZoom(e){var t;(t=this.viewer)==null||t.zoomPage(e)}async getProject(){const{shortcut:e}=this.state.options,t=`${this.state.options.baseUrl}/expo/getfullproject/${e}`,r=await Ss(t);return QM(r.data)}loadResources(e){const t=[],r=document.querySelectorAll("link[href*=Expo]");for(const n of r)t.push(n.href);t.map(n=>Ho(n,e))}messageCenterEvent(e){if(e.message==="getScale"||e.message==="cloud_RefreshPageProperties"){if(this.player){const t=this.player.getViewportPosition();this.reportPositionChanged(t)}}else if(e.message==="cloud_ScrollToPin"){const t=e.data;this.player&&t&&t.position&&this.player.scrollViewportToPosition(t.position)}}reportPositionChanged(e){this.$axure&&!this.state.InspectorEnabled&&this.$axure.messageCenter.postMessage("cloud_ExpoPlayer_ViewportPositionChanged",e)}subscribeToEvents(){this.state.subscribe({[J.PageDidChange]:async e=>{this.player&&await this.player.selectPage(e)},[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.BundleSelected]:e=>this.bundleSelected(e)})}currentInspector(){if(this.bundle)return this.inspectors[this.bundle.artboard.Id]}async bundleSelected(e){if(this.bundle=e,!!this.handoff)try{const t=new FM(e);this.inspectors[e.artboard.Id]=t;const r=await this.getAssetAxvg(e);t.setAxvg(r),this.state.trigger(J.ArtboardColorsSet,t.getAllColors()),this.state.trigger(J.ArtboardAssetsSet,t.getAllAssets())}catch{}}async getAssetAxvg(e){const t=qM(e);if(!t)throw new Error("Axvg asset is missing");const r=t.Id,n=this.axvgMap[r];if(n&&!e.stale)return n;const s=e.assetsUrls[r];if(!s)throw new Error("Axvg asset is missing");const o=await Ss(s);return this.axvgMap[r]=o,this.axvgMap[r]}}function qM(i){const e=i.assets;if(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r.Type===On.Axvg)return r}}}const KM=Object.freeze(Object.defineProperty({__proto__:null,VueRenderer:YM},Symbol.toStringTag,{value:"Module"}));return m1});
